<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
      <span id="toggle-toc">Contents</span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
      <a href="index.html">Index</a>
      <a href="toc.html">Table of contents</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc" data-toc-offset="-40">
      <div id="js-toc-header" class="toc-header">Contents:</div>
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Embedding.EvalE</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab343"></a><h1 class="section">Interpreter for the λsmart langage</h1>

<div class="paragraph"> </div>

 This version of the interpreter supports polymorhic types 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Embedding</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Embedding.Ast.html#"><span class="id" title="library">Ast</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Utils.Env.html#"><span class="id" title="library">Env</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;we&nbsp;use&nbsp;definition&nbsp;of&nbsp;monads&nbsp;from&nbsp;Template&nbsp;Coq,<br/>
&nbsp;&nbsp;&nbsp;but&nbsp;(as&nbsp;actually&nbsp;comment&nbsp;in&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">monad_utils</span></span>&nbsp;says,&nbsp;we<br/>
&nbsp;&nbsp;&nbsp;should&nbsp;use&nbsp;a&nbsp;real&nbsp;monad&nbsp;library)&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;We&nbsp;need&nbsp;some&nbsp;definitions&nbsp;like&nbsp;<span class="inlinecode"><span class="id" title="keyword">All</span></span>&nbsp;from&nbsp;utils&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.html#"><span class="id" title="library">utils</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#MCMonadNotation"><span class="id" title="module">MCMonadNotation</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Common&nbsp;definitions&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="res" class="idref" href="#res"><span class="id" title="inductive">res</span></a> <a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> :=<br/>
| <a id="Ok" class="idref" href="#Ok"><span class="id" title="constructor">Ok</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#res:2"><span class="id" title="inductive">res</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#A:1"><span class="id" title="variable">A</span></a><br/>
| <a id="NotEnoughFuel" class="idref" href="#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#res:2"><span class="id" title="inductive">res</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#A:1"><span class="id" title="variable">A</span></a><br/>
| <a id="EvalError" class="idref" href="#EvalError"><span class="id" title="constructor">EvalError</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#res:2"><span class="id" title="inductive">res</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#A:1"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ConCert.Embedding.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> {<span class="id" title="var">_</span>}.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="res_monad" class="idref" href="#res_monad"><span class="id" title="instance">res_monad</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#Monad"><span class="id" title="class">Monad</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#res"><span class="id" title="inductive">res</span></a> :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> := @<a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#bind"><span class="id" title="method">bind</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a id="r:4" class="idref" href="#r:4"><span class="id" title="binder">r</span></a> <a id="f:5" class="idref" href="#f:5"><span class="id" title="binder">f</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#r:4"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#f:5"><span class="id" title="variable">f</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> }.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="res_map" class="idref" href="#res_map"><span class="id" title="definition">res_map</span></a> {<a id="A:7" class="idref" href="#A:7"><span class="id" title="binder">A</span></a> <a id="B:8" class="idref" href="#B:8"><span class="id" title="binder">B</span></a>} (<a id="f:9" class="idref" href="#f:9"><span class="id" title="binder">f</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#A:7"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#B:8"><span class="id" title="variable">B</span></a>) (<a id="r:10" class="idref" href="#r:10"><span class="id" title="binder">r</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#A:7"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ConCert.Embedding.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#B:8"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a id="v:11" class="idref" href="#v:11"><span class="id" title="binder">v</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#r:10"><span class="id" title="variable">r</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#v:11"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="option_to_res" class="idref" href="#option_to_res"><span class="id" title="definition">option_to_res</span></a> {<a id="A:12" class="idref" href="#A:12"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="o:13" class="idref" href="#o:13"><span class="id" title="binder">o</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#A:12"><span class="id" title="variable">A</span></a>) (<a id="msg:14" class="idref" href="#msg:14"><span class="id" title="binder">msg</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#o:13"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#msg:14"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="todo" class="idref" href="#todo"><span class="id" title="definition">todo</span></a> {<a id="A:16" class="idref" href="#A:16"><span class="id" title="binder">A</span></a>} := <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="ConCert.Embedding.EvalE.html#A:16"><span class="id" title="variable">A</span></a>) "Not implemented".<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#"><span class="id" title="module">Basics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">program_scope</span>.<br/>

<br/>
</div>

<div class="doc">
A type of labels to distinguish closures corresponding to lambdas and fixpoints 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="clos_mode" class="idref" href="#clos_mode"><span class="id" title="inductive">clos_mode</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a id="cmLam" class="idref" href="#cmLam"><span class="id" title="constructor">cmLam</span></a> | <a id="cmFix" class="idref" href="#cmFix"><span class="id" title="constructor">cmFix</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#clos_mode:17"><span class="id" title="inductive">clos_mode</span></a>.<br/>

<br/>
</div>

<div class="doc">
Values 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="val" class="idref" href="#val"><span class="id" title="inductive">val</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
| <a id="vConstr" class="idref" href="#vConstr"><span class="id" title="constructor">vConstr</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#inductive"><span class="id" title="definition">inductive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val:19"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val:19"><span class="id" title="inductive">val</span></a><br/>
| <a id="vClos" class="idref" href="#vClos"><span class="id" title="constructor">vClos</span></a>   : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val:19"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#clos_mode"><span class="id" title="inductive">clos_mode</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><span class="comment">(*&nbsp;type&nbsp;of&nbsp;the&nbsp;domain&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><span class="comment">(*&nbsp;type&nbsp;of&nbsp;the&nbsp;codomain&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val:19"><span class="id" title="inductive">val</span></a><br/>
| <a id="vTyClos" class="idref" href="#vTyClos"><span class="id" title="constructor">vTyClos</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val:19"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val:19"><span class="id" title="inductive">val</span></a><br/>
| <a id="vTy" class="idref" href="#vTy"><span class="id" title="constructor">vTy</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val:19"><span class="id" title="inductive">val</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="AllEnv" class="idref" href="#AllEnv"><span class="id" title="definition">AllEnv</span></a> {<a id="A:21" class="idref" href="#A:21"><span class="id" title="binder">A</span></a>} (<a id="P:22" class="idref" href="#P:22"><span class="id" title="binder">P</span></a>: <a class="idref" href="ConCert.Embedding.EvalE.html#A:21"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#A:21"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> := <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#P:22"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>).<br/>

<br/>
</div>

<div class="doc">
An induction principle that takes into account nested occurences of elements of <span class="inlinecode"><a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a></span> in the list of arguments of <span class="inlinecode"><a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a></span> and in the environment of <span class="inlinecode"><a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="val_ind_full" class="idref" href="#val_ind_full"><span class="id" title="definition">val_ind_full</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a id="P:23" class="idref" href="#P:23"><span class="id" title="binder">P</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="Hconstr:27" class="idref" href="#Hconstr:27"><span class="id" title="binder">Hconstr</span></a> : <span class="id" title="keyword">forall</span> (<a id="i:24" class="idref" href="#i:24"><span class="id" title="binder">i</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#inductive"><span class="id" title="definition">inductive</span></a>) (<a id="n:25" class="idref" href="#n:25"><span class="id" title="binder">n</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="l:26" class="idref" href="#l:26"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:23"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#l:26"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:23"><span class="id" title="variable">P</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#i:24"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:25"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#l:26"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<a id="Hclos:34" class="idref" href="#Hclos:34"><span class="id" title="binder">Hclos</span></a> : <span class="id" title="keyword">forall</span> (<a id="5530123bbc89ee36f295417b0dcb2472" class="idref" href="#5530123bbc89ee36f295417b0dcb2472"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="n:29" class="idref" href="#n:29"><span class="id" title="binder">n</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="cm:30" class="idref" href="#cm:30"><span class="id" title="binder">cm</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#clos_mode"><span class="id" title="inductive">clos_mode</span></a>) (<a id="ty1:31" class="idref" href="#ty1:31"><span class="id" title="binder">ty1</span></a> <a id="ty2:32" class="idref" href="#ty2:32"><span class="id" title="binder">ty2</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) (<a id="e0:33" class="idref" href="#e0:33"><span class="id" title="binder">e0</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:23"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#5530123bbc89ee36f295417b0dcb2472"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:23"><span class="id" title="variable">P</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#5530123bbc89ee36f295417b0dcb2472"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:29"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#cm:30"><span class="id" title="variable">cm</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty1:31"><span class="id" title="variable">ty1</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty2:32"><span class="id" title="variable">ty2</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#e0:33"><span class="id" title="variable">e0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<a id="Htyclos:38" class="idref" href="#Htyclos:38"><span class="id" title="binder">Htyclos</span></a> : <span class="id" title="keyword">forall</span> (<a id="cbad1151d35763fbfecea38c8aceb5b2" class="idref" href="#cbad1151d35763fbfecea38c8aceb5b2"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="n:36" class="idref" href="#n:36"><span class="id" title="binder">n</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="e0:37" class="idref" href="#e0:37"><span class="id" title="binder">e0</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:23"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#cbad1151d35763fbfecea38c8aceb5b2"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:23"><span class="id" title="variable">P</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTyClos"><span class="id" title="constructor">vTyClos</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#cbad1151d35763fbfecea38c8aceb5b2"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:36"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#e0:37"><span class="id" title="variable">e0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<a id="Hty:40" class="idref" href="#Hty:40"><span class="id" title="binder">Hty</span></a> : <span class="id" title="keyword">forall</span> (<a id="t:39" class="idref" href="#t:39"><span class="id" title="binder">t</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>), <a class="idref" href="ConCert.Embedding.EvalE.html#P:23"><span class="id" title="variable">P</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#t:39"><span class="id" title="variable">t</span></a>)) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:41" class="idref" href="#v:41"><span class="id" title="binder">v</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>, <a class="idref" href="ConCert.Embedding.EvalE.html#P:23"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#v:41"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">fix</span> <span class="id" title="var">val_ind_fix</span> (<a id="v:44" class="idref" href="#v:44"><span class="id" title="binder">v</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) := <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hconstr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hclos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Htyclos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hty</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
An elimination principle (on a predicate to <span class="inlinecode"><span class="id" title="keyword">Type</span></span>) that takes into account nested occurences of elements of <span class="inlinecode"><a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a></span>
   in the list of arguments of <span class="inlinecode"><a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a></span> and in the environment of <span class="inlinecode"><a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="val_elim_full" class="idref" href="#val_elim_full"><span class="id" title="definition">val_elim_full</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a id="P:46" class="idref" href="#P:46"><span class="id" title="binder">P</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="Hconstr:50" class="idref" href="#Hconstr:50"><span class="id" title="binder">Hconstr</span></a> : <span class="id" title="keyword">forall</span> (<a id="i:47" class="idref" href="#i:47"><span class="id" title="binder">i</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#inductive"><span class="id" title="definition">inductive</span></a>) (<a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="l:49" class="idref" href="#l:49"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>), <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:46"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#l:49"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:46"><span class="id" title="variable">P</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#i:47"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:48"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#l:49"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<a id="Hclos:57" class="idref" href="#Hclos:57"><span class="id" title="binder">Hclos</span></a> : <span class="id" title="keyword">forall</span> (<a id="1a8104f83f069b2ba75ca7b74d82f762" class="idref" href="#1a8104f83f069b2ba75ca7b74d82f762"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="n:52" class="idref" href="#n:52"><span class="id" title="binder">n</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="cm:53" class="idref" href="#cm:53"><span class="id" title="binder">cm</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#clos_mode"><span class="id" title="inductive">clos_mode</span></a>) (<a id="ty1:54" class="idref" href="#ty1:54"><span class="id" title="binder">ty1</span></a> <a id="ty2:55" class="idref" href="#ty2:55"><span class="id" title="binder">ty2</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) (<a id="e0:56" class="idref" href="#e0:56"><span class="id" title="binder">e0</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:46"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#1a8104f83f069b2ba75ca7b74d82f762"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:46"><span class="id" title="variable">P</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#1a8104f83f069b2ba75ca7b74d82f762"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#cm:53"><span class="id" title="variable">cm</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty1:54"><span class="id" title="variable">ty1</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty2:55"><span class="id" title="variable">ty2</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#e0:56"><span class="id" title="variable">e0</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htyclos:61" class="idref" href="#Htyclos:61"><span class="id" title="binder">Htyclos</span></a> : <span class="id" title="keyword">forall</span> (<a id="174137d975f32e0cb711bf0973d736ff" class="idref" href="#174137d975f32e0cb711bf0973d736ff"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="n:59" class="idref" href="#n:59"><span class="id" title="binder">n</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="e0:60" class="idref" href="#e0:60"><span class="id" title="binder">e0</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:46"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#174137d975f32e0cb711bf0973d736ff"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#P:46"><span class="id" title="variable">P</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTyClos"><span class="id" title="constructor">vTyClos</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#174137d975f32e0cb711bf0973d736ff"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:59"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#e0:60"><span class="id" title="variable">e0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<a id="Hty:63" class="idref" href="#Hty:63"><span class="id" title="binder">Hty</span></a> : <span class="id" title="keyword">forall</span> (<a id="t:62" class="idref" href="#t:62"><span class="id" title="binder">t</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>), <a class="idref" href="ConCert.Embedding.EvalE.html#P:46"><span class="id" title="variable">P</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#t:62"><span class="id" title="variable">t</span></a>)) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:64" class="idref" href="#v:64"><span class="id" title="binder">v</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>, <a class="idref" href="ConCert.Embedding.EvalE.html#P:46"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#v:64"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">fix</span> <span class="id" title="var">val_ind_fix</span> (<a id="v:67" class="idref" href="#v:67"><span class="id" title="binder">v</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) := <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hconstr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hclos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Htyclos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hty</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ind_name" class="idref" href="#ind_name"><span class="id" title="definition">ind_name</span></a> (<a id="v:69" class="idref" href="#v:69"><span class="id" title="binder">v</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#v:69"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind_ename</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ind_ename</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Very simple implementation of pattern-matching. Note that we do not match on parameters of constructors coming from parameterised inductives 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="match_pat" class="idref" href="#match_pat"><span class="id" title="definition">match_pat</span></a> {<a id="A:71" class="idref" href="#A:71"><span class="id" title="binder">A</span></a>} (<a id="cn:72" class="idref" href="#cn:72"><span class="id" title="binder">cn</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="nparam:73" class="idref" href="#nparam:73"><span class="id" title="binder">nparam</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="arity:74" class="idref" href="#arity:74"><span class="id" title="binder">arity</span></a> :<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="constr_args:75" class="idref" href="#constr_args:75"><span class="id" title="binder">constr_args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#A:71"><span class="id" title="variable">A</span></a>) (<a id="bs:76" class="idref" href="#bs:76"><span class="id" title="binder">bs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#pat"><span class="id" title="record">pat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>)) :=<br/>
&nbsp;&nbsp;<a id="pe:78" class="idref" href="#pe:78"><span class="id" title="binder">pe</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="x:77" class="idref" href="#x:77"><span class="id" title="binder">x</span></a> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#x:77"><span class="id" title="variable">x</span></a>).(<a class="idref" href="ConCert.Embedding.Ast.html#pName"><span class="id" title="projection">pName</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#cn:72"><span class="id" title="variable">cn</span></a>)%<span class="id" title="var">string</span> <a class="idref" href="ConCert.Embedding.EvalE.html#bs:76"><span class="id" title="variable">bs</span></a>) (<a class="idref" href="ConCert.Embedding.EvalE.html#cn:72"><span class="id" title="variable">cn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ": not found")<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="ConCert.Embedding.EvalE.html#pe:78"><span class="id" title="variable">pe</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ctr_len:80" class="idref" href="#ctr_len:80"><span class="id" title="binder">ctr_len</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#constr_args:75"><span class="id" title="variable">constr_args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pt_len:81" class="idref" href="#pt_len:81"><span class="id" title="binder">pt_len</span></a> := <a class="idref" href="ConCert.Embedding.EvalE.html#nparam:73"><span class="id" title="variable">nparam</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="arity_len:82" class="idref" href="#arity_len:82"><span class="id" title="binder">arity_len</span></a> := <a class="idref" href="ConCert.Embedding.EvalE.html#nparam:73"><span class="id" title="variable">nparam</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#arity:74"><span class="id" title="variable">arity</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ctr_len:80"><span class="id" title="variable">ctr_len</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#pt_len:81"><span class="id" title="variable">pt_len</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ctr_len:80"><span class="id" title="variable">ctr_len</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#arity_len:82"><span class="id" title="variable">arity_len</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE:&nbsp;first&nbsp;<span class="inlinecode"><span class="id" title="var">nparam</span></span>&nbsp;elements&nbsp;in&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">constr_args</span></span>&nbsp;are&nbsp;types,&nbsp;so&nbsp;we&nbsp;don't&nbsp;match&nbsp;them&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="args:83" class="idref" href="#args:83"><span class="id" title="binder">args</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#nparam:73"><span class="id" title="variable">nparam</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#constr_args:75"><span class="id" title="variable">constr_args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="assignments:84" class="idref" href="#assignments:84"><span class="id" title="binder">assignments</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>) <a class="idref" href="ConCert.Embedding.EvalE.html#args:83"><span class="id" title="variable">args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.EvalE.html#assignments:84"><span class="id" title="variable">assignments</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#cn:72"><span class="id" title="variable">cn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ": constructor arity does not match")<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#cn:72"><span class="id" title="variable">cn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ": pattern arity does not match (constructor: "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.bytestring.html#String.to_string"><span class="id" title="definition">String.to_string</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ctr_len:80"><span class="id" title="variable">ctr_len</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ",
                  pattern: " <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.bytestring.html#String.to_string"><span class="id" title="definition">String.to_string</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#pt_len:81"><span class="id" title="variable">pt_len</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ")").<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="inductive_name" class="idref" href="#inductive_name"><span class="id" title="definition">inductive_name</span></a> (<a id="ty:85" class="idref" href="#ty:85"><span class="id" title="binder">ty</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:85"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">nm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#inductive_name:86"><span class="id" title="definition">inductive_name</span></a> <span class="id" title="var">ty1</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Some machinery to substitute types during the evaluation. Although we don't care about the types the during evaluation, we need the types later. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="eval_type_i" class="idref" href="#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> (<a id="k:88" class="idref" href="#k:88"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="db54e547ce16a7ab4b1382db1c1ac1db" class="idref" href="#db54e547ce16a7ab4b1382db1c1ac1db"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="ty:90" class="idref" href="#ty:90"><span class="id" title="binder">ty</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:90"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:90"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ty</span> =&gt; <a id="ty':93" class="idref" href="#ty':93"><span class="id" title="binder">ty'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i:91"><span class="id" title="definition">eval_type_i</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.EvalE.html#k:88"><span class="id" title="variable">k</span></a>) <a class="idref" href="ConCert.Embedding.EvalE.html#db54e547ce16a7ab4b1382db1c1ac1db"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:90"><span class="id" title="variable">ty</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">);;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <a class="idref" href="ConCert.Embedding.EvalE.html#ty':93"><span class="id" title="variable">ty'</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty2':94" class="idref" href="#ty2':94"><span class="id" title="binder">ty2'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i:91"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#k:88"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#db54e547ce16a7ab4b1382db1c1ac1db"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty1':95" class="idref" href="#ty1':95"><span class="id" title="binder">ty1'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i:91"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#k:88"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#db54e547ce16a7ab4b1382db1c1ac1db"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty1':95"><span class="id" title="variable">ty1'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty1':95"><span class="id" title="variable">ty1'</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty2':94"><span class="id" title="variable">ty2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyVar"><span class="id" title="constructor">tyVar</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyRel"><span class="id" title="constructor">tyRel</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#k:88"><span class="id" title="variable">k</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#db54e547ce16a7ab4b1382db1c1ac1db"><span class="id" title="variable">ρ</span></a> (<span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="ConCert.Embedding.EvalE.html#k:88"><span class="id" title="variable">k</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:90"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty2':96" class="idref" href="#ty2':96"><span class="id" title="binder">ty2'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i:91"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#k:88"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#db54e547ce16a7ab4b1382db1c1ac1db"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty1':97" class="idref" href="#ty1':97"><span class="id" title="binder">ty1'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i:91"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#k:88"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#db54e547ce16a7ab4b1382db1c1ac1db"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty1':97"><span class="id" title="variable">ty1'</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty2':96"><span class="id" title="variable">ty2'</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The same as <span class="inlinecode"><a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a></span> but for named variables. NOTE: not up-to-date wrt. eval_type_i 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="eval_type_n" class="idref" href="#eval_type_n"><span class="id" title="definition">eval_type_n</span></a> (<a id="65aa6ecbd3e1beccbba75b6b7c168618" class="idref" href="#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="ty:99" class="idref" href="#ty:99"><span class="id" title="binder">ty</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:99"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:99"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ty</span> =&gt; <a id="ty':102" class="idref" href="#ty':102"><span class="id" title="binder">ty'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_n:100"><span class="id" title="definition">eval_type_n</span></a> (<a class="idref" href="ConCert.Utils.Env.html#remove_by_key"><span class="id" title="definition">remove_by_key</span></a> <span class="id" title="var">x</span> <a class="idref" href="ConCert.Embedding.EvalE.html#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="ConCert.Embedding.EvalE.html#ty:99"><span class="id" title="variable">ty</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <a class="idref" href="ConCert.Embedding.EvalE.html#ty':102"><span class="id" title="variable">ty'</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty2':103" class="idref" href="#ty2':103"><span class="id" title="binder">ty2'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_n:100"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty1':104" class="idref" href="#ty1':104"><span class="id" title="binder">ty1'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_n:100"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty1':104"><span class="id" title="variable">ty1'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty1':104"><span class="id" title="variable">ty1'</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty2':103"><span class="id" title="variable">ty2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyVar"><span class="id" title="constructor">tyVar</span></a> <span class="id" title="var">nm</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Utils.Env.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">nm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:99"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyRel"><span class="id" title="constructor">tyRel</span></a> <span class="id" title="var">i</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty2':105" class="idref" href="#ty2':105"><span class="id" title="binder">ty2'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_n:100"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty1':106" class="idref" href="#ty1':106"><span class="id" title="binder">ty1'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_n:100"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty1':106"><span class="id" title="variable">ty1'</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty2':105"><span class="id" title="variable">ty2'</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="eval_ty" class="idref" href="#eval_ty"><span class="id" title="definition">eval_ty</span></a> (<a id="enamed:107" class="idref" href="#enamed:107"><span class="id" title="binder">enamed</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="b278f1fb237401779cadd1233821a8e1" class="idref" href="#b278f1fb237401779cadd1233821a8e1"><span class="id" title="binder">ρ</span></a> <a id="ty:109" class="idref" href="#ty:109"><span class="id" title="binder">ty</span></a> <a id="err:110" class="idref" href="#err:110"><span class="id" title="binder">err</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:107"><span class="id" title="variable">enamed</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_n"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#b278f1fb237401779cadd1233821a8e1"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:109"><span class="id" title="variable">ty</span></a>) <a class="idref" href="ConCert.Embedding.EvalE.html#err:110"><span class="id" title="variable">err</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Embedding.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 <a class="idref" href="ConCert.Embedding.EvalE.html#b278f1fb237401779cadd1233821a8e1"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:109"><span class="id" title="variable">ty</span></a>) <a class="idref" href="ConCert.Embedding.EvalE.html#err:110"><span class="id" title="variable">err</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="print_type" class="idref" href="#print_type"><span class="id" title="definition">print_type</span></a> (<a id="ty:111" class="idref" href="#ty:111"><span class="id" title="binder">ty</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:111"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span> =&gt; "forall " <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#print_type:112"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x0</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span> =&gt; "(" <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#print_type:112"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " " <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#print_type:112"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyVar"><span class="id" title="constructor">tyVar</span></a> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyRel"><span class="id" title="constructor">tyRel</span></a> <span class="id" title="var">x</span> =&gt; "^" <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.bytestring.html#String.to_string"><span class="id" title="definition">String.to_string</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#print_type:112"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> "-&gt;" <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#print_type:112"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x0</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_type_val" class="idref" href="#is_type_val"><span class="id" title="definition">is_type_val</span></a> (<a id="v:114" class="idref" href="#v:114"><span class="id" title="binder">v</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#v:114"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="valid_ty_env" class="idref" href="#valid_ty_env"><span class="id" title="definition">valid_ty_env</span></a> (<a id="n:116" class="idref" href="#n:116"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="0feb2b71024bbe276f7aa91d8488aef3" class="idref" href="#0feb2b71024bbe276f7aa91d8488aef3"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="ty:118" class="idref" href="#ty:118"><span class="id" title="binder">ty</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#ty:118"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">v</span> <span class="id" title="var">ty0</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env:119"><span class="id" title="definition">valid_ty_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:116"><span class="id" title="variable">n</span></a>) <a class="idref" href="ConCert.Embedding.EvalE.html#0feb2b71024bbe276f7aa91d8488aef3"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty0</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env:119"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:116"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#0feb2b71024bbe276f7aa91d8488aef3"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env:119"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:116"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#0feb2b71024bbe276f7aa91d8488aef3"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyVar"><span class="id" title="constructor">tyVar</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyRel"><span class="id" title="constructor">tyRel</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:116"><span class="id" title="variable">n</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#0feb2b71024bbe276f7aa91d8488aef3"><span class="id" title="variable">ρ</span></a> (<span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="ConCert.Embedding.EvalE.html#n:116"><span class="id" title="variable">n</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#is_type_val"><span class="id" title="definition">is_type_val</span></a> <span class="id" title="var">e</span> <span class="comment">(*&nbsp;if&nbsp;there&nbsp;is&nbsp;somethig&nbsp;in&nbsp;<span class="inlinecode">ρ</span>,&nbsp;it&nbsp;must&nbsp;be&nbsp;a&nbsp;type&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="comment">(*&nbsp;if&nbsp;nothing&nbsp;there,&nbsp;that's&nbsp;ok&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env:119"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:116"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#0feb2b71024bbe276f7aa91d8488aef3"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env:119"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:116"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#0feb2b71024bbe276f7aa91d8488aef3"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="valid_env" class="idref" href="#valid_env"><span class="id" title="definition">valid_env</span></a> (<a id="3d0578051fbb5c32dd89df2d25597651" class="idref" href="#3d0578051fbb5c32dd89df2d25597651"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="keyword">rec</span> <a id="n:122" class="idref" href="#n:122"><span class="id" title="binder">n</span></a> <a id="e:123" class="idref" href="#e:123"><span class="id" title="binder">e</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#e:123"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eRel"><span class="id" title="constructor">eRel</span></a> <span class="id" title="var">i</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eVar"><span class="id" title="constructor">eVar</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#3d0578051fbb5c32dd89df2d25597651"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#rec:124"><span class="id" title="variable">rec</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a>) <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eTyLam"><span class="id" title="constructor">eTyLam</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#rec:124"><span class="id" title="variable">rec</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a>) <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eLetIn"><span class="id" title="constructor">eLetIn</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">e1</span> <span class="id" title="var">ty</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#rec:124"><span class="id" title="variable">rec</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <span class="id" title="var">e1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#3d0578051fbb5c32dd89df2d25597651"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#rec:124"><span class="id" title="variable">rec</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a>) <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#rec:124"><span class="id" title="variable">rec</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <span class="id" title="var">e1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#rec:124"><span class="id" title="variable">rec</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e'</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eConst"><span class="id" title="constructor">eConst</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eCase"><span class="id" title="constructor">eCase</span></a> <span class="id" title="var">nm_i</span> <span class="id" title="var">ty</span> <span class="id" title="var">e</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.bytestring.html#bs"><span class="id" title="definition">bs</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bs'':127" class="idref" href="#bs'':127"><span class="id" title="binder">bs''</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">List.forallb</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:126" class="idref" href="#x:126"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#rec:124"><span class="id" title="variable">rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#x:126"><span class="id" title="variable">x</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#x:126"><span class="id" title="variable">x</span></a>)) <span class="id" title="var">bs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#3d0578051fbb5c32dd89df2d25597651"><span class="id" title="variable">ρ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">nm_i</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#3d0578051fbb5c32dd89df2d25597651"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#rec:124"><span class="id" title="variable">rec</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#e:123"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#bs'':127"><span class="id" title="variable">bs''</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">v</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#3d0578051fbb5c32dd89df2d25597651"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#3d0578051fbb5c32dd89df2d25597651"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#rec:124"><span class="id" title="variable">rec</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a>) <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eTy"><span class="id" title="constructor">eTy</span></a> <span class="id" title="var">ty</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#valid_ty_env"><span class="id" title="definition">valid_ty_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#3d0578051fbb5c32dd89df2d25597651"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="validate" class="idref" href="#validate"><span class="id" title="definition">validate</span></a> (<a id="enamed:128" class="idref" href="#enamed:128"><span class="id" title="binder">enamed</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="033f31f1d7cef1d5e115153a204e4df7" class="idref" href="#033f31f1d7cef1d5e115153a204e4df7"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="n:130" class="idref" href="#n:130"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="e:131" class="idref" href="#e:131"><span class="id" title="binder">e</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) : <a class="idref" href="ConCert.Embedding.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:128"><span class="id" title="variable">enamed</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="comment">(*&nbsp;we&nbsp;validate&nbsp;only&nbsp;for&nbsp;the&nbsp;"indexed"&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#033f31f1d7cef1d5e115153a204e4df7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#n:130"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#e:131"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Invalid environment".<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="validate_branches" class="idref" href="#validate_branches"><span class="id" title="definition">validate_branches</span></a> (<a id="enamed:132" class="idref" href="#enamed:132"><span class="id" title="binder">enamed</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="7c4972473d88506b36ce15f5f03b3c68" class="idref" href="#7c4972473d88506b36ce15f5f03b3c68"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="es:134" class="idref" href="#es:134"><span class="id" title="binder">es</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#pat"><span class="id" title="record">pat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>)) : <a class="idref" href="ConCert.Embedding.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:132"><span class="id" title="variable">enamed</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="comment">(*&nbsp;we&nbsp;validate&nbsp;only&nbsp;for&nbsp;the&nbsp;"indexed"&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:135" class="idref" href="#x:135"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#7c4972473d88506b36ce15f5f03b3c68"><span class="id" title="variable">ρ</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#x:135"><span class="id" title="variable">x</span></a>).(<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#x:135"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.EvalE.html#es:134"><span class="id" title="variable">es</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Invalid environment".<br/>

<br/>
</div>

<div class="doc">
The interpreter works for both enamed and enameless representation of Oak expressions, depending on a parameter <span class="inlinecode"><span class="id" title="var">enamed</span></span>. Due to the potential non-termination of Oak programs, we define our interpreter using a fuel idiom: by structural recursion on an additional argument (a natural number). We keep types in during evaluation, because for the soundness theorem we would have to translate values back to expression and then further to MetaCoq terms. This requires us to keep all types in place. In addition to this interpreter, we plan to implement another one which computes on terms after erasure of typing information. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="expr_eval_general" class="idref" href="#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="enamed:136" class="idref" href="#enamed:136"><span class="id" title="binder">enamed</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="9e9733f8cc0a39ebf7cdff4c63de12e8" class="idref" href="#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="tactic">eval</span> <a id="fuel:138" class="idref" href="#fuel:138"><span class="id" title="binder">fuel</span></a> <a id="01812c69c442add780fe207a94ba7db4" class="idref" href="#01812c69c442add780fe207a94ba7db4"><span class="id" title="binder">ρ</span></a> <a id="e:140" class="idref" href="#e:140"><span class="id" title="binder">e</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#fuel:138"><span class="id" title="variable">fuel</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#e:140"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eRel"><span class="id" title="constructor">eRel</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Indices as variables are not supported"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Embedding.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">i</span>) ("var not found")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eVar"><span class="id" title="constructor">eVar</span></a> <span class="id" title="var">nm</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Utils.Env.html#559c605ca8348f0014b85b9b7673d984"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#559c605ca8348f0014b85b9b7673d984"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="ConCert.Utils.Env.html#559c605ca8348f0014b85b9b7673d984"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">nm</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " - var not found")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<span class="id" title="var">nm</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " variable found, but enamed variables are not supported")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty</span> <span class="id" title="var">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE:&nbsp;we&nbsp;pass&nbsp;the&nbsp;same&nbsp;type&nbsp;as&nbsp;the&nbsp;codomain&nbsp;type&nbsp;here<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(because&nbsp;it's&nbsp;not&nbsp;needed&nbsp;for&nbsp;lambda).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maybe&nbsp;separate&nbsp;constructors&nbsp;for&nbsp;lambda/fixpoint&nbsp;closures&nbsp;would&nbsp;be&nbsp;better?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty_v:144" class="idref" href="#ty_v:144"><span class="id" title="binder">ty_v</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_ty"><span class="id" title="definition">eval_ty</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span> "Type error"<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#validate"><span class="id" title="definition">validate</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> 1 <span class="id" title="var">b</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ad6f5869610c58e6b1cafcdf52bb7ae3"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">nm</span> <a class="idref" href="ConCert.Embedding.EvalE.html#cmLam"><span class="id" title="constructor">cmLam</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty_v:144"><span class="id" title="variable">ty_v</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty_v:144"><span class="id" title="variable">ty_v</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eLetIn"><span class="id" title="constructor">eLetIn</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">e1</span> <span class="id" title="var">ty</span> <span class="id" title="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="v:145" class="idref" href="#v:145"><span class="id" title="binder">v</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval:141"><span class="id" title="variable">eval</span></a> <span class="id" title="var">n</span> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty:146" class="idref" href="#ty:146"><span class="id" title="binder">ty</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_ty"><span class="id" title="definition">eval_ty</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span> "Type error"<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval:141"><span class="id" title="variable">eval</span></a> <span class="id" title="var">n</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#v:145"><span class="id" title="variable">v</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="v2:147" class="idref" href="#v2:147"><span class="id" title="binder">v2</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval:141"><span class="id" title="variable">eval</span></a> <span class="id" title="var">n</span> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e2</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="v1:148" class="idref" href="#v1:148"><span class="id" title="binder">v1</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval:141"><span class="id" title="variable">eval</span></a> <span class="id" title="var">n</span> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#v1:148"><span class="id" title="variable">v1</span></a>,<a class="idref" href="ConCert.Embedding.EvalE.html#v2:147"><span class="id" title="variable">v2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> ρ' <span class="id" title="var">nm</span> <a class="idref" href="ConCert.Embedding.EvalE.html#cmLam"><span class="id" title="constructor">cmLam</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span>, <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval:141"><span class="id" title="variable">eval</span></a> <span class="id" title="var">n</span> (ρ' <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v</span><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> ρ' <span class="id" title="var">nm</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixename</span>) <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span>, <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">v</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span> <span class="id" title="var">vs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="v_fix:152" class="idref" href="#v_fix:152"><span class="id" title="binder">v_fix</span></a> := (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> ρ' <span class="id" title="var">nm</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixename</span>) <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval:141"><span class="id" title="variable">eval</span></a> <span class="id" title="var">n</span> (ρ' <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">fixename</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#v_fix:152"><span class="id" title="variable">v_fix</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v</span><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Fix should be applied to an inductive"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vTyClos"><span class="id" title="constructor">vTyClos</span></a> ρ' <span class="id" title="var">nm</span> <span class="id" title="var">b</span>, <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval:141"><span class="id" title="variable">eval</span></a> <span class="id" title="var">n</span> (ρ' <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v</span><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">vs</span>, <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nparam</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">tys</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">vs</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">nparam</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="comment">(*&nbsp;constructor's&nbsp;arity*)</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app"><span class="id" title="abbreviation">List.app</span></a> <span class="id" title="var">vs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "eApp: constructor applied to too many args"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "eApp : No constructor or inductive found"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "eApp : not a constructor or closure"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "No constructor or inductive found"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eConst"><span class="id" title="constructor">eConst</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#todo"><span class="id" title="definition">todo</span></a> <span class="comment">(*&nbsp;we&nbsp;assume&nbsp;that&nbsp;all&nbsp;external&nbsp;references&nbsp;were&nbsp;resolved&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eCase"><span class="id" title="constructor">eCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">params</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">e</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.bytestring.html#bs"><span class="id" title="definition">bs</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#validate_branches"><span class="id" title="definition">validate_branches</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">bs</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ad6f5869610c58e6b1cafcdf52bb7ae3"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty_v:153" class="idref" href="#ty_v:153"><span class="id" title="binder">ty_v</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_ty"><span class="id" title="definition">eval_ty</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span> "Type Error"<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#monad_map"><span class="id" title="definition">monad_map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:154" class="idref" href="#x:154"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#eval_ty"><span class="id" title="definition">eval_ty</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#x:154"><span class="id" title="variable">x</span></a> "Type Error") <span class="id" title="var">params</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.EvalE.html#eval:141"><span class="id" title="variable">eval</span></a> <span class="id" title="var">n</span> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#e:140"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind'</span> <span class="id" title="var">c</span> <span class="id" title="var">vs</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ind'</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">ind'</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">nparams</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a><span class="id" title="var">ci</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">Nat.eqb</span></a> <span class="id" title="var">nparams</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">params</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="pm_res:155" class="idref" href="#pm_res:155"><span class="id" title="binder">pm_res</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#match_pat"><span class="id" title="definition">match_pat</span></a> <span class="id" title="var">c</span> <span class="id" title="var">nparams</span> <span class="id" title="var">ci</span> <span class="id" title="var">vs</span> <span class="id" title="var">bs</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">var_assign</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="ConCert.Embedding.EvalE.html#pm_res:155"><span class="id" title="variable">pm_res</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval:141"><span class="id" title="variable">eval</span></a> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app"><span class="id" title="abbreviation">List.app</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <span class="id" title="var">var_assign</span>) <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a>) <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Case: number of params doesn't match with the definition"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "No constructor or inductive found in the global environment"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> ("Expecting inductive " <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="var">ind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " but found " <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="var">ind'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span>) =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> ("Discriminee cannot be a type : " <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">ty</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Discriminee should evaluate to a constructor"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">v</span> =&gt; <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">fixename</span> <span class="id" title="var">vn</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#validate"><span class="id" title="definition">validate</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> 2 <span class="id" title="var">b</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ad6f5869610c58e6b1cafcdf52bb7ae3"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty_v1:157" class="idref" href="#ty_v1:157"><span class="id" title="binder">ty_v1</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_ty"><span class="id" title="definition">eval_ty</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span> "Type error"<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty_v2:158" class="idref" href="#ty_v2:158"><span class="id" title="binder">ty_v2</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_ty"><span class="id" title="definition">eval_ty</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span> "Type error"<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">vn</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixename</span>) <a class="idref" href="ConCert.Embedding.EvalE.html#ty_v1:157"><span class="id" title="variable">ty_v1</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty_v2:158"><span class="id" title="variable">ty_v2</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eTyLam"><span class="id" title="constructor">eTyLam</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#validate"><span class="id" title="definition">validate</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> 1 <a class="idref" href="ConCert.Embedding.EvalE.html#e:140"><span class="id" title="variable">e</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ad6f5869610c58e6b1cafcdf52bb7ae3"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTyClos"><span class="id" title="constructor">vTyClos</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">nm</span> <a class="idref" href="ConCert.Embedding.EvalE.html#e:140"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eTy"><span class="id" title="constructor">eTy</span></a> <span class="id" title="var">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="error:159" class="idref" href="#error:159"><span class="id" title="binder">error</span></a> := ("Error while evaluating type: " <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">ty</span>)%<span class="id" title="var">string</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ty':160" class="idref" href="#ty':160"><span class="id" title="binder">ty'</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#eval_ty"><span class="id" title="definition">eval_ty</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#enamed:136"><span class="id" title="variable">enamed</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#01812c69c442add780fe207a94ba7db4"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span> <a class="idref" href="ConCert.Embedding.EvalE.html#error:159"><span class="id" title="variable">error</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#ty':160"><span class="id" title="variable">ty'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="expr_eval_n" class="idref" href="#expr_eval_n"><span class="id" title="definition">expr_eval_n</span></a> := <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="expr_eval_i" class="idref" href="#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> := <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="https://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
      const mainDiv = document.getElementById("main");
      mainDiv.classList.add("jstoc-hidden-main");
      const toggleDiv = document.getElementById("toggle-toc");
      toggleDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
