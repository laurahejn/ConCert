<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
      <span id="toggle-toc">Contents</span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
      <a href="index.html">Index</a>
      <a href="toc.html">Table of contents</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc" data-toc-offset="-40">
      <div id="js-toc-header" class="toc-header">Contents:</div>
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Examples.BoardroomVoting.BoardroomVoting</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>. <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Znumtheory.html#"><span class="id" title="library">Znumtheory</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Permutation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Utils.Automation.html#"><span class="id" title="library">Automation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Utils.Extras.html#"><span class="id" title="library">Extras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Utils.RecordUpdate.html#"><span class="id" title="library">RecordUpdate</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Blockchain.html#"><span class="id" title="library">Blockchain</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Containers.html#"><span class="id" title="library">Containers</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Monad.html#"><span class="id" title="library">Monad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#"><span class="id" title="library">ResultMonad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Serializable.html#"><span class="id" title="library">Serializable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.ContractMonads.html#"><span class="id" title="library">ContractMonads</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#"><span class="id" title="library">ContractCommon</span></a>. <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap"><span class="id" title="module">AddressMap</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Examples.BoardroomVoting</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#"><span class="id" title="library">BoardroomMath</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="BoardroomParams" class="idref" href="#BoardroomParams"><span class="id" title="module">BoardroomParams</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="BoardroomParams.A" class="idref" href="#BoardroomParams.A"><span class="id" title="axiom">A</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="BoardroomParams.H" class="idref" href="#BoardroomParams.H"><span class="id" title="axiom">H</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="BoardroomParams.ser" class="idref" href="#BoardroomParams.ser"><span class="id" title="axiom">ser</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomParams.A"><span class="id" title="axiom">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="BoardroomParams.axioms" class="idref" href="#BoardroomParams.axioms"><span class="id" title="axiom">axioms</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#BoardroomAxioms"><span class="id" title="class">BoardroomAxioms</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomParams.A"><span class="id" title="axiom">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="BoardroomParams.gen" class="idref" href="#BoardroomParams.gen"><span class="id" title="axiom">gen</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#Generator"><span class="id" title="class">Generator</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomParams.axioms"><span class="id" title="axiom">axioms</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="BoardroomParams.discr_log" class="idref" href="#BoardroomParams.discr_log"><span class="id" title="axiom">discr_log</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#DiscreteLog"><span class="id" title="class">DiscreteLog</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomParams.axioms"><span class="id" title="axiom">axioms</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomParams.gen"><span class="id" title="axiom">gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="BoardroomParams.Base" class="idref" href="#BoardroomParams.Base"><span class="id" title="axiom">Base</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#ChainBase"><span class="id" title="class">ChainBase</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomParams"><span class="id" title="module">BoardroomParams</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="BoardroomVoting" class="idref" href="#BoardroomVoting"><span class="id" title="module">BoardroomVoting</span></a> (<span class="id" title="var">Params</span> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomParams"><span class="id" title="module">BoardroomParams</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params"><span class="id" title="module">Params</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">ser</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">axioms</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">gen</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">discr_log</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">Base</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Allow&nbsp;us&nbsp;to&nbsp;automatically&nbsp;derive&nbsp;Serializable&nbsp;instances&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Set</span> <span class="id" title="var">Nonrecursive</span> <span class="id" title="var">Elimination</span> <span class="id" title="var">Schemes</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="BoardroomVoting.Setup" class="idref" href="#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">build_setup</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.eligible_voters" class="idref" href="#BoardroomVoting.eligible_voters"><span class="id" title="projection">eligible_voters</span></a> : <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.AddrMap"><span class="id" title="abbreviation">AddrMap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.finish_registration_by" class="idref" href="#BoardroomVoting.finish_registration_by"><span class="id" title="projection">finish_registration_by</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.finish_commit_by" class="idref" href="#BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.finish_vote_by" class="idref" href="#BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.registration_deposit" class="idref" href="#BoardroomVoting.registration_deposit"><span class="id" title="projection">registration_deposit</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Amount"><span class="id" title="definition">Amount</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="BoardroomVoting.VoterInfo" class="idref" href="#BoardroomVoting.VoterInfo"><span class="id" title="record">VoterInfo</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">build_voter_info</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.voter_index" class="idref" href="#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.vote_hash" class="idref" href="#BoardroomVoting.vote_hash"><span class="id" title="projection">vote_hash</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.public_vote" class="idref" href="#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="BoardroomVoting.State" class="idref" href="#BoardroomVoting.State"><span class="id" title="record">State</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">build_state</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.owner" class="idref" href="#BoardroomVoting.owner"><span class="id" title="projection">owner</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.registered_voters" class="idref" href="#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> : <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.AddrMap"><span class="id" title="abbreviation">AddrMap</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.VoterInfo"><span class="id" title="record">VoterInfo</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.public_keys" class="idref" href="#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.setup" class="idref" href="#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.tally" class="idref" href="#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.Error" class="idref" href="#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.default_error" class="idref" href="#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> := 1%<span class="id" title="var">nat</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;w,&nbsp;a1,&nbsp;b1,&nbsp;a2,&nbsp;b2,&nbsp;d1,&nbsp;d2&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.VoteProof" class="idref" href="#BoardroomVoting.VoteProof"><span class="id" title="definition">VoteProof</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)%<span class="id" title="keyword">type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="BoardroomVoting.Msg" class="idref" href="#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;| <a id="BoardroomVoting.signup" class="idref" href="#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> (<a id="pk:26" class="idref" href="#pk:26"><span class="id" title="binder">pk</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) (<a id="proof:27" class="idref" href="#proof:27"><span class="id" title="binder">proof</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)<br/>
&nbsp;&nbsp;| <a id="BoardroomVoting.commit_to_vote" class="idref" href="#BoardroomVoting.commit_to_vote"><span class="id" title="constructor">commit_to_vote</span></a> (<a id="hash:28" class="idref" href="#hash:28"><span class="id" title="binder">hash</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>)<br/>
&nbsp;&nbsp;| <a id="BoardroomVoting.submit_vote" class="idref" href="#BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a> (<a id="v:29" class="idref" href="#v:29"><span class="id" title="binder">v</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) (<a id="proof:30" class="idref" href="#proof:30"><span class="id" title="binder">proof</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.VoteProof"><span class="id" title="definition">VoteProof</span></a>)<br/>
&nbsp;&nbsp;| <a id="BoardroomVoting.tally_votes" class="idref" href="#BoardroomVoting.tally_votes"><span class="id" title="constructor">tally_votes</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="BoardroomVoting.Serialization" class="idref" href="#BoardroomVoting.Serialization"><span class="id" title="section">Serialization</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="BoardroomVoting.Setup_serializable" class="idref" href="#BoardroomVoting.Setup_serializable"><span class="id" title="instance">Setup_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Derive</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Serializable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup_rect"><span class="id" title="definition">Setup_rect</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.build_setup"><span class="id" title="constructor">build_setup</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&gt;</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="BoardroomVoting.VoterInfo_serializable" class="idref" href="#BoardroomVoting.VoterInfo_serializable"><span class="id" title="instance">VoterInfo_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.VoterInfo"><span class="id" title="record">VoterInfo</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Derive</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Serializable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.VoterInfo_rect"><span class="id" title="definition">VoterInfo_rect</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">build_voter_info</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&gt;</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="BoardroomVoting.State_serializable" class="idref" href="#BoardroomVoting.State_serializable"><span class="id" title="instance">State_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Derive</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Serializable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State_rect"><span class="id" title="definition">State_rect</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.build_state"><span class="id" title="constructor">build_state</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&gt;</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="BoardroomVoting.Msg_serializable" class="idref" href="#BoardroomVoting.Msg_serializable"><span class="id" title="instance">Msg_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Derive</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Serializable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg_rect"><span class="id" title="definition">Msg_rect</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.commit_to_vote"><span class="id" title="constructor">commit_to_vote</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally_votes"><span class="id" title="constructor">tally_votes</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&gt;</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Serialization"><span class="id" title="section">Serialization</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">broom</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.encodeA" class="idref" href="#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.countable.html#encode"><span class="id" title="method">countable.encode</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.encodeNat" class="idref" href="#BoardroomVoting.encodeNat"><span class="id" title="definition">encodeNat</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.countable.html#encode"><span class="id" title="method">countable.encode</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.hash_sk_data" class="idref" href="#BoardroomVoting.hash_sk_data"><span class="id" title="definition">hash_sk_data</span></a> (<a id="gv:31" class="idref" href="#gv:31"><span class="id" title="binder">gv</span></a> <a id="pk:32" class="idref" href="#pk:32"><span class="id" title="binder">pk</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) (<a id="i:33" class="idref" href="#i:33"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.H"><span class="id" title="axiom">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#gv:31"><span class="id" title="variable">gv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:32"><span class="id" title="variable">pk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.encodeNat"><span class="id" title="definition">encodeNat</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:33"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;follows&nbsp;the&nbsp;original&nbsp;open&nbsp;vote&nbsp;protocol&nbsp;paper.&nbsp;It&nbsp;is&nbsp;a&nbsp;schnorr&nbsp;signature<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;fiat-shamir&nbsp;heuristic&nbsp;applied.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.secret_key_proof" class="idref" href="#BoardroomVoting.secret_key_proof"><span class="id" title="definition">secret_key_proof</span></a> (<a id="sk:34" class="idref" href="#sk:34"><span class="id" title="binder">sk</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="v:35" class="idref" href="#v:35"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="i:36" class="idref" href="#i:36"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="gv:37" class="idref" href="#gv:37"><span class="id" title="binder">gv</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:35"><span class="id" title="variable">v</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pk:38" class="idref" href="#pk:38"><span class="id" title="binder">pk</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:34"><span class="id" title="variable">sk</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="z:39" class="idref" href="#z:39"><span class="id" title="binder">z</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.hash_sk_data"><span class="id" title="definition">hash_sk_data</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#gv:37"><span class="id" title="variable">gv</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:38"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:36"><span class="id" title="variable">i</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="r:40" class="idref" href="#r:40"><span class="id" title="binder">r</span></a> := (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:35"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:34"><span class="id" title="variable">sk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#z:39"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#gv:37"><span class="id" title="variable">gv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:40"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.verify_secret_key_proof" class="idref" href="#BoardroomVoting.verify_secret_key_proof"><span class="id" title="definition">verify_secret_key_proof</span></a> (<a id="pk:41" class="idref" href="#pk:41"><span class="id" title="binder">pk</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) (<a id="i:42" class="idref" href="#i:42"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="proof:43" class="idref" href="#proof:43"><span class="id" title="binder">proof</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="gv:44" class="idref" href="#gv:44"><span class="id" title="binder">gv</span></a>, <a id="r:45" class="idref" href="#r:45"><span class="id" title="binder">r</span></a>) := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#proof:43"><span class="id" title="variable">proof</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="z:46" class="idref" href="#z:46"><span class="id" title="binder">z</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.hash_sk_data"><span class="id" title="definition">hash_sk_data</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#gv:44"><span class="id" title="variable">gv</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:41"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:42"><span class="id" title="variable">i</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb"><span class="id" title="method">elmeqb</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#gv:44"><span class="id" title="variable">gv</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:45"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:41"><span class="id" title="variable">pk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#z:46"><span class="id" title="variable">z</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">)</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.hash_sv_data" class="idref" href="#BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> (<a id="i:47" class="idref" href="#i:47"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="pk:48" class="idref" href="#pk:48"><span class="id" title="binder">pk</span></a> <a id="rk:49" class="idref" href="#rk:49"><span class="id" title="binder">rk</span></a> <a id="a1:50" class="idref" href="#a1:50"><span class="id" title="binder">a1</span></a> <a id="b1:51" class="idref" href="#b1:51"><span class="id" title="binder">b1</span></a> <a id="a2:52" class="idref" href="#a2:52"><span class="id" title="binder">a2</span></a> <a id="b2:53" class="idref" href="#b2:53"><span class="id" title="binder">b2</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.H"><span class="id" title="axiom">H</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.encodeNat"><span class="id" title="definition">encodeNat</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:47"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:48"><span class="id" title="variable">pk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:49"><span class="id" title="variable">rk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a1:50"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b1:51"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a2:52"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b2:53"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.secret_vote_proof" class="idref" href="#BoardroomVoting.secret_vote_proof"><span class="id" title="definition">secret_vote_proof</span></a> (<a id="sk:54" class="idref" href="#sk:54"><span class="id" title="binder">sk</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="rk:55" class="idref" href="#rk:55"><span class="id" title="binder">rk</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) (<a id="sv:56" class="idref" href="#sv:56"><span class="id" title="binder">sv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="i:57" class="idref" href="#i:57"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="w:58" class="idref" href="#w:58"><span class="id" title="binder">w</span></a> <a id="r:59" class="idref" href="#r:59"><span class="id" title="binder">r</span></a> <a id="d:60" class="idref" href="#d:60"><span class="id" title="binder">d</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.VoteProof"><span class="id" title="definition">VoteProof</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pk:61" class="idref" href="#pk:61"><span class="id" title="binder">pk</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:54"><span class="id" title="variable">sk</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pv:62" class="idref" href="#pv:62"><span class="id" title="binder">pv</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:55"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:54"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sv:56"><span class="id" title="variable">sv</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sv:56"><span class="id" title="variable">sv</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a1:70" class="idref" href="#a1:70"><span class="id" title="binder">a1</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:59"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:61"><span class="id" title="variable">pk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:60"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b1:71" class="idref" href="#b1:71"><span class="id" title="binder">b1</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:55"><span class="id" title="variable">rk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:59"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pv:62"><span class="id" title="variable">pv</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:60"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a2:72" class="idref" href="#a2:72"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:58"><span class="id" title="variable">w</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b2:73" class="idref" href="#b2:73"><span class="id" title="binder">b2</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:55"><span class="id" title="variable">rk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:58"><span class="id" title="variable">w</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c:74" class="idref" href="#c:74"><span class="id" title="binder">c</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:57"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:61"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:55"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a1:70"><span class="id" title="variable">a1</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b1:71"><span class="id" title="variable">b1</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a2:72"><span class="id" title="variable">a2</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b2:73"><span class="id" title="variable">b2</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d2:75" class="idref" href="#d2:75"><span class="id" title="binder">d2</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#c:74"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:60"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="r2:76" class="idref" href="#r2:76"><span class="id" title="binder">r2</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:58"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:54"><span class="id" title="variable">sk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d2:75"><span class="id" title="variable">d2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:58"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a1:70"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b1:71"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a2:72"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b2:73"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:60"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d2:75"><span class="id" title="variable">d2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:59"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r2:76"><span class="id" title="variable">r2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a1:63" class="idref" href="#a1:63"><span class="id" title="binder">a1</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:58"><span class="id" title="variable">w</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b1:64" class="idref" href="#b1:64"><span class="id" title="binder">b1</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:55"><span class="id" title="variable">rk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:58"><span class="id" title="variable">w</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a2:65" class="idref" href="#a2:65"><span class="id" title="binder">a2</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:59"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:61"><span class="id" title="variable">pk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:60"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b2:66" class="idref" href="#b2:66"><span class="id" title="binder">b2</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:55"><span class="id" title="variable">rk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:59"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pv:62"><span class="id" title="variable">pv</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#inv"><span class="id" title="method">inv</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">)^</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:60"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c:67" class="idref" href="#c:67"><span class="id" title="binder">c</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:57"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:61"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:55"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a1:63"><span class="id" title="variable">a1</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b1:64"><span class="id" title="variable">b1</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a2:65"><span class="id" title="variable">a2</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b2:66"><span class="id" title="variable">b2</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d1:68" class="idref" href="#d1:68"><span class="id" title="binder">d1</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#c:67"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:60"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="r1:69" class="idref" href="#r1:69"><span class="id" title="binder">r1</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:58"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:54"><span class="id" title="variable">sk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d1:68"><span class="id" title="variable">d1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:58"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a1:63"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b1:64"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a2:65"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#b2:66"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d1:68"><span class="id" title="variable">d1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:60"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r1:69"><span class="id" title="variable">r1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:59"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.verify_secret_vote_proof" class="idref" href="#BoardroomVoting.verify_secret_vote_proof"><span class="id" title="definition">verify_secret_vote_proof</span></a> (<a id="pk:77" class="idref" href="#pk:77"><span class="id" title="binder">pk</span></a> <a id="rk:78" class="idref" href="#rk:78"><span class="id" title="binder">rk</span></a> <a id="pv:79" class="idref" href="#pv:79"><span class="id" title="binder">pv</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) (<a id="i:80" class="idref" href="#i:80"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="proof:81" class="idref" href="#proof:81"><span class="id" title="binder">proof</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.VoteProof"><span class="id" title="definition">VoteProof</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#proof:81"><span class="id" title="variable">proof</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c:83" class="idref" href="#c:83"><span class="id" title="binder">c</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:80"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:77"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:78"><span class="id" title="variable">rk</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#c:83"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <span class="id" title="var">d1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">d2</span>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a1</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#c5a369b5388e8d103d7c2fa95ceac3b2"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">r1</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:77"><span class="id" title="variable">pk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">d1</span>)%<span class="id" title="var">broom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">b1</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#c5a369b5388e8d103d7c2fa95ceac3b2"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:78"><span class="id" title="variable">rk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">r1</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pv:79"><span class="id" title="variable">pv</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">d1</span>)%<span class="id" title="var">broom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a2</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#c5a369b5388e8d103d7c2fa95ceac3b2"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">r2</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:77"><span class="id" title="variable">pk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">d2</span>)%<span class="id" title="var">broom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">b2</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#c5a369b5388e8d103d7c2fa95ceac3b2"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:78"><span class="id" title="variable">rk</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">r2</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pv:79"><span class="id" title="variable">pv</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#inv"><span class="id" title="method">inv</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">)^</span></a><span class="id" title="var">d2</span>)%<span class="id" title="var">broom</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.make_signup_msg" class="idref" href="#BoardroomVoting.make_signup_msg"><span class="id" title="definition">make_signup_msg</span></a> (<a id="sk:84" class="idref" href="#sk:84"><span class="id" title="binder">sk</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="v:85" class="idref" href="#v:85"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="i:86" class="idref" href="#i:86"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:84"><span class="id" title="variable">sk</span></a>) (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.secret_key_proof"><span class="id" title="definition">secret_key_proof</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:84"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:85"><span class="id" title="variable">v</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:86"><span class="id" title="variable">i</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.make_commit_msg" class="idref" href="#BoardroomVoting.make_commit_msg"><span class="id" title="definition">make_commit_msg</span></a> (<a id="pks:87" class="idref" href="#pks:87"><span class="id" title="binder">pks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) (<a id="my_index:88" class="idref" href="#my_index:88"><span class="id" title="binder">my_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="sk:89" class="idref" href="#sk:89"><span class="id" title="binder">sk</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="sv:90" class="idref" href="#sv:90"><span class="id" title="binder">sv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pv:91" class="idref" href="#pv:91"><span class="id" title="binder">pv</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:87"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#my_index:88"><span class="id" title="variable">my_index</span></a>) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:89"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sv:90"><span class="id" title="variable">sv</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.commit_to_vote"><span class="id" title="constructor">commit_to_vote</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.H"><span class="id" title="axiom">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pv:91"><span class="id" title="variable">pv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.make_vote_msg" class="idref" href="#BoardroomVoting.make_vote_msg"><span class="id" title="definition">make_vote_msg</span></a> (<a id="pks:92" class="idref" href="#pks:92"><span class="id" title="binder">pks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) (<a id="my_index:93" class="idref" href="#my_index:93"><span class="id" title="binder">my_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="sk:94" class="idref" href="#sk:94"><span class="id" title="binder">sk</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="sv:95" class="idref" href="#sv:95"><span class="id" title="binder">sv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="w:96" class="idref" href="#w:96"><span class="id" title="binder">w</span></a> <a id="r:97" class="idref" href="#r:97"><span class="id" title="binder">r</span></a> <a id="d:98" class="idref" href="#d:98"><span class="id" title="binder">d</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="rk:99" class="idref" href="#rk:99"><span class="id" title="binder">rk</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:92"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#my_index:93"><span class="id" title="variable">my_index</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:99"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:94"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sv:95"><span class="id" title="variable">sv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.secret_vote_proof"><span class="id" title="definition">secret_vote_proof</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:94"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#rk:99"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sv:95"><span class="id" title="variable">sv</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#my_index:93"><span class="id" title="variable">my_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:96"><span class="id" title="variable">w</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:97"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:98"><span class="id" title="variable">d</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.assert_true_init" class="idref" href="#BoardroomVoting.assert_true_init"><span class="id" title="definition">assert_true_init</span></a> (<a id="check:100" class="idref" href="#check:100"><span class="id" title="binder">check</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="ConCert.Execution.ContractMonads.html#ContractIniter"><span class="id" title="definition">ContractIniter</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="T:101" class="idref" href="#T:101"><span class="id" title="binder">T</span></a> =&gt; <a class="idref" href="ConCert.Execution.ResultMonad.html#result"><span class="id" title="inductive">result</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#T:101"><span class="id" title="variable">T</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#check:100"><span class="id" title="variable">check</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Err"><span class="id" title="constructor">Err</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.assert_true" class="idref" href="#BoardroomVoting.assert_true"><span class="id" title="definition">assert_true</span></a> (<a id="check:102" class="idref" href="#check:102"><span class="id" title="binder">check</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="ConCert.Execution.ContractMonads.html#ContractReceiver"><span class="id" title="definition">ContractReceiver</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="T:103" class="idref" href="#T:103"><span class="id" title="binder">T</span></a> =&gt; <a class="idref" href="ConCert.Execution.ResultMonad.html#result"><span class="id" title="inductive">result</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#T:103"><span class="id" title="variable">T</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#check:102"><span class="id" title="variable">check</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Err"><span class="id" title="constructor">Err</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.assert_false" class="idref" href="#BoardroomVoting.assert_false"><span class="id" title="definition">assert_false</span></a> (<a id="check:104" class="idref" href="#check:104"><span class="id" title="binder">check</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="ConCert.Execution.ContractMonads.html#ContractReceiver"><span class="id" title="definition">ContractReceiver</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="T:105" class="idref" href="#T:105"><span class="id" title="binder">T</span></a> =&gt; <a class="idref" href="ConCert.Execution.ResultMonad.html#result"><span class="id" title="inductive">result</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#T:105"><span class="id" title="variable">T</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#check:104"><span class="id" title="variable">check</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Err"><span class="id" title="constructor">Err</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.assert_some" class="idref" href="#BoardroomVoting.assert_some"><span class="id" title="definition">assert_some</span></a> {<a id="A:106" class="idref" href="#A:106"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="check:107" class="idref" href="#check:107"><span class="id" title="binder">check</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#A:106"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ConCert.Execution.ContractMonads.html#ContractReceiver"><span class="id" title="definition">ContractReceiver</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="T:108" class="idref" href="#T:108"><span class="id" title="binder">T</span></a> =&gt; <a class="idref" href="ConCert.Execution.ResultMonad.html#result"><span class="id" title="inductive">result</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#T:108"><span class="id" title="variable">T</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#check:107"><span class="id" title="variable">check</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Err"><span class="id" title="constructor">Err</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.assert_none" class="idref" href="#BoardroomVoting.assert_none"><span class="id" title="definition">assert_none</span></a> {<a id="A:109" class="idref" href="#A:109"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="check:110" class="idref" href="#check:110"><span class="id" title="binder">check</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#A:109"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ConCert.Execution.ContractMonads.html#ContractReceiver"><span class="id" title="definition">ContractReceiver</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="T:111" class="idref" href="#T:111"><span class="id" title="binder">T</span></a> =&gt; <a class="idref" href="ConCert.Execution.ResultMonad.html#result"><span class="id" title="inductive">result</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#T:111"><span class="id" title="variable">T</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#check:110"><span class="id" title="variable">check</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Err"><span class="id" title="constructor">Err</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;A&nbsp;necessary&nbsp;aliasing&nbsp;to&nbsp;make&nbsp;extraction&nbsp;work&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.ContractIniterSetupState" class="idref" href="#BoardroomVoting.ContractIniterSetupState"><span class="id" title="definition">ContractIniterSetupState</span></a> := <a class="idref" href="ConCert.Execution.ContractMonads.html#ContractIniter"><span class="id" title="definition">ContractIniter</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.init" class="idref" href="#BoardroomVoting.init"><span class="id" title="definition">init</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.ContractIniterSetupState"><span class="id" title="definition">ContractIniterSetupState</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="owner:112" class="idref" href="#owner:112"><span class="id" title="binder">owner</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#caller_addr"><span class="id" title="definition">caller_addr</span></a><a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="setup:113" class="idref" href="#setup:113"><span class="id" title="binder">setup</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#deployment_setup"><span class="id" title="definition">deployment_setup</span></a><a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_true_init"><span class="id" title="definition">assert_true_init</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_registration_by"><span class="id" title="projection">finish_registration_by</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#setup:113"><span class="id" title="variable">setup</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#setup:113"><span class="id" title="variable">setup</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_deployment"><span class="id" title="definition">accept_deployment</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.owner"><span class="id" title="projection">owner</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#owner:112"><span class="id" title="variable">owner</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> := <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.empty"><span class="id" title="definition">AddressMap.empty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#setup:113"><span class="id" title="variable">setup</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.ContractReceiverStateMsgState" class="idref" href="#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> := <a class="idref" href="ConCert.Execution.ContractMonads.html#ContractReceiver"><span class="id" title="definition">ContractReceiver</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.handle_signup" class="idref" href="#BoardroomVoting.handle_signup"><span class="id" title="definition">handle_signup</span></a> <a id="pk:114" class="idref" href="#pk:114"><span class="id" title="binder">pk</span></a> <a id="prf:115" class="idref" href="#prf:115"><span class="id" title="binder">prf</span></a> <a id="state:116" class="idref" href="#state:116"><span class="id" title="binder">state</span></a> <a id="caller:117" class="idref" href="#caller:117"><span class="id" title="binder">caller</span></a> <a id="cur_slot:118" class="idref" href="#cur_slot:118"><span class="id" title="binder">cur_slot</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_false"><span class="id" title="definition">assert_false</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_registration_by"><span class="id" title="projection">finish_registration_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:116"><span class="id" title="variable">state</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cur_slot:118"><span class="id" title="variable">cur_slot</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_some"><span class="id" title="definition">assert_some</span></a> (<a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:117"><span class="id" title="variable">caller</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.eligible_voters"><span class="id" title="projection">eligible_voters</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:116"><span class="id" title="variable">state</span></a>)))<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_none"><span class="id" title="definition">assert_none</span></a> (<a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:117"><span class="id" title="variable">caller</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:116"><span class="id" title="variable">state</span></a>))<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="amt:119" class="idref" href="#amt:119"><span class="id" title="binder">amt</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#call_amount"><span class="id" title="definition">call_amount</span></a><a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_true"><span class="id" title="definition">assert_true</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#amt:119"><span class="id" title="variable">amt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registration_deposit"><span class="id" title="projection">registration_deposit</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:116"><span class="id" title="variable">state</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">Z</span><a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_true"><span class="id" title="definition">assert_true</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:116"><span class="id" title="variable">state</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#order"><span class="id" title="method">order</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 2)<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="index:120" class="idref" href="#index:120"><span class="id" title="binder">index</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:116"><span class="id" title="variable">state</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_true"><span class="id" title="definition">assert_true</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.verify_secret_key_proof"><span class="id" title="definition">verify_secret_key_proof</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:114"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#index:120"><span class="id" title="variable">index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#prf:115"><span class="id" title="variable">prf</span></a>)<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="inf:121" class="idref" href="#inf:121"><span class="id" title="binder">inf</span></a> := {| <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#index:120"><span class="id" title="variable">index</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.vote_hash"><span class="id" title="projection">vote_hash</span></a> := 1%<span class="id" title="var">positive</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#zero"><span class="id" title="method">zero</span></a>; |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="new_state:123" class="idref" href="#new_state:123"><span class="id" title="binder">new_state</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:116"><span class="id" title="variable">state</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">::=</span></a> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.add"><span class="id" title="definition">AddressMap.add</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:117"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:121"><span class="id" title="variable">inf</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">|&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">::=</span></a> <span class="id" title="keyword">fun</span> <a id="l:122" class="idref" href="#l:122"><span class="id" title="binder">l</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#l:122"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:114"><span class="id" title="variable">pk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">|&gt;</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_call"><span class="id" title="definition">accept_call</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#new_state:123"><span class="id" title="variable">new_state</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.handle_commit_to_vote" class="idref" href="#BoardroomVoting.handle_commit_to_vote"><span class="id" title="definition">handle_commit_to_vote</span></a> <a id="hash:124" class="idref" href="#hash:124"><span class="id" title="binder">hash</span></a> <a id="state:125" class="idref" href="#state:125"><span class="id" title="binder">state</span></a> <a id="caller:126" class="idref" href="#caller:126"><span class="id" title="binder">caller</span></a> <a id="cur_slot:127" class="idref" href="#cur_slot:127"><span class="id" title="binder">cur_slot</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="commit_by:128" class="idref" href="#commit_by:128"><span class="id" title="binder">commit_by</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> (<a class="idref" href="ConCert.Execution.ResultMonad.html#result_of_option"><span class="id" title="definition">result_of_option</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:125"><span class="id" title="variable">state</span></a>)) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a>)<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_false"><span class="id" title="definition">assert_false</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#commit_by:128"><span class="id" title="variable">commit_by</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cur_slot:127"><span class="id" title="variable">cur_slot</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="inf:129" class="idref" href="#inf:129"><span class="id" title="binder">inf</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> (<a class="idref" href="ConCert.Execution.ResultMonad.html#result_of_option"><span class="id" title="definition">result_of_option</span></a> (<a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:126"><span class="id" title="variable">caller</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:125"><span class="id" title="variable">state</span></a>)) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a>)<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="inf:130" class="idref" href="#inf:130"><span class="id" title="binder">inf</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:129"><span class="id" title="variable">inf</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.vote_hash"><span class="id" title="projection">vote_hash</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#hash:124"><span class="id" title="variable">hash</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">|&gt;</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_call"><span class="id" title="definition">accept_call</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:125"><span class="id" title="variable">state</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">::=</span></a> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.add"><span class="id" title="definition">AddressMap.add</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:126"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:130"><span class="id" title="variable">inf</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">|&gt;</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.handle_submit_vote" class="idref" href="#BoardroomVoting.handle_submit_vote"><span class="id" title="definition">handle_submit_vote</span></a> <a id="v:131" class="idref" href="#v:131"><span class="id" title="binder">v</span></a> <a id="proof:132" class="idref" href="#proof:132"><span class="id" title="binder">proof</span></a> <a id="state:133" class="idref" href="#state:133"><span class="id" title="binder">state</span></a> <a id="caller:134" class="idref" href="#caller:134"><span class="id" title="binder">caller</span></a> <a id="cur_slot:135" class="idref" href="#cur_slot:135"><span class="id" title="binder">cur_slot</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_false"><span class="id" title="definition">assert_false</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:133"><span class="id" title="variable">state</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cur_slot:135"><span class="id" title="variable">cur_slot</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="inf:136" class="idref" href="#inf:136"><span class="id" title="binder">inf</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> (<a class="idref" href="ConCert.Execution.ResultMonad.html#result_of_option"><span class="id" title="definition">result_of_option</span></a> (<a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:134"><span class="id" title="variable">caller</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:133"><span class="id" title="variable">state</span></a>)) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a>)<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> @<a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="T:137" class="idref" href="#T:137"><span class="id" title="binder">T</span></a> =&gt; <a class="idref" href="ConCert.Execution.ResultMonad.html#result"><span class="id" title="inductive">result</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#T:137"><span class="id" title="variable">T</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:133"><span class="id" title="variable">state</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.H"><span class="id" title="axiom">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:131"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.PArith.BinPos.html#73a7924686b773c85a4b58b44b86bc87"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.vote_hash"><span class="id" title="projection">vote_hash</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:136"><span class="id" title="variable">inf</span></a>)%<span class="id" title="var">positive</span> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Err"><span class="id" title="constructor">Err</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ResultMonad.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> @<a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="T:138" class="idref" href="#T:138"><span class="id" title="binder">T</span></a> =&gt; <a class="idref" href="ConCert.Execution.ResultMonad.html#result"><span class="id" title="inductive">result</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#T:138"><span class="id" title="variable">T</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.verify_secret_vote_proof"><span class="id" title="definition">verify_secret_vote_proof</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:136"><span class="id" title="variable">inf</span></a>) (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:133"><span class="id" title="variable">state</span></a>) 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:133"><span class="id" title="variable">state</span></a>) (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:136"><span class="id" title="variable">inf</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:131"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:136"><span class="id" title="variable">inf</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#proof:132"><span class="id" title="variable">proof</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#Err"><span class="id" title="constructor">Err</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a>)<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="inf:139" class="idref" href="#inf:139"><span class="id" title="binder">inf</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:136"><span class="id" title="variable">inf</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:131"><span class="id" title="variable">v</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">|&gt;</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_call"><span class="id" title="definition">accept_call</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:133"><span class="id" title="variable">state</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">::=</span></a> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.add"><span class="id" title="definition">AddressMap.add</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:134"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:139"><span class="id" title="variable">inf</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">|&gt;</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.handle_tally_votes" class="idref" href="#BoardroomVoting.handle_tally_votes"><span class="id" title="definition">handle_tally_votes</span></a> <a id="state:140" class="idref" href="#state:140"><span class="id" title="binder">state</span></a> <a id="cur_slot:141" class="idref" href="#cur_slot:141"><span class="id" title="binder">cur_slot</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_false"><span class="id" title="definition">assert_false</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cur_slot:141"><span class="id" title="variable">cur_slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:140"><span class="id" title="variable">state</span></a>))%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_none"><span class="id" title="definition">assert_none</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:140"><span class="id" title="variable">state</span></a>)<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="voters:142" class="idref" href="#voters:142"><span class="id" title="binder">voters</span></a> := <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.values"><span class="id" title="definition">AddressMap.values</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:140"><span class="id" title="variable">state</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.assert_false"><span class="id" title="definition">assert_false</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="vi:143" class="idref" href="#vi:143"><span class="id" title="binder">vi</span></a> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb"><span class="id" title="method">elmeqb</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#vi:143"><span class="id" title="variable">vi</span></a>) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#zero"><span class="id" title="method">zero</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#voters:142"><span class="id" title="variable">voters</span></a>)<a class="idref" href="ConCert.Execution.Monad.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="votes:144" class="idref" href="#votes:144"><span class="id" title="binder">votes</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#voters:142"><span class="id" title="variable">voters</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="res:146" class="idref" href="#res:146"><span class="id" title="binder">res</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> @<a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="T:145" class="idref" href="#T:145"><span class="id" title="binder">T</span></a> =&gt; <a class="idref" href="ConCert.Execution.ResultMonad.html#result"><span class="id" title="inductive">result</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#T:145"><span class="id" title="variable">T</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="ConCert.Execution.ResultMonad.html#result_of_option"><span class="id" title="definition">result_of_option</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#bruteforce_tally"><span class="id" title="definition">bruteforce_tally</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#votes:144"><span class="id" title="variable">votes</span></a>) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a>)<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_call"><span class="id" title="definition">accept_call</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:140"><span class="id" title="variable">state</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#res:146"><span class="id" title="variable">res</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">|&gt;</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.receive" class="idref" href="#BoardroomVoting.receive"><span class="id" title="definition">receive</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="state:147" class="idref" href="#state:147"><span class="id" title="binder">state</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#my_state"><span class="id" title="definition">my_state</span></a><a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="caller:148" class="idref" href="#caller:148"><span class="id" title="binder">caller</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#caller_addr"><span class="id" title="definition">caller_addr</span></a><a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="cur_slot:149" class="idref" href="#cur_slot:149"><span class="id" title="binder">cur_slot</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monad.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#current_slot"><span class="id" title="definition">current_slot</span></a><a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <a id="msg:150" class="idref" href="#msg:150"><span class="id" title="binder">msg</span></a> <a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#call_msg"><span class="id" title="definition">call_msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.default_error"><span class="id" title="definition">default_error</span></a><a class="idref" href="ConCert.Execution.Monad.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#msg:150"><span class="id" title="variable">msg</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> <span class="id" title="var">pk</span> <span class="id" title="var">prf</span> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.handle_signup"><span class="id" title="definition">handle_signup</span></a> <span class="id" title="var">pk</span> <span class="id" title="var">prf</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:147"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:148"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cur_slot:149"><span class="id" title="variable">cur_slot</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.commit_to_vote"><span class="id" title="constructor">commit_to_vote</span></a> <span class="id" title="var">hash</span> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.handle_commit_to_vote"><span class="id" title="definition">handle_commit_to_vote</span></a> <span class="id" title="var">hash</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:147"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:148"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cur_slot:149"><span class="id" title="variable">cur_slot</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a> <span class="id" title="var">v</span> <span class="id" title="var">proof</span> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.handle_submit_vote"><span class="id" title="definition">handle_submit_vote</span></a> <span class="id" title="var">v</span> <span class="id" title="var">proof</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:147"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caller:148"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cur_slot:149"><span class="id" title="variable">cur_slot</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally_votes"><span class="id" title="constructor">tally_votes</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.handle_tally_votes"><span class="id" title="definition">handle_tally_votes</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#state:147"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cur_slot:149"><span class="id" title="variable">cur_slot</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.boardroom_voting" class="idref" href="#BoardroomVoting.boardroom_voting"><span class="id" title="definition">boardroom_voting</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Contract"><span class="id" title="record">Contract</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Error"><span class="id" title="definition">Error</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#build_contract"><span class="id" title="definition">build_contract</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.init"><span class="id" title="definition">init</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.receive"><span class="id" title="definition">receive</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="BoardroomVoting.Theories" class="idref" href="#BoardroomVoting.Theories"><span class="id" title="section">Theories</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="BoardroomVoting.SecretVoterInfo" class="idref" href="#BoardroomVoting.SecretVoterInfo"><span class="id" title="record">SecretVoterInfo</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">build_secret_voter_info</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.svi_index" class="idref" href="#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Secret&nbsp;key&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.svi_sk" class="idref" href="#BoardroomVoting.svi_sk"><span class="id" title="projection">svi_sk</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Chosen&nbsp;randomness&nbsp;for&nbsp;knowledge&nbsp;of&nbsp;secret&nbsp;key&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.svi_sk_r" class="idref" href="#BoardroomVoting.svi_sk_r"><span class="id" title="projection">svi_sk_r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Secret&nbsp;vot&nbsp;e*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.svi_sv" class="idref" href="#BoardroomVoting.svi_sv"><span class="id" title="projection">svi_sv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Chosen&nbsp;random&nbsp;w&nbsp;for&nbsp;vote&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.svi_sv_w" class="idref" href="#BoardroomVoting.svi_sv_w"><span class="id" title="projection">svi_sv_w</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Chosen&nbsp;random&nbsp;r&nbsp;for&nbsp;vote&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.svi_sv_r" class="idref" href="#BoardroomVoting.svi_sv_r"><span class="id" title="projection">svi_sv_r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Chosen&nbsp;random&nbsp;d&nbsp;for&nbsp;vote&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="BoardroomVoting.svi_sv_d" class="idref" href="#BoardroomVoting.svi_sv_d"><span class="id" title="projection">svi_sv_d</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;correctness&nbsp;we&nbsp;assume&nbsp;that&nbsp;all&nbsp;signups&nbsp;and&nbsp;vote&nbsp;messages&nbsp;were<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;created&nbsp;using&nbsp;the&nbsp;make_signup_msg&nbsp;and&nbsp;make_vote_msg&nbsp;functions&nbsp;from<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;contract&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="BoardroomVoting.MsgAssumption" class="idref" href="#BoardroomVoting.MsgAssumption"><span class="id" title="definition">MsgAssumption</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pks:160" class="idref" href="#pks:160"><span class="id" title="binder">pks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="parties:161" class="idref" href="#parties:161"><span class="id" title="binder">parties</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.SecretVoterInfo"><span class="id" title="record">SecretVoterInfo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="calls:162" class="idref" href="#calls:162"><span class="id" title="binder">calls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ContractCallInfo"><span class="id" title="record">ContractCallInfo</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a>)) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#calls:162"><span class="id" title="variable">calls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">call</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">calls</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="party:165" class="idref" href="#party:165"><span class="id" title="binder">party</span></a> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:161"><span class="id" title="variable">parties</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#call_from"><span class="id" title="projection">Blockchain.call_from</span></a> <span class="id" title="var">call</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Blockchain.html#call_msg"><span class="id" title="projection">Blockchain.call_msg</span></a> <span class="id" title="var">call</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> <span class="id" title="var">pk</span> <span class="id" title="var">prf</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m</span>) =&gt; <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.make_signup_msg"><span class="id" title="definition">make_signup_msg</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sk"><span class="id" title="projection">svi_sk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:165"><span class="id" title="variable">party</span></a>) (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sk_r"><span class="id" title="projection">svi_sk_r</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:165"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:165"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.make_vote_msg"><span class="id" title="definition">make_vote_msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:160"><span class="id" title="variable">pks</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:165"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sk"><span class="id" title="projection">svi_sk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:165"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sv"><span class="id" title="projection">svi_sv</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:165"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sv_w"><span class="id" title="projection">svi_sv_w</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:165"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sv_r"><span class="id" title="projection">svi_sv_r</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:165"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sv_d"><span class="id" title="projection">svi_sv_d</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:165"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#MsgAssumption:163"><span class="id" title="definition">MsgAssumption</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:160"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:161"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#calls:162"><span class="id" title="variable">calls</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.signups" class="idref" href="#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> (<a id="calls:166" class="idref" href="#calls:166"><span class="id" title="binder">calls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ContractCallInfo"><span class="id" title="record">ContractCallInfo</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;reverse&nbsp;the&nbsp;signups&nbsp;since&nbsp;the&nbsp;calls&nbsp;will&nbsp;have&nbsp;the&nbsp;last&nbsp;one&nbsp;at&nbsp;the&nbsp;head&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="ConCert.Utils.Extras.html#map_option"><span class="id" title="definition">map_option</span></a> (<span class="id" title="keyword">fun</span> <a id="call:167" class="idref" href="#call:167"><span class="id" title="binder">call</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Blockchain.html#call_msg"><span class="id" title="projection">Blockchain.call_msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#call:167"><span class="id" title="variable">call</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> <span class="id" title="var">pk</span> <span class="id" title="var">prf</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#call_from"><span class="id" title="projection">Blockchain.call_from</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#call:167"><span class="id" title="variable">call</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">pk</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#calls:166"><span class="id" title="variable">calls</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;index&nbsp;map&nbsp;and&nbsp;public&nbsp;keys&nbsp;list&nbsp;provided&nbsp;also&nbsp;needs&nbsp;to&nbsp;match&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order&nbsp;in&nbsp;which&nbsp;parties&nbsp;signed&nbsp;up&nbsp;in&nbsp;the&nbsp;contract.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.SignupOrderAssumption" class="idref" href="#BoardroomVoting.SignupOrderAssumption"><span class="id" title="definition">SignupOrderAssumption</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pks:168" class="idref" href="#pks:168"><span class="id" title="binder">pks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="parties:169" class="idref" href="#parties:169"><span class="id" title="binder">parties</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.SecretVoterInfo"><span class="id" title="record">SecretVoterInfo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="calls:170" class="idref" href="#calls:170"><span class="id" title="binder">calls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ContractCallInfo"><span class="id" title="record">ContractCallInfo</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a>)) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Utils.Extras.html#All"><span class="id" title="definition">All</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:174" class="idref" href="#pat:174"><span class="id" title="binder">((</span></a><a id="pat:174" class="idref" href="#pat:174"><span class="id" title="binder">addr</span></a><a id="pat:174" class="idref" href="#pat:174"><span class="id" title="binder">,</span></a> <a id="pat:174" class="idref" href="#pat:174"><span class="id" title="binder">pk</span></a><a id="pat:174" class="idref" href="#pat:174"><span class="id" title="binder">),</span></a> <a id="pat:174" class="idref" href="#pat:174"><span class="id" title="binder">i</span></a><a id="pat:174" class="idref" href="#pat:174"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:169"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#addr:173"><span class="id" title="variable">addr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:171"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:168"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:171"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:172"><span class="id" title="variable">pk</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Utils.Extras.html#zip"><span class="id" title="definition">zip</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#calls:170"><span class="id" title="variable">calls</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#calls:170"><span class="id" title="variable">calls</span></a>)))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="BoardroomVoting.no_outgoing" class="idref" href="#BoardroomVoting.no_outgoing"><span class="id" title="lemma">no_outgoing</span></a> <a id="bstate:175" class="idref" href="#bstate:175"><span class="id" title="binder">bstate</span></a> <a id="caddr:176" class="idref" href="#caddr:176"><span class="id" title="binder">caddr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#reachable"><span class="id" title="definition">reachable</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:175"><span class="id" title="variable">bstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#env_contracts"><span class="id" title="projection">env_contracts</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:175"><span class="id" title="variable">bstate</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:176"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.boardroom_voting"><span class="id" title="definition">boardroom_voting</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#WeakContract"><span class="id" title="inductive">WeakContract</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#outgoing_acts"><span class="id" title="definition">outgoing_acts</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:175"><span class="id" title="variable">bstate</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:176"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#lift_outgoing_acts_nil"><span class="id" title="lemma">lift_outgoing_acts_nil</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.boardroom_voting"><span class="id" title="definition">boardroom_voting</span></a>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">msg</span>|]; <span class="id" title="var">cbn</span> -[<span class="id" title="var">Nat.ltb</span>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">Z</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">Z</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.verify_secret_key_proof"><span class="id" title="definition">verify_secret_key_proof</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> -[<span class="id" title="var">Nat.ltb</span>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">_</span> <span class="id" title="keyword">else</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.verify_secret_vote_proof"><span class="id" title="definition">verify_secret_vote_proof</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#bruteforce_tally"><span class="id" title="definition">bruteforce_tally</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="BoardroomVoting.Permutation_modify" class="idref" href="#BoardroomVoting.Permutation_modify"><span class="id" title="lemma">Permutation_modify</span></a> <a id="k:177" class="idref" href="#k:177"><span class="id" title="binder">k</span></a> <a id="vold:178" class="idref" href="#vold:178"><span class="id" title="binder">vold</span></a> <a id="vnew:179" class="idref" href="#vnew:179"><span class="id" title="binder">vnew</span></a> (<a id="m:180" class="idref" href="#m:180"><span class="id" title="binder">m</span></a> : <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.AddrMap"><span class="id" title="abbreviation">AddrMap</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.VoterInfo"><span class="id" title="record">VoterInfo</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Containers.html#FMap.find"><span class="id" title="abbreviation">FMap.find</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#k:177"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#m:180"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#vold:178"><span class="id" title="variable">vold</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#vold:178"><span class="id" title="variable">vold</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#vnew:179"><span class="id" title="variable">vnew</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">(</span></a><a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">_</span></a><a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">,</span></a> <a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">v</span></a><a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:181"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#m:180"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="ConCert.Execution.Containers.html#FMap.size"><span class="id" title="abbreviation">FMap.size</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#m:180"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">(</span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">_</span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">,</span></a> <a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">v0</span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v0:183"><span class="id" title="variable">v0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.add"><span class="id" title="abbreviation">FMap.add</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#k:177"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#vnew:179"><span class="id" title="variable">vnew</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#m:180"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="ConCert.Execution.Containers.html#FMap.size"><span class="id" title="abbreviation">FMap.size</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#m:180"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">find_some</span> <span class="id" title="var">index</span> <span class="id" title="var">old_perm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">old_perm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ConCert.Execution.Containers.html#FMap.add_id"><span class="id" title="lemma">FMap.add_id</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">find_some</span>) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ConCert.Execution.Containers.html#FMap.add_remove"><span class="id" title="lemma">FMap.add_remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">vold</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.elements_add_existing"><span class="id" title="lemma">FMap.elements_add_existing</span></a> <span class="id" title="var">k</span> <span class="id" title="var">vold</span> <span class="id" title="var">vnew</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements_add"><span class="id" title="lemma">FMap.elements_add</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">index</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="BoardroomVoting.all_signups" class="idref" href="#BoardroomVoting.all_signups"><span class="id" title="lemma">all_signups</span></a> <a id="pks:185" class="idref" href="#pks:185"><span class="id" title="binder">pks</span></a> <a id="parties:186" class="idref" href="#parties:186"><span class="id" title="binder">parties</span></a> <a id="calls:187" class="idref" href="#calls:187"><span class="id" title="binder">calls</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.SignupOrderAssumption"><span class="id" title="definition">SignupOrderAssumption</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:185"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:186"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#calls:187"><span class="id" title="variable">calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#calls:187"><span class="id" title="variable">calls</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:185"><span class="id" title="variable">pks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#calls:187"><span class="id" title="variable">calls</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:185"><span class="id" title="variable">pks</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">order</span> <span class="id" title="var">len_signups</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.SignupOrderAssumption"><span class="id" title="definition">SignupOrderAssumption</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">parties</span> <span class="id" title="var">pks</span> <span class="id" title="var">len_signups</span> <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <span class="id" title="var">calls</span>) <span class="id" title="keyword">as</span> [|[<span class="id" title="var">addr</span> <span class="id" title="var">pk</span>] <span class="id" title="var">xs</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">parties</span> <span class="id" title="var">pks</span> <span class="id" title="var">len_signups</span> <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">pks</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pks</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">pk'</span> <span class="id" title="var">pks</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">order</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">index_eq</span> <span class="id" title="var">nth_eq</span>] <span class="id" title="var">all</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IH</span> (<span class="id" title="keyword">fun</span> <a id="addr:190" class="idref" href="#addr:190"><span class="id" title="binder">addr</span></a> =&gt; <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">(</span></a><span class="id" title="var">parties</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#addr:188"><span class="id" title="variable">addr</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">)&lt;|</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">::=</span></a> <span class="id" title="keyword">fun</span> <a id="i:191" class="idref" href="#i:191"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:189"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">|&gt;</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">map_id</span></a> <span class="id" title="var">xs</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">all</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#seq_shift"><span class="id" title="lemma">seq_shift</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Utils.Extras.html#zip_map"><span class="id" title="lemma">zip_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Utils.Extras.html#All_map"><span class="id" title="lemma">All_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ConCert.Utils.Extras.html#All_ext_in"><span class="id" title="lemma">All_ext_in</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">all</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>, <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">broom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="BoardroomVoting.elmeqb_eq" class="idref" href="#BoardroomVoting.elmeqb_eq"><span class="id" title="lemma">elmeqb_eq</span></a> (<a id="a:192" class="idref" href="#a:192"><span class="id" title="binder">a</span></a> <a id="a':193" class="idref" href="#a':193"><span class="id" title="binder">a'</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#c5a369b5388e8d103d7c2fa95ceac3b2"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a':193"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#77b1a15d6ea1ec69de9702db0c6a843b"><span class="id" title="notation">==</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a':193"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb_spec"><span class="id" title="method">elmeqb_spec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>); [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pow_nonzero</span> <span class="id" title="var">generator_nonzero</span> <span class="id" title="var">int_domain</span> <span class="id" title="var">generator_nonzero</span> <span class="id" title="var">compute_public_key_unit</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reconstructed_key_unit</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">broom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="BoardroomVoting.verify_secret_key_proof_spec" class="idref" href="#BoardroomVoting.verify_secret_key_proof_spec"><span class="id" title="lemma">verify_secret_key_proof_spec</span></a> <a id="sk:194" class="idref" href="#sk:194"><span class="id" title="binder">sk</span></a> <a id="v:195" class="idref" href="#v:195"><span class="id" title="binder">v</span></a> <a id="i:196" class="idref" href="#i:196"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.verify_secret_key_proof"><span class="id" title="definition">verify_secret_key_proof</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:194"><span class="id" title="variable">sk</span></a>) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:196"><span class="id" title="variable">i</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.secret_key_proof"><span class="id" title="definition">secret_key_proof</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:194"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:195"><span class="id" title="variable">v</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:196"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.elmeqb_eq"><span class="id" title="lemma">elmeqb_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#log_both"><span class="id" title="lemma">log_both</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#log_pow"><span class="id" title="lemma">log_pow</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#log_mul"><span class="id" title="method">log_mul</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> "exp=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#order"><span class="id" title="method">order</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#order_ge_2"><span class="id" title="method">order_ge_2</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.add_mod"><span class="id" title="lemma">Z.add_mod</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#log_pow"><span class="id" title="lemma">log_pow</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#log_generator"><span class="id" title="method">log_generator</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.mul_1_r"><span class="id" title="lemma">Z.mul_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.mul_mod_idemp_r"><span class="id" title="lemma">Z.mul_mod_idemp_r</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#log_pow"><span class="id" title="lemma">log_pow</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#log_generator"><span class="id" title="method">log_generator</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.mul_1_r"><span class="id" title="lemma">Z.mul_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.mul_mod_idemp_r"><span class="id" title="lemma">Z.mul_mod_idemp_r</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.add_mod"><span class="id" title="lemma">Z.add_mod</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="BoardroomVoting.verify_secret_vote_proof_spec" class="idref" href="#BoardroomVoting.verify_secret_vote_proof_spec"><span class="id" title="lemma">verify_secret_vote_proof_spec</span></a> <a id="sk:197" class="idref" href="#sk:197"><span class="id" title="binder">sk</span></a> <a id="pks:198" class="idref" href="#pks:198"><span class="id" title="binder">pks</span></a> <a id="sv:199" class="idref" href="#sv:199"><span class="id" title="binder">sv</span></a> <a id="i:200" class="idref" href="#i:200"><span class="id" title="binder">i</span></a> <a id="w:201" class="idref" href="#w:201"><span class="id" title="binder">w</span></a> <a id="r:202" class="idref" href="#r:202"><span class="id" title="binder">r</span></a> <a id="d:203" class="idref" href="#d:203"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Utils.Extras.html#All"><span class="id" title="definition">All</span></a> (<span class="id" title="keyword">fun</span> <a id="pk:204" class="idref" href="#pk:204"><span class="id" title="binder">pk</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pk:204"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#926a163f4bb712460a083e36f43eb323"><span class="id" title="notation">!==</span></a> 0) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:198"><span class="id" title="variable">pks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.verify_secret_vote_proof"><span class="id" title="definition">verify_secret_vote_proof</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:197"><span class="id" title="variable">sk</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:198"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:200"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:198"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:200"><span class="id" title="variable">i</span></a>) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:197"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sv:199"><span class="id" title="variable">sv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:200"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.secret_vote_proof"><span class="id" title="definition">secret_vote_proof</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sk:197"><span class="id" title="variable">sk</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:198"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:200"><span class="id" title="variable">i</span></a>) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#sv:199"><span class="id" title="variable">sv</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#i:200"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#w:201"><span class="id" title="variable">w</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#r:202"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#d:203"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">all_units</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">rk</span> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <span class="id" title="var">pks</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.verify_secret_vote_proof"><span class="id" title="definition">verify_secret_vote_proof</span></a>, <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.secret_vote_proof"><span class="id" title="definition">secret_vote_proof</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">h</span> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Zplus_minus"><span class="id" title="lemma">Zplus_minus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.PArith.BinPos.html#Pos.eqb_refl"><span class="id" title="lemma">Pos.eqb_refl</span></a>, !<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb_refl"><span class="id" title="lemma">elmeqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#pow_pow"><span class="id" title="method">pow_pow</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#pow_plus"><span class="id" title="method">pow_plus</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_add"><span class="id" title="lemma">Z.sub_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb_refl"><span class="id" title="lemma">elmeqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#mul_assoc"><span class="id" title="method">mul_assoc</span></a> (<span class="id" title="var">rk</span><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">sk</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#mul_comm"><span class="id" title="method">mul_comm</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#generator"><span class="id" title="method">generator</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#inv_inv_l"><span class="id" title="method">inv_inv_l</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#mul_comm"><span class="id" title="method">mul_comm</span></a> (<span class="id" title="var">rk</span><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">sk</span>)), <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#mul_1_l"><span class="id" title="method">mul_1_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#pow_pow"><span class="id" title="method">pow_pow</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">rk</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#pow_plus"><span class="id" title="method">pow_plus</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">rk</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_add"><span class="id" title="lemma">Z.sub_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb_refl"><span class="id" title="lemma">elmeqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">h</span> := <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_add"><span class="id" title="lemma">Z.sub_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.PArith.BinPos.html#Pos.eqb_refl"><span class="id" title="lemma">Pos.eqb_refl</span></a>, !<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb_refl"><span class="id" title="lemma">elmeqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#pow_pow"><span class="id" title="method">pow_pow</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#pow_plus"><span class="id" title="method">pow_plus</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_add"><span class="id" title="lemma">Z.sub_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb_refl"><span class="id" title="lemma">elmeqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#mul_comm"><span class="id" title="method">mul_comm</span></a> (<span class="id" title="var">rk</span><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">^</span></a><span class="id" title="var">sk</span>)), <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#mul_1_l"><span class="id" title="method">mul_1_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#pow_pow"><span class="id" title="method">pow_pow</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">rk</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#pow_plus"><span class="id" title="method">pow_plus</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">rk</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_add"><span class="id" title="lemma">Z.sub_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb_refl"><span class="id" title="lemma">elmeqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="BoardroomVoting.has_tallied" class="idref" href="#BoardroomVoting.has_tallied"><span class="id" title="definition">has_tallied</span></a> (<a id="calls:205" class="idref" href="#calls:205"><span class="id" title="binder">calls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ContractCallInfo"><span class="id" title="record">ContractCallInfo</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> (<span class="id" title="keyword">fun</span> <a id="c:206" class="idref" href="#c:206"><span class="id" title="binder">c</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Blockchain.html#call_msg"><span class="id" title="projection">Blockchain.call_msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#c:206"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally_votes"><span class="id" title="constructor">tally_votes</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#calls:205"><span class="id" title="variable">calls</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="BoardroomVoting.boardroom_voting_correct_strong" class="idref" href="#BoardroomVoting.boardroom_voting_correct_strong"><span class="id" title="lemma">boardroom_voting_correct_strong</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="bstate:207" class="idref" href="#bstate:207"><span class="id" title="binder">bstate</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#ChainState"><span class="id" title="record">ChainState</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="caddr:208" class="idref" href="#caddr:208"><span class="id" title="binder">caddr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="trace:209" class="idref" href="#trace:209"><span class="id" title="binder">trace</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#ChainTrace"><span class="id" title="definition">ChainTrace</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#empty_state"><span class="id" title="definition">empty_state</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:207"><span class="id" title="variable">bstate</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="parties:210" class="idref" href="#parties:210"><span class="id" title="binder">parties</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.SecretVoterInfo"><span class="id" title="record">SecretVoterInfo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pks:211" class="idref" href="#pks:211"><span class="id" title="binder">pks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#env_contracts"><span class="id" title="projection">env_contracts</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:207"><span class="id" title="variable">bstate</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:208"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.boardroom_voting"><span class="id" title="definition">boardroom_voting</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#WeakContract"><span class="id" title="inductive">WeakContract</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="cstate:212" class="idref" href="#cstate:212"><span class="id" title="binder">cstate</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="depinfo:213" class="idref" href="#depinfo:213"><span class="id" title="binder">depinfo</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#DeploymentInfo"><span class="id" title="record">DeploymentInfo</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="inc_calls:214" class="idref" href="#inc_calls:214"><span class="id" title="binder">inc_calls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ContractCallInfo"><span class="id" title="record">ContractCallInfo</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#deployment_info"><span class="id" title="definition">deployment_info</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#trace:209"><span class="id" title="variable">trace</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:208"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#depinfo:213"><span class="id" title="variable">depinfo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#contract_state"><span class="id" title="definition">contract_state</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:207"><span class="id" title="variable">bstate</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:208"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#incoming_calls"><span class="id" title="definition">incoming_calls</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#trace:209"><span class="id" title="variable">trace</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:208"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_registration_by"><span class="id" title="projection">finish_registration_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#current_slot"><span class="id" title="projection">Blockchain.current_slot</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:207"><span class="id" title="variable">bstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.has_tallied"><span class="id" title="definition">has_tallied</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.size"><span class="id" title="abbreviation">FMap.size</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#order"><span class="id" title="method">order</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.MsgAssumption"><span class="id" title="definition">MsgAssumption</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:211"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:210"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.SignupOrderAssumption"><span class="id" title="definition">SignupOrderAssumption</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:211"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:210"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_registration_by"><span class="id" title="projection">finish_registration_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#current_slot"><span class="id" title="projection">Blockchain.current_slot</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:207"><span class="id" title="variable">bstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:211"><span class="id" title="variable">pks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:216" class="idref" href="#pat:216"><span class="id" title="binder">(</span></a><a id="pat:216" class="idref" href="#pat:216"><span class="id" title="binder">_</span></a><a id="pat:216" class="idref" href="#pat:216"><span class="id" title="binder">,</span></a> <a id="pat:216" class="idref" href="#pat:216"><span class="id" title="binder">v</span></a><a id="pat:216" class="idref" href="#pat:216"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:215"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.keys"><span class="id" title="definition">FMap.keys</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="addr:217" class="idref" href="#addr:217"><span class="id" title="binder">addr</span></a> <a id="inf:218" class="idref" href="#inf:218"><span class="id" title="binder">inf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Containers.html#FMap.find"><span class="id" title="abbreviation">FMap.find</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#addr:217"><span class="id" title="variable">addr</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:218"><span class="id" title="variable">inf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:218"><span class="id" title="variable">inf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:218"><span class="id" title="variable">inf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:210"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#addr:217"><span class="id" title="variable">addr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a>) (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:218"><span class="id" title="variable">inf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sk"><span class="id" title="projection">svi_sk</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:210"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#addr:217"><span class="id" title="variable">addr</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:218"><span class="id" title="variable">inf</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#77b1a15d6ea1ec69de9702db0c6a843b"><span class="id" title="notation">==</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#zero"><span class="id" title="method">zero</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:218"><span class="id" title="variable">inf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:211"><span class="id" title="variable">pks</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inf:218"><span class="id" title="variable">inf</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sk"><span class="id" title="projection">svi_sk</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:210"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#addr:217"><span class="id" title="variable">addr</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sv"><span class="id" title="projection">svi_sv</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:210"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#addr:217"><span class="id" title="variable">addr</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">((</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.has_tallied"><span class="id" title="definition">has_tallied</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.has_tallied"><span class="id" title="definition">has_tallied</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:212"><span class="id" title="variable">cstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Utils.Extras.html#sumnat"><span class="id" title="definition">sumnat</span></a> (<span class="id" title="keyword">fun</span> <a id="party:219" class="idref" href="#party:219"><span class="id" title="binder">party</span></a> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sv"><span class="id" title="projection">svi_sv</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:210"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:219"><span class="id" title="variable">party</span></a>) <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0)%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:214"><span class="id" title="variable">inc_calls</span></a>)))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)))</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contract_induction</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- [<span class="id" title="var">AddBlockFacts</span>]: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="old_slot:222" class="idref" href="#old_slot:222"><span class="id" title="binder">old_slot</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a id="new_slot:223" class="idref" href="#new_slot:223"><span class="id" title="binder">new_slot</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#old_slot:220"><span class="id" title="variable">old_slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#new_slot:221"><span class="id" title="variable">new_slot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">AddBlockFacts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">facts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_and_split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">Nat.ltb</span>] <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">ltb</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ltb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">init_some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.size_empty"><span class="id" title="lemma">FMap.size_empty</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#order_ge_2"><span class="id" title="method">order_ge_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.keys"><span class="id" title="definition">FMap.keys</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.empty"><span class="id" title="definition">AddressMap.empty</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> @<a class="idref" href="ConCert.Execution.Containers.html#FMap.elements_empty"><span class="id" title="lemma">FMap.elements_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="var">easy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> @<a class="idref" href="ConCert.Execution.Containers.html#FMap.find_empty"><span class="id" title="lemma">FMap.find_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">Nat.ltb</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">receive_some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">msg</span>|]; <span class="id" title="var">cbn</span> -[<span class="id" title="var">Nat.ltb</span>] <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.add"><span class="id" title="definition">AddressMap.add</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;signup&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">nat</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">intime</span> <span class="id" title="tactic">in</span> <span class="id" title="var">receive_some</span>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">Nat.ltb</span>] <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_ge"><span class="id" title="lemma">Nat.ltb_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">intime</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.find"><span class="id" title="abbreviation">FMap.find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">receive_some</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.find"><span class="id" title="abbreviation">FMap.find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">new</span> <span class="id" title="tactic">in</span> <span class="id" title="var">receive_some</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">in</span> <span class="id" title="var">receive_some</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">Z</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">lt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">receive_some</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.verify_secret_key_proof"><span class="id" title="definition">verify_secret_key_proof</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">verify_zkp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">receive_some</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">receive_some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>, <a class="idref" href="ConCert.Execution.Containers.html#FMap.size_add_new"><span class="id" title="lemma">FMap.size_add_new</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.ltb_lt"><span class="id" title="lemma">Z.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.has_tallied"><span class="id" title="definition">has_tallied</span></a> <span class="id" title="var">prev_inc_calls</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <span class="id" title="var">prev_inc_calls</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">destruct_and_split</span>; <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">signup_assum</span> <span class="id" title="var">msg_assum</span>] <span class="id" title="var">order_assum</span> <span class="id" title="var">num_signups_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">reg_lt</span> &amp; <span class="id" title="var">cur_lt</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">pks_signups</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Utils.Extras.html#seq_app"><span class="id" title="lemma">seq_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">order_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Utils.Extras.html#zip_app"><span class="id" title="lemma">zip_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">order_assum</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#seq_length"><span class="id" title="lemma">seq_length</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Utils.Extras.html#All_app"><span class="id" title="lemma">All_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">order_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">perm</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements_add"><span class="id" title="lemma">FMap.elements_add</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Utils.Extras.html#seq_app"><span class="id" title="lemma">seq_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">perm_simplify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">perm</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.keys"><span class="id" title="definition">FMap.keys</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements_add"><span class="id" title="lemma">FMap.elements_add</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">perm_simplify</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">tallied</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">cur_lt</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">lia</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">addr</span> <span class="id" title="var">inf</span> <span class="id" title="var">find_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#address_eqb_spec"><span class="id" title="method">address_eqb_spec</span></a> <span class="id" title="var">addr</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#ctx_from"><span class="id" title="projection">ctx_from</span></a> <span class="id" title="var">ctx</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.find_add"><span class="id" title="lemma">FMap.find_add</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ctx_from"><span class="id" title="projection">ctx_from</span></a> <span class="id" title="var">ctx</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">find_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">find_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.make_signup_msg"><span class="id" title="definition">make_signup_msg</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">signup_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Utils.Extras.html#nth_error_snoc"><span class="id" title="lemma">nth_error_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Utils.Extras.html#seq_app"><span class="id" title="lemma">seq_app</span></a>, <a class="idref" href="ConCert.Utils.Extras.html#zip_app"><span class="id" title="lemma">zip_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">order_assum</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#seq_length"><span class="id" title="lemma">seq_length</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Utils.Extras.html#All_app"><span class="id" title="lemma">All_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">order_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">order_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">order_assum</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">pks_signups</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.find_add_ne"><span class="id" title="lemma">FMap.find_add_ne</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">find_add</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">IH</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">find_add</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error_app1"><span class="id" title="lemma">nth_error_app1</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;commit_to_vote&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> -[<span class="id" title="var">Nat.ltb</span>] <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.find"><span class="id" title="abbreviation">FMap.find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">found</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">receive_some</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.add"><span class="id" title="definition">AddressMap.add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.size_add_existing"><span class="id" title="lemma">FMap.size_add_existing</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">msg_assum</span>] <span class="id" title="var">order_assum</span> <span class="id" title="var">num_signups_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">len_pks</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">msg_assum</span> <span class="id" title="var">order_assum</span> <span class="id" title="var">num_signups_assum</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.keys_already"><span class="id" title="lemma">FMap.keys_already</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">found</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">perm</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">len_pks</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Permutation_modify"><span class="id" title="lemma">Permutation_modify</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">vold</span> := <span class="id" title="var">v</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">addr</span> <span class="id" title="var">inf</span> <span class="id" title="var">find_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.add"><span class="id" title="definition">AddressMap.add</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">IH</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#address_eqb_spec"><span class="id" title="method">address_eqb_spec</span></a> <span class="id" title="var">addr</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#ctx_from"><span class="id" title="projection">ctx_from</span></a> <span class="id" title="var">ctx</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.find_add"><span class="id" title="lemma">FMap.find_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">find_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">find_add</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.find_add_ne"><span class="id" title="lemma">FMap.find_add_ne</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">find_add</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;submit_vote&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> -[<span class="id" title="var">Nat.ltb</span>] <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.find"><span class="id" title="abbreviation">FMap.find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">found</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">_</span> <span class="id" title="keyword">else</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.verify_secret_vote_proof"><span class="id" title="definition">verify_secret_vote_proof</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">receive_some</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.size_add_existing"><span class="id" title="lemma">FMap.size_add_existing</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">vote_assum</span> <span class="id" title="var">msg_assum</span>] <span class="id" title="var">order_assum</span> <span class="id" title="var">num_signups_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">len_pks</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">msg_assum</span> <span class="id" title="var">order_assum</span> <span class="id" title="var">num_signups_assum</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.keys_already"><span class="id" title="lemma">FMap.keys_already</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">found</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">perm</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">len_pks</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Permutation_modify"><span class="id" title="lemma">Permutation_modify</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">vold</span> := <span class="id" title="var">v0</span>); <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">addr</span> <span class="id" title="var">inf</span> <span class="id" title="var">find_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">IH</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#address_eqb_spec"><span class="id" title="method">address_eqb_spec</span></a> <span class="id" title="var">addr</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#ctx_from"><span class="id" title="projection">ctx_from</span></a> <span class="id" title="var">ctx</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.find_add"><span class="id" title="lemma">FMap.find_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">find_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">find_add</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">found</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.make_vote_msg"><span class="id" title="definition">make_vote_msg</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">vote_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> (<span class="id" title="var">parties</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#ctx_from"><span class="id" title="projection">ctx_from</span></a> <span class="id" title="var">ctx</span>))) <span class="id" title="keyword">with</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <span class="id" title="var">v0</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.find_add_ne"><span class="id" title="lemma">FMap.find_add_ne</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">find_add</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;tally_votes&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">intime</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <span class="id" title="var">prev_state</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">all_voted</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#bruteforce_tally"><span class="id" title="definition">bruteforce_tally</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">bruteforce</span>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">Nat.ltb</span>] <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">receive_some</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_ge"><span class="id" title="lemma">Nat.ltb_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">intime</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intros</span>; <span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">msg_assum</span>) <span class="id" title="var">order_assum</span> <span class="id" title="var">num_signups_assum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">finish_before_vote</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">len_pks</span> &amp; <span class="id" title="var">pks_signups</span> &amp; <span class="id" title="var">party_count</span> &amp; <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">msg_assum</span> <span class="id" title="var">order_assum</span> <span class="id" title="var">num_signups_assum</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">perm</span> &amp; <span class="id" title="var">perm'</span> &amp; <span class="id" title="var">addrs</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.ContractCommon.html#AddressMap.values"><span class="id" title="definition">AddressMap.values</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.values"><span class="id" title="definition">FMap.values</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">bruteforce</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">bruteforce</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> '<a id="pat:229" class="idref" href="#pat:229"><span class="id" title="binder">(</span></a><a id="pat:229" class="idref" href="#pat:229"><span class="id" title="binder">_</span></a><a id="pat:229" class="idref" href="#pat:229"><span class="id" title="binder">,</span></a> <a id="pat:229" class="idref" href="#pat:229"><span class="id" title="binder">v</span></a><a id="pat:229" class="idref" href="#pat:229"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:224"><span class="id" title="variable">v</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">bruteforce</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> []).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#bruteforce_tally_correct"><span class="id" title="lemma">bruteforce_tally_correct</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <span class="id" title="var">prev_state</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> '<a id="pat:285" class="idref" href="#pat:285"><span class="id" title="binder">(</span></a><a id="pat:285" class="idref" href="#pat:285"><span class="id" title="binder">_</span></a><a id="pat:285" class="idref" href="#pat:285"><span class="id" title="binder">,</span></a> <a id="pat:285" class="idref" href="#pat:285"><span class="id" title="binder">v</span></a><a id="pat:285" class="idref" href="#pat:285"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:235"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> '<a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder">(</span></a><a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder">addr</span></a><a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder">,</span></a> <a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder">_</span></a><a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sk"><span class="id" title="projection">svi_sk</span></a> (<span class="id" title="var">parties</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#addr:233"><span class="id" title="variable">addr</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <span class="id" title="var">prev_state</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="kvp:281" class="idref" href="#kvp:281"><span class="id" title="binder">kvp</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sv"><span class="id" title="projection">svi_sv</span></a> (<span class="id" title="var">parties</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#kvp:232"><span class="id" title="variable">kvp</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> '<a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">(</span></a><a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">_</span></a><a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">,</span></a> <a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">v</span></a><a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#v:230"><span class="id" title="variable">v</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">bruteforce</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">bruteforce</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ConCert.Utils.Extras.html#sumnat_map"><span class="id" title="lemma">sumnat_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<span class="id" title="keyword">fun</span> <a id="a:288" class="idref" href="#a:288"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sv"><span class="id" title="projection">svi_sv</span></a> (<span class="id" title="var">parties</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#a:286"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0))%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">perm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.length_elements"><span class="id" title="lemma">FMap.length_elements</span></a>, &lt;- <span class="id" title="var">len_pks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.length_elements"><span class="id" title="lemma">FMap.length_elements</span></a>, &lt;- <span class="id" title="var">len_pks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">v</span>] <span class="id" title="var">kvpin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.In_elements"><span class="id" title="lemma">FMap.In_elements</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">kvpin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">addrs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">kvpin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">v</span>] <span class="id" title="var">kvpin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Utils.Extras.html#existsb_forallb"><span class="id" title="lemma">existsb_forallb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all_voted</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#negb_false_iff"><span class="id" title="lemma">Bool.negb_false_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all_voted</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all_voted</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">all_voted</span> <span class="id" title="var">v</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">all_voted</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">Bool.negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all_voted</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#elmeqb_spec"><span class="id" title="method">elmeqb_spec</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <span class="id" title="var">v</span>) <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomMath.html#zero"><span class="id" title="method">zero</span></a>); [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.In_elements"><span class="id" title="lemma">FMap.In_elements</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">kvpin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">addrs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">kvpin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">addrs</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; []); [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <span class="id" title="var">prev_inc_calls</span>) (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.SignupOrderAssumption"><span class="id" title="definition">SignupOrderAssumption</span></a> <span class="id" title="var">pks</span> <span class="id" title="var">parties</span> <span class="id" title="var">prev_inc_calls</span>) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">pks_signups</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">num_signups_assum</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">lia</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.all_signups"><span class="id" title="lemma">all_signups</span></a> <span class="id" title="var">pks</span> <span class="id" title="var">parties</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- [<span class="id" title="var">CallFacts</span>]: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="ctx:290" class="idref" href="#ctx:290"><span class="id" title="binder">ctx</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Execution.Blockchain.html#ctx_from"><span class="id" title="projection">ctx_from</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#ctx:289"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#ctx_contract_address"><span class="id" title="projection">ctx_contract_address</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#ctx:289"><span class="id" title="variable">ctx</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">CallFacts</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- [<span class="id" title="var">DeployFacts</span>]: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unset_all</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_chain_step</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">valid_header</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">destruct_action_eval</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Blockchain.html#trace_reachable"><span class="id" title="lemma">trace_reachable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">from_reachable</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.no_outgoing"><span class="id" title="lemma">no_outgoing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">from_reachable</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Blockchain.html#outgoing_acts"><span class="id" title="definition">outgoing_acts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">queue_prev</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#address_eqb_spec"><span class="id" title="method">address_eqb_spec</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#act_from"><span class="id" title="projection">act_from</span></a> <span class="id" title="var">act</span>) <span class="id" title="var">to_addr</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="BoardroomVoting.boardroom_voting_correct" class="idref" href="#BoardroomVoting.boardroom_voting_correct"><span class="id" title="lemma">boardroom_voting_correct</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="bstate:291" class="idref" href="#bstate:291"><span class="id" title="binder">bstate</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#ChainState"><span class="id" title="record">ChainState</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="caddr:292" class="idref" href="#caddr:292"><span class="id" title="binder">caddr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="trace:293" class="idref" href="#trace:293"><span class="id" title="binder">trace</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#ChainTrace"><span class="id" title="definition">ChainTrace</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#empty_state"><span class="id" title="definition">empty_state</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:291"><span class="id" title="variable">bstate</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;list&nbsp;of&nbsp;all&nbsp;public&nbsp;keys,&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;signups&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pks:294" class="idref" href="#pks:294"><span class="id" title="binder">pks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#Params.A"><span class="id" title="axiom">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;function&nbsp;mapping&nbsp;a&nbsp;party&nbsp;to&nbsp;information&nbsp;about&nbsp;him&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="parties:295" class="idref" href="#parties:295"><span class="id" title="binder">parties</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.SecretVoterInfo"><span class="id" title="record">SecretVoterInfo</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#env_contracts"><span class="id" title="projection">env_contracts</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:291"><span class="id" title="variable">bstate</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:292"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.boardroom_voting"><span class="id" title="definition">boardroom_voting</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#WeakContract"><span class="id" title="inductive">WeakContract</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="cstate:296" class="idref" href="#cstate:296"><span class="id" title="binder">cstate</span></a> : <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.State"><span class="id" title="record">State</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="depinfo:297" class="idref" href="#depinfo:297"><span class="id" title="binder">depinfo</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#DeploymentInfo"><span class="id" title="record">DeploymentInfo</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="inc_calls:298" class="idref" href="#inc_calls:298"><span class="id" title="binder">inc_calls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ContractCallInfo"><span class="id" title="record">ContractCallInfo</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#deployment_info"><span class="id" title="definition">deployment_info</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#trace:293"><span class="id" title="variable">trace</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:292"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#depinfo:297"><span class="id" title="variable">depinfo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#contract_state"><span class="id" title="definition">contract_state</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:291"><span class="id" title="variable">bstate</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:292"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:296"><span class="id" title="variable">cstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#incoming_calls"><span class="id" title="definition">incoming_calls</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#trace:293"><span class="id" title="variable">trace</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#caddr:292"><span class="id" title="variable">caddr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:298"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;assuming&nbsp;that&nbsp;the&nbsp;message&nbsp;sent&nbsp;were&nbsp;created&nbsp;with&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions&nbsp;provided&nbsp;by&nbsp;this&nbsp;smart&nbsp;contract&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.MsgAssumption"><span class="id" title="definition">MsgAssumption</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:294"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:295"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:298"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;..and&nbsp;that&nbsp;people&nbsp;signed&nbsp;up&nbsp;in&nbsp;the&nbsp;order&nbsp;given&nbsp;by&nbsp;'index'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;'pks'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.SignupOrderAssumption"><span class="id" title="definition">SignupOrderAssumption</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:294"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:295"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:298"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;..and&nbsp;that&nbsp;the&nbsp;correct&nbsp;number&nbsp;of&nbsp;people&nbsp;register&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.finish_registration_by"><span class="id" title="projection">finish_registration_by</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:296"><span class="id" title="variable">cstate</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#current_slot"><span class="id" title="projection">Blockchain.current_slot</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#bstate:291"><span class="id" title="variable">bstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#pks:294"><span class="id" title="variable">pks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:298"><span class="id" title="variable">inc_calls</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;then&nbsp;if&nbsp;we&nbsp;have&nbsp;not&nbsp;tallied&nbsp;yet,&nbsp;the&nbsp;tally&nbsp;is&nbsp;none&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.has_tallied"><span class="id" title="definition">has_tallied</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:298"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:296"><span class="id" title="variable">cstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;or&nbsp;if&nbsp;we&nbsp;have&nbsp;tallied&nbsp;yet,&nbsp;the&nbsp;tally&nbsp;is&nbsp;correct&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.has_tallied"><span class="id" title="definition">has_tallied</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:298"><span class="id" title="variable">inc_calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#cstate:296"><span class="id" title="variable">cstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Utils.Extras.html#sumnat"><span class="id" title="definition">sumnat</span></a> (<span class="id" title="keyword">fun</span> <a id="party:299" class="idref" href="#party:299"><span class="id" title="binder">party</span></a> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.svi_sv"><span class="id" title="projection">svi_sv</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#parties:295"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#party:299"><span class="id" title="variable">party</span></a>) <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0)%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#inc_calls:298"><span class="id" title="variable">inc_calls</span></a>)))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">deployed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.boardroom_voting_correct_strong"><span class="id" title="lemma">boardroom_voting_correct_strong</span></a> <span class="id" title="var">bstate</span> <span class="id" title="var">caddr</span> <span class="id" title="var">trace</span> <span class="id" title="var">parties</span> <span class="id" title="var">pks</span> <span class="id" title="var">deployed</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">cstate</span> &amp; <span class="id" title="var">depinfo</span> &amp; <span class="id" title="var">inc_calls</span> &amp; <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">cstate</span>, <span class="id" title="var">depinfo</span>, <span class="id" title="var">inc_calls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting.Theories"><span class="id" title="section">Theories</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Examples.BoardroomVoting.BoardroomVoting.html#BoardroomVoting"><span class="id" title="module">BoardroomVoting</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="https://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
      const mainDiv = document.getElementById("main");
      mainDiv.classList.add("jstoc-hidden-main");
      const toggleDiv = document.getElementById("toggle-toc");
      toggleDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
