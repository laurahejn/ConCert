<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
      <span id="toggle-toc">Contents</span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
      <a href="index.html">Index</a>
      <a href="toc.html">Table of contents</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc" data-toc-offset="-40">
      <div id="js-toc-header" class="toc-header">Contents:</div>
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Embedding.pcuic.PCUICCorrectnessAux</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab330"></a><h1 class="section">Auxillary lemmas for the soundness proof.</h1>

</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#"><span class="id" title="library">MCList</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICWcbvEval.html#"><span class="id" title="library">PCUICWcbvEval</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#"><span class="id" title="library">PeanoNat</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#"><span class="id" title="library">Basics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Utils.Automation.html#"><span class="id" title="library">Automation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Utils.Env.html#"><span class="id" title="library">Env</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Embedding</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Embedding.Misc.html#"><span class="id" title="library">Misc</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Embedding</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#"><span class="id" title="library">EnvSubst</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Embedding</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Embedding.Ast.html#"><span class="id" title="library">Ast</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Embedding</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Embedding.EvalE.html#"><span class="id" title="library">EvalE</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Embedding</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#"><span class="id" title="library">PCUICFacts</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Embedding</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#"><span class="id" title="library">PCUICTranslate</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Embedding</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Embedding.Wf.html#"><span class="id" title="library">Wf</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="5418a855f8f873e0675e49dd815ec2c1" class="idref" href="#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">&quot;</span></a>'eval' ( n , Σ , ρ , e )" := (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">n</span> ρ <span class="id" title="var">e</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="94070bf4072b9cf1e91d0855ad508f5b" class="idref" href="#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">&quot;</span></a>M { j := N }" := (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="var">j</span> <span class="id" title="var">M</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="module">Lia</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="module">ssrbool</span></a>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list_scope</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="TCString" class="idref" href="#TCString"><span class="id" title="module">TCString</span></a> := <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.bytestring.html#String"><span class="id" title="module">bytestring.String</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="of_bs" class="idref" href="#of_bs"><span class="id" title="definition">of_bs</span></a> (<a id="bs:1" class="idref" href="#bs:1"><span class="id" title="binder">bs</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCString.html#string"><span class="id" title="abbreviation">MCString.string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#to_string"><span class="id" title="definition">TCString.to_string</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#bs:1"><span class="id" title="variable">bs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="to_bs" class="idref" href="#to_bs"><span class="id" title="definition">to_bs</span></a> (<a id="s:2" class="idref" href="#s:2"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCString.html#string"><span class="id" title="abbreviation">MCString.string</span></a> := <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#of_string"><span class="id" title="definition">TCString.of_string</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#s:2"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#to_bs"><span class="id" title="definition">to_bs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#to_bs"><span class="id" title="definition">:</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#to_bs"><span class="id" title="definition">string</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#to_bs"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#to_bs"><span class="id" title="definition">MCString.string</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst"><span class="id" title="module">NamelessSubst</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">Bool.trans_eq_bool</span></span>&nbsp;kills&nbsp;performance,&nbsp;so&nbsp;we&nbsp;remove&nbsp;it&nbsp;*)</span><br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Remove</span> <span class="id" title="var">Hints</span> <span class="id" title="var">Bool.trans_eq_bool</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="P" class="idref" href="#P"><span class="id" title="module">P</span></a> := <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="module">PCUICAst</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="PcbvCurr" class="idref" href="#PcbvCurr"><span class="id" title="module">PcbvCurr</span></a> := <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICWcbvEval.html#"><span class="id" title="module">PCUICWcbvEval</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="59bcf74878850eb3a01d5a33d6f06a5e" class="idref" href="#59bcf74878850eb3a01d5a33d6f06a5e"><span class="id" title="notation">&quot;</span></a>Σ |- t1 ⇓ t2 " := (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval"><span class="id" title="inductive">PcbvCurr.eval</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>

<br/>
</div>

<div class="doc">
All contructors of inductives available in the λ-smart environment are available in
    the PCUIC environment.  Eventually, we can translate the whole λ-smart environment, we have a function that
    does if for inductives <span class="inlinecode"><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#trans_global_dec"><span class="id" title="definition">trans_global_dec</span></a></span> and we use it precisely to unquote
    inductives.But it returns <span class="inlinecode"><a class="idref" href="ConCert.Embedding.pcuic.PCUICtoTemplate.html#mutual_inductive_entry"><span class="id" title="record">mutual_inductive_entry</span></a></span> and we need
    <span class="inlinecode"><a class="idref" href="MetaCoq.TypedExtraction.ExAst.html#mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="genv_sync" class="idref" href="#genv_sync"><span class="id" title="definition">genv_sync</span></a> (<a id="037a524052c16398510aa362b87ff0b3" class="idref" href="#037a524052c16398510aa362b87ff0b3"><span class="id" title="binder">Σ1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#global_dec"><span class="id" title="inductive">global_dec</span></a>) (<a id="8065084063c4d7f005c133df3deca828" class="idref" href="#8065084063c4d7f005c133df3deca828"><span class="id" title="binder">Σ2</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">PCUICEnvironment.global_env</span></a> ) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="ind_name:5" class="idref" href="#ind_name:5"><span class="id" title="binder">ind_name</span></a> <a id="c:6" class="idref" href="#c:6"><span class="id" title="binder">c</span></a> <a id="nparams:7" class="idref" href="#nparams:7"><span class="id" title="binder">nparams</span></a> <a id="i:8" class="idref" href="#i:8"><span class="id" title="binder">i</span></a> <a id="tys:9" class="idref" href="#tys:9"><span class="id" title="binder">tys</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#037a524052c16398510aa362b87ff0b3"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind_name:5"><span class="id" title="variable">ind_name</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c:6"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nparams:7"><span class="id" title="variable">nparams</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:8"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#tys:9"><span class="id" title="variable">tys</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a> <a id="x:10" class="idref" href="#x:10"><span class="id" title="binder">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">mib</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oib</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:10"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#8065084063c4d7f005c133df3deca828"><span class="id" title="variable">Σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.Kernames.html#mkInd"><span class="id" title="constructor">mkInd</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#kername_of_string"><span class="id" title="definition">kername_of_string</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind_name:5"><span class="id" title="variable">ind_name</span></a>) 0<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:8"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">mib</span> <span class="id" title="var">oib</span> <span class="id" title="var">cb</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nparams:7"><span class="id" title="variable">nparams</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <span class="id" title="var">mib</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#tys:9"><span class="id" title="variable">tys</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <span class="id" title="var">cb</span>) <span class="comment">(*&nbsp;same&nbsp;arities&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="ef9d256079c0792b68e6d5b9b0edd2f4" class="idref" href="#ef9d256079c0792b68e6d5b9b0edd2f4"><span class="id" title="notation">&quot;</span></a>Σ1 ⋈ Σ2 " := (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#genv_sync"><span class="id" title="definition">genv_sync</span></a> <span class="id" title="var">Σ1</span> <span class="id" title="var">Σ2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl_vars_to_apps" "in" <span class="id" title="var">ident</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#vars_to_apps_unfold"><span class="id" title="lemma">vars_to_apps_unfold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl_vars_to_apps" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#vars_to_apps_unfold"><span class="id" title="lemma">vars_to_apps_unfold</span></a>; <span class="id" title="tactic">simpl</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="WcbvEvalProp" class="idref" href="#WcbvEvalProp"><span class="id" title="section">WcbvEvalProp</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tInd_atom" class="idref" href="#tInd_atom"><span class="id" title="lemma">tInd_atom</span></a> <a id="ind:12" class="idref" href="#ind:12"><span class="id" title="binder">ind</span></a> <a id="i:13" class="idref" href="#i:13"><span class="id" title="binder">i</span></a> <a id="u:14" class="idref" href="#u:14"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#atom"><span class="id" title="definition">PcbvCurr.atom</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.Kernames.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:12"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:13"><span class="id" title="variable">i</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u:14"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tInd_value_head" class="idref" href="#tInd_value_head"><span class="id" title="lemma">tInd_value_head</span></a> (<a id="a06fd18444dea9fc8d4ced3112dfed65" class="idref" href="#a06fd18444dea9fc8d4ced3112dfed65"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">PCUICEnvironment.global_env</span></a>) <a id="ind:16" class="idref" href="#ind:16"><span class="id" title="binder">ind</span></a> <a id="i:17" class="idref" href="#i:17"><span class="id" title="binder">i</span></a> <a id="u:18" class="idref" href="#u:18"><span class="id" title="binder">u</span></a> <a id="n:19" class="idref" href="#n:19"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value_head"><span class="id" title="inductive">PcbvCurr.value_head</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a06fd18444dea9fc8d4ced3112dfed65"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:19"><span class="id" title="variable">n</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.Kernames.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:16"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:17"><span class="id" title="variable">i</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u:18"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="All_eq" class="idref" href="#All_eq"><span class="id" title="lemma">All_eq</span></a> {<a id="A:20" class="idref" href="#A:20"><span class="id" title="binder">A</span></a>} (<a id="l1:21" class="idref" href="#l1:21"><span class="id" title="binder">l1</span></a> <a id="l2:22" class="idref" href="#l2:22"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:20"><span class="id" title="variable">A</span></a>) : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="t1:23" class="idref" href="#t1:23"><span class="id" title="binder">t1</span></a> <a id="t2:24" class="idref" href="#t2:24"><span class="id" title="binder">t2</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:23"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:24"><span class="id" title="variable">t2</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:21"><span class="id" title="variable">l1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:22"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:21"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:22"><span class="id" title="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="All_All2_impl" class="idref" href="#All_All2_impl"><span class="id" title="lemma">All_All2_impl</span></a> {<a id="A:25" class="idref" href="#A:25"><span class="id" title="binder">A</span></a>} (<a id="l1:26" class="idref" href="#l1:26"><span class="id" title="binder">l1</span></a> <a id="l2:27" class="idref" href="#l2:27"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:25"><span class="id" title="variable">A</span></a>) <a id="P:28" class="idref" href="#P:28"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="t1:29" class="idref" href="#t1:29"><span class="id" title="binder">t1</span></a> =&gt; <span class="id" title="keyword">forall</span> <a id="t2:30" class="idref" href="#t2:30"><span class="id" title="binder">t2</span></a>, <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#P:28"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:29"><span class="id" title="variable">t1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:30"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:29"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:30"><span class="id" title="variable">t2</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:26"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#P:28"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:26"><span class="id" title="variable">l1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:27"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="t1:31" class="idref" href="#t1:31"><span class="id" title="binder">t1</span></a> <a id="t2:32" class="idref" href="#t2:32"><span class="id" title="binder">t2</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:31"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:32"><span class="id" title="variable">t2</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:26"><span class="id" title="variable">l1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:27"><span class="id" title="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hall</span> <span class="id" title="var">Hall2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hall2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> | <span class="id" title="var">ty</span> <span class="id" title="var">ll</span> <span class="id" title="var">HH3</span> <span class="id" title="var">HH4</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mkApps_unfold" class="idref" href="#mkApps_unfold"><span class="id" title="lemma">mkApps_unfold</span></a> <a id="t1:33" class="idref" href="#t1:33"><span class="id" title="binder">t1</span></a> <a id="ts:34" class="idref" href="#ts:34"><span class="id" title="binder">ts</span></a> <a id="t2:35" class="idref" href="#t2:35"><span class="id" title="binder">t2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:33"><span class="id" title="variable">t1</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:34"><span class="id" title="variable">ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:35"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:33"><span class="id" title="variable">t1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:34"><span class="id" title="variable">ts</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:35"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.utils.PCUICAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mkApps_eq_false" class="idref" href="#mkApps_eq_false"><span class="id" title="lemma">mkApps_eq_false</span></a> <a id="t1:36" class="idref" href="#t1:36"><span class="id" title="binder">t1</span></a> <a id="t2:37" class="idref" href="#t2:37"><span class="id" title="binder">t2</span></a> <a id="args:38" class="idref" href="#args:38"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:36"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:37"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="t1':39" class="idref" href="#t1':39"><span class="id" title="binder">t1'</span></a> <a id="t2':40" class="idref" href="#t2':40"><span class="id" title="binder">t2'</span></a> , <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:37"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1':39"><span class="id" title="variable">t1'</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2':40"><span class="id" title="variable">t2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:36"><span class="id" title="variable">t1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:38"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:37"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hnapp</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_unfold"><span class="id" title="lemma">mkApps_unfold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mkApps_tRel_false" class="idref" href="#mkApps_tRel_false"><span class="id" title="lemma">mkApps_tRel_false</span></a> <a id="t:41" class="idref" href="#t:41"><span class="id" title="binder">t</span></a> <a id="args:42" class="idref" href="#args:42"><span class="id" title="binder">args</span></a> <a id="i:43" class="idref" href="#i:43"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:41"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:43"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:41"><span class="id" title="variable">t</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:42"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:43"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_eq_false"><span class="id" title="lemma">mkApps_eq_false</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">Hi</span>. <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">mkApps_tRel_false</span> : <span class="id" title="var">facts</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#WcbvEvalProp"><span class="id" title="section">WcbvEvalProp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_app" class="idref" href="#is_app"><span class="id" title="definition">is_app</span></a> (<a id="e:44" class="idref" href="#e:44"><span class="id" title="binder">e</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:44"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_vars_to_apps" class="idref" href="#mkApps_vars_to_apps"><span class="id" title="lemma">mkApps_vars_to_apps</span></a> <a id="l:46" class="idref" href="#l:46"><span class="id" title="binder">l</span></a>: <span class="id" title="keyword">forall</span> (<a id="0f349382f796b4f2cbdf3887d61145a1" class="idref" href="#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) <a id="e:48" class="idref" href="#e:48"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps"><span class="id" title="definition">P.mkApps</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:48"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#expr_to_term"><span class="id" title="definition">expr_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:46"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#vars_to_apps"><span class="id" title="definition">vars_to_apps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:48"><span class="id" title="variable">e</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:46"><span class="id" title="variable">l</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_vars_to_apps_constr" class="idref" href="#mkApps_vars_to_apps_constr"><span class="id" title="lemma">mkApps_vars_to_apps_constr</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="7cecfc337f77630217b4dff13ffd8d3e" class="idref" href="#7cecfc337f77630217b4dff13ffd8d3e"><span class="id" title="binder">Σ1</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) (<a id="i0:50" class="idref" href="#i0:50"><span class="id" title="binder">i0</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#inductive"><span class="id" title="definition">Ast.inductive</span></a>) (<a id="n1:51" class="idref" href="#n1:51"><span class="id" title="binder">n1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="l0:52" class="idref" href="#l0:52"><span class="id" title="binder">l0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) <a id="ci:53" class="idref" href="#ci:53"><span class="id" title="binder">ci</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#7cecfc337f77630217b4dff13ffd8d3e"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i0:50"><span class="id" title="variable">i0</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n1:51"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ci:53"><span class="id" title="variable">ci</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.Kernames.html#mkInd"><span class="id" title="constructor">mkInd</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#kername_of_string"><span class="id" title="definition">kername_of_string</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i0:50"><span class="id" title="variable">i0</span></a>) 0) (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ci:53"><span class="id" title="variable">ci</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:54" class="idref" href="#x:54"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:54"><span class="id" title="variable">x</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#7cecfc337f77630217b4dff13ffd8d3e"><span class="id" title="variable">Σ1</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l0:52"><span class="id" title="variable">l0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#vars_to_apps"><span class="id" title="definition">vars_to_apps</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i0:50"><span class="id" title="variable">i0</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n1:51"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l0:52"><span class="id" title="variable">l0</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#7cecfc337f77630217b4dff13ffd8d3e"><span class="id" title="variable">Σ1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ1</span> <span class="id" title="var">i0</span> <span class="id" title="var">n1</span> <span class="id" title="var">l0</span> <span class="id" title="var">ci</span> <span class="id" title="var">Hci</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_vars_to_apps"><span class="id" title="lemma">mkApps_vars_to_apps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hci</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Wcbv_value_vars_to_apps" class="idref" href="#Wcbv_value_vars_to_apps"><span class="id" title="lemma">Wcbv_value_vars_to_apps</span></a> <a id="9357aecf4b5f6bdad73928e23db1269a" class="idref" href="#9357aecf4b5f6bdad73928e23db1269a"><span class="id" title="binder">Σ1</span></a> <a id="1d28c3a08712541ac348bd7b727d2c6f" class="idref" href="#1d28c3a08712541ac348bd7b727d2c6f"><span class="id" title="binder">Σ2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:57" class="idref" href="#i:57"><span class="id" title="binder">i</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#inductive"><span class="id" title="definition">inductive</span></a>) <a id="n:58" class="idref" href="#n:58"><span class="id" title="binder">n</span></a> (<a id="l:59" class="idref" href="#l:59"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) <a id="ci:60" class="idref" href="#ci:60"><span class="id" title="binder">ci</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9357aecf4b5f6bdad73928e23db1269a"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ef9d256079c0792b68e6d5b9b0edd2f4"><span class="id" title="notation">⋈</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#1d28c3a08712541ac348bd7b727d2c6f"><span class="id" title="variable">Σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9357aecf4b5f6bdad73928e23db1269a"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:57"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:58"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ci:60"><span class="id" title="variable">ci</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:59"><span class="id" title="variable">l</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ci:60"><span class="id" title="variable">ci</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ci:60"><span class="id" title="variable">ci</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="comment">(*&nbsp;arity,&nbsp;including&nbsp;parameters&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="v:61" class="idref" href="#v:61"><span class="id" title="binder">v</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value"><span class="id" title="inductive">PcbvCurr.value</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#1d28c3a08712541ac348bd7b727d2c6f"><span class="id" title="variable">Σ2</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:61"><span class="id" title="variable">v</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9357aecf4b5f6bdad73928e23db1269a"><span class="id" title="variable">Σ1</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:59"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value"><span class="id" title="inductive">PcbvCurr.value</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#1d28c3a08712541ac348bd7b727d2c6f"><span class="id" title="variable">Σ2</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#vars_to_apps"><span class="id" title="definition">vars_to_apps</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:57"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:58"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:59"><span class="id" title="variable">l</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9357aecf4b5f6bdad73928e23db1269a"><span class="id" title="variable">Σ1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">l</span> [[??]?] <span class="id" title="var">syncEnv</span> <span class="id" title="var">Hres</span> <span class="id" title="var">Har</span> <span class="id" title="var">Hfa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">syncEnv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hres</span>) <span class="id" title="keyword">as</span> [[[??]?][?[??]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_vars_to_apps_constr"><span class="id" title="lemma">mkApps_vars_to_apps_constr</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value_app"><span class="id" title="lemma">PcbvCurr.value_app</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cstr_arity"><span class="id" title="definition">PcbvCurr.cstr_arity</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">bool</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="ge_val_ok" class="idref" href="#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <a id="e4cd9633ec2d0ee09ebe5d497f8dd196" class="idref" href="#e4cd9633ec2d0ee09ebe5d497f8dd196"><span class="id" title="binder">Σ</span></a> <a id="v:63" class="idref" href="#v:63"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:63"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span> <span class="id" title="var">args</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:66" class="idref" href="#res:66"><span class="id" title="binder">res</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e4cd9633ec2d0ee09ebe5d497f8dd196"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#res:66"><span class="id" title="variable">res</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok:64"><span class="id" title="definition">ge_val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e4cd9633ec2d0ee09ebe5d497f8dd196"><span class="id" title="variable">Σ</span></a>) <span class="id" title="var">args</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> ρ <span class="id" title="var">x0</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok:64"><span class="id" title="definition">ge_val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e4cd9633ec2d0ee09ebe5d497f8dd196"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) ρ<br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vTyClos"><span class="id" title="constructor">vTyClos</span></a> ρ <span class="id" title="var">nm</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok:64"><span class="id" title="definition">ge_val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e4cd9633ec2d0ee09ebe5d497f8dd196"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) ρ<br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#PcbvCurr.value"><span class="id" title="inductive">PcbvCurr.value</span></a> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_inductive_mkApps" class="idref" href="#decompose_inductive_mkApps"><span class="id" title="lemma">decompose_inductive_mkApps</span></a> <a id="ty:67" class="idref" href="#ty:67"><span class="id" title="binder">ty</span></a> <a id="ind:68" class="idref" href="#ind:68"><span class="id" title="binder">ind</span></a> <a id="args:69" class="idref" href="#args:69"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:67"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:68"><span class="id" title="variable">ind</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:69"><span class="id" title="variable">args</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:67"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.Kernames.html#mkInd"><span class="id" title="constructor">mkInd</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#kername_of_string"><span class="id" title="definition">kername_of_string</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:68"><span class="id" title="variable">ind</span></a>) 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:69"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">args</span> <span class="id" title="var">ind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">args</span> <span class="id" title="var">ind</span> <span class="id" title="var">Hdi</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdi</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdi</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_unfold"><span class="id" title="lemma">mkApps_unfold</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_inductive_value" class="idref" href="#decompose_inductive_value"><span class="id" title="lemma">decompose_inductive_value</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="ac713e2c58df9c0a01be9ad130d8ea1a" class="idref" href="#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="binder">Σ</span></a> (<a id="t1:71" class="idref" href="#t1:71"><span class="id" title="binder">t1</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) (<a id="args:72" class="idref" href="#args:72"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) <a id="ind:73" class="idref" href="#ind:73"><span class="id" title="binder">ind</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value"><span class="id" title="inductive">PcbvCurr.value</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:71"><span class="id" title="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:71"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:73"><span class="id" title="variable">ind</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:72"><span class="id" title="variable">args</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value"><span class="id" title="inductive">PcbvCurr.value</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:72"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">args</span> <span class="id" title="var">ind</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hdi</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdi</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <span class="id" title="var">t1_1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ind'</span> <span class="id" title="var">tys</span>]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdi</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#decompose_inductive_mkApps"><span class="id" title="lemma">decompose_inductive_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_unfold"><span class="id" title="lemma">mkApps_unfold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">tind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hna</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> <span class="id" title="var">tind</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value_mkApps_inv"><span class="id" title="lemma">PcbvCurr.value_mkApps_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hna</span> <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">W</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">W</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> | <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">tys</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_value_term_value" class="idref" href="#type_value_term_value"><span class="id" title="lemma">type_value_term_value</span></a> <a id="0bb1b226b53b6455e93ad6a4d211d8ec" class="idref" href="#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="binder">Σ</span></a> <a id="ty:75" class="idref" href="#ty:75"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:75"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_val"><span class="id" title="inductive">ty_val</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:75"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value"><span class="id" title="inductive">PcbvCurr.value</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:75"><span class="id" title="variable">ty</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hty</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#tInd_atom"><span class="id" title="lemma">tInd_atom</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#decompose_inductive_mkApps"><span class="id" title="lemma">decompose_inductive_mkApps</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_unfold"><span class="id" title="lemma">mkApps_unfold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value_app"><span class="id" title="lemma">PcbvCurr.value_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#tInd_value_head"><span class="id" title="lemma">tInd_value_head</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#decompose_inductive_value"><span class="id" title="lemma">decompose_inductive_value</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t1</span> := <span class="id" title="var">ty1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_val"><span class="id" title="inductive">ty_val</span></a> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_ok_lookup_ty_val" class="idref" href="#env_ok_lookup_ty_val"><span class="id" title="lemma">env_ok_lookup_ty_val</span></a> <a id="ty:76" class="idref" href="#ty:76"><span class="id" title="binder">ty</span></a> <a id="i:77" class="idref" href="#i:77"><span class="id" title="binder">i</span></a> <a id="2639e8676b80946ed652087283a1b245" class="idref" href="#2639e8676b80946ed652087283a1b245"><span class="id" title="binder">Σ</span></a> <a id="f49d3fc8ca22e0f9e710f0c9a4d98298" class="idref" href="#f49d3fc8ca22e0f9e710f0c9a4d98298"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#2639e8676b80946ed652087283a1b245"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f49d3fc8ca22e0f9e710f0c9a4d98298"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f49d3fc8ca22e0f9e710f0c9a4d98298"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:77"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:76"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_val"><span class="id" title="inductive">ty_val</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:76"><span class="id" title="variable">ty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok</span> : <a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#All_lookup_i"><span class="id" title="lemma">All_lookup_i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_ok_lookup_closed_ty" class="idref" href="#env_ok_lookup_closed_ty"><span class="id" title="lemma">env_ok_lookup_closed_ty</span></a> <a id="ty:80" class="idref" href="#ty:80"><span class="id" title="binder">ty</span></a> <a id="i:81" class="idref" href="#i:81"><span class="id" title="binder">i</span></a> <a id="cfef01e03494c5eba8f86f1492cd95f1" class="idref" href="#cfef01e03494c5eba8f86f1492cd95f1"><span class="id" title="binder">Σ</span></a> <a id="3e3994be61c510f402223c911309ae08" class="idref" href="#3e3994be61c510f402223c911309ae08"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cfef01e03494c5eba8f86f1492cd95f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#3e3994be61c510f402223c911309ae08"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#3e3994be61c510f402223c911309ae08"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:81"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:80"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:80"><span class="id" title="variable">ty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok</span> : <a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#All_lookup_i"><span class="id" title="lemma">All_lookup_i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_ty_closed" class="idref" href="#eval_ty_closed"><span class="id" title="lemma">eval_ty_closed</span></a> <a id="a5bae1297469f77e34a5c13ef06bb586" class="idref" href="#a5bae1297469f77e34a5c13ef06bb586"><span class="id" title="binder">Σ</span></a> <a id="ty:85" class="idref" href="#ty:85"><span class="id" title="binder">ty</span></a> <a id="ty_v:86" class="idref" href="#ty_v:86"><span class="id" title="binder">ty_v</span></a> <a id="15226d005b58d4bbbcbafa76b1d3d75a" class="idref" href="#15226d005b58d4bbbcbafa76b1d3d75a"><span class="id" title="binder">ρ</span></a> <a id="n:88" class="idref" href="#n:88"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a5bae1297469f77e34a5c13ef06bb586"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#15226d005b58d4bbbcbafa76b1d3d75a"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#15226d005b58d4bbbcbafa76b1d3d75a"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:85"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:86"><span class="id" title="variable">ty_v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:86"><span class="id" title="variable">ty_v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ty_v</span> ρ <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span> ??? <span class="id" title="var">Hok</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hind</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn0</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> ρ (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n0</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlook</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_0"><span class="id" title="lemma">iclosed_ty_0</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#env_ok_lookup_closed_ty"><span class="id" title="lemma">env_ok_lookup_closed_ty</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_eval_value" class="idref" href="#type_eval_value"><span class="id" title="lemma">type_eval_value</span></a> <a id="c51b7ec861f7c17647e5cb8afff8d01c" class="idref" href="#c51b7ec861f7c17647e5cb8afff8d01c"><span class="id" title="binder">Σ</span></a> <a id="b5c9d7f2005c2565a2dd3d51564a6b8c" class="idref" href="#b5c9d7f2005c2565a2dd3d51564a6b8c"><span class="id" title="binder">ρ</span></a> <a id="ty:91" class="idref" href="#ty:91"><span class="id" title="binder">ty</span></a> <a id="ty_v:92" class="idref" href="#ty_v:92"><span class="id" title="binder">ty_v</span></a> <a id="n:93" class="idref" href="#n:93"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c51b7ec861f7c17647e5cb8afff8d01c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b5c9d7f2005c2565a2dd3d51564a6b8c"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:93"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b5c9d7f2005c2565a2dd3d51564a6b8c"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:91"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:92"><span class="id" title="variable">ty_v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_val"><span class="id" title="inductive">ty_val</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:92"><span class="id" title="variable">ty_v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hok</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">ty_v</span>. <span class="id" title="var">revert</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hind</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ind0</span> <span class="id" title="var">args</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> ρ (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n0</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlook</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#env_ok_lookup_ty_val"><span class="id" title="lemma">env_ok_lookup_ty_val</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_to_term_eval_value" class="idref" href="#type_to_term_eval_value"><span class="id" title="lemma">type_to_term_eval_value</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="9f8fe4ff4ad8e8749aa26197965db284" class="idref" href="#9f8fe4ff4ad8e8749aa26197965db284"><span class="id" title="binder">Σ1</span></a> <a id="a161680603423bf4d2c84f62f45cc98a" class="idref" href="#a161680603423bf4d2c84f62f45cc98a"><span class="id" title="binder">Σ2</span></a> (<a id="ty:96" class="idref" href="#ty:96"><span class="id" title="binder">ty</span></a> <a id="ty_v:97" class="idref" href="#ty_v:97"><span class="id" title="binder">ty_v</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) <a id="65aa6ecbd3e1beccbba75b6b7c168618" class="idref" href="#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="binder">ρ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9f8fe4ff4ad8e8749aa26197965db284"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#65aa6ecbd3e1beccbba75b6b7c168618"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:96"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:97"><span class="id" title="variable">ty_v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value"><span class="id" title="inductive">PcbvCurr.value</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a161680603423bf4d2c84f62f45cc98a"><span class="id" title="variable">Σ2</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:97"><span class="id" title="variable">ty_v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_value_term_value"><span class="id" title="lemma">type_value_term_value</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_closed"><span class="id" title="lemma">eval_ty_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_eval_value"><span class="id" title="lemma">type_eval_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Wcvb_type_to_term_eval" class="idref" href="#Wcvb_type_to_term_eval"><span class="id" title="lemma">Wcvb_type_to_term_eval</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="de3da94079502f9050cfa973d2fd5942" class="idref" href="#de3da94079502f9050cfa973d2fd5942"><span class="id" title="binder">Σ1</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">PCUICEnvironment.global_env</span></a>) <a id="165ea4f76cd480385193a265e6cce5bc" class="idref" href="#165ea4f76cd480385193a265e6cce5bc"><span class="id" title="binder">Σ2</span></a> (<a id="ty:101" class="idref" href="#ty:101"><span class="id" title="binder">ty</span></a> <a id="ty_v:102" class="idref" href="#ty_v:102"><span class="id" title="binder">ty_v</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) <a id="64d03f4540734a055cc38bd430860583" class="idref" href="#64d03f4540734a055cc38bd430860583"><span class="id" title="binder">ρ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#165ea4f76cd480385193a265e6cce5bc"><span class="id" title="variable">Σ2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#64d03f4540734a055cc38bd430860583"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0) (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#64d03f4540734a055cc38bd430860583"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#64d03f4540734a055cc38bd430860583"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:101"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:102"><span class="id" title="variable">ty_v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#de3da94079502f9050cfa973d2fd5942"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#59bcf74878850eb3a01d5a33d6f06a5e"><span class="id" title="notation">|-</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:102"><span class="id" title="variable">ty_v</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#59bcf74878850eb3a01d5a33d6f06a5e"><span class="id" title="notation">⇓</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:102"><span class="id" title="variable">ty_v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value_final"><span class="id" title="lemma">PcbvCurr.value_final</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_to_term_eval_value"><span class="id" title="lemma">type_to_term_eval_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Wcbv_of_value_value" class="idref" href="#Wcbv_of_value_value"><span class="id" title="lemma">Wcbv_of_value_value</span></a> <a id="v:104" class="idref" href="#v:104"><span class="id" title="binder">v</span></a> <a id="908bad3c4661115ff98473ad5e3d4748" class="idref" href="#908bad3c4661115ff98473ad5e3d4748"><span class="id" title="binder">Σ1</span></a> <a id="f77328c3e1889a48aba3cd4332b55e83" class="idref" href="#f77328c3e1889a48aba3cd4332b55e83"><span class="id" title="binder">Σ2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#908bad3c4661115ff98473ad5e3d4748"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ef9d256079c0792b68e6d5b9b0edd2f4"><span class="id" title="notation">⋈</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f77328c3e1889a48aba3cd4332b55e83"><span class="id" title="variable">Σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#908bad3c4661115ff98473ad5e3d4748"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:104"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value"><span class="id" title="inductive">PcbvCurr.value</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f77328c3e1889a48aba3cd4332b55e83"><span class="id" title="variable">Σ2</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:104"><span class="id" title="variable">v</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#908bad3c4661115ff98473ad5e3d4748"><span class="id" title="variable">Σ1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsync</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">v</span> <span class="id" title="keyword">using</span> <a class="idref" href="ConCert.Embedding.EvalE.html#val_elim_full"><span class="id" title="definition">val_elim_full</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#Wcbv_value_vars_to_apps"><span class="id" title="lemma">Wcbv_value_vars_to_apps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#All_impl_inner"><span class="id" title="lemma">All_impl_inner</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">cm</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_value_term_value"><span class="id" title="lemma">type_value_term_value</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_1_closed" class="idref" href="#lift_1_closed"><span class="id" title="lemma">lift_1_closed</span></a> <a id="n:107" class="idref" href="#n:107"><span class="id" title="binder">n</span></a> <a id="t:108" class="idref" href="#t:108"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:107"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:108"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:107"><span class="id" title="variable">n</span></a>) ((<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> 1) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:108"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_lift"><span class="id" title="lemma">closedn_lift</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> := <span class="id" title="var">n</span>) (<span class="id" title="var">n</span> := 1).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">lift_1_closed</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_to_term_closed" class="idref" href="#type_to_term_closed"><span class="id" title="lemma">type_to_term_closed</span></a> <a id="ty:109" class="idref" href="#ty:109"><span class="id" title="binder">ty</span></a> <a id="n:110" class="idref" href="#n:110"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:110"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:109"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:110"><span class="id" title="variable">n</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:109"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n0</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>; <span class="id" title="var">destruct_hyps</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">type_to_term_closed</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_to_term_subst_par_rec" class="idref" href="#type_to_term_subst_par_rec"><span class="id" title="lemma">type_to_term_subst_par_rec</span></a> <a id="070a33cf09d49efa79940e19967a9d25" class="idref" href="#070a33cf09d49efa79940e19967a9d25"><span class="id" title="binder">Σ</span></a> <a id="ty:112" class="idref" href="#ty:112"><span class="id" title="binder">ty</span></a> <a id="k:113" class="idref" href="#k:113"><span class="id" title="binder">k</span></a> <a id="fdb77d0fcefa32e16cc535f6a28c1adb" class="idref" href="#fdb77d0fcefa32e16cc535f6a28c1adb"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_env_ok"><span class="id" title="definition">ty_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:113"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#fdb77d0fcefa32e16cc535f6a28c1adb"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:112"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:115" class="idref" href="#x:115"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:115"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#fdb77d0fcefa32e16cc535f6a28c1adb"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:113"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#fdb77d0fcefa32e16cc535f6a28c1adb"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:112"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:116" class="idref" href="#x:116"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#expr_to_term"><span class="id" title="definition">expr_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#070a33cf09d49efa79940e19967a9d25"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:116"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#fdb77d0fcefa32e16cc535f6a28c1adb"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:113"><span class="id" title="variable">k</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:112"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:113"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#fdb77d0fcefa32e16cc535f6a28c1adb"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:112"><span class="id" title="variable">ty</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span> ρ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e0</span> <span class="id" title="var">Hok</span> <span class="id" title="var">Hce</span> <span class="id" title="var">Hct</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Utils.Extras.html#with_default"><span class="id" title="definition">Extras.with_default</span></a>, <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.lookup_ty"><span class="id" title="definition">lookup_ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#lookup_i_nth_error"><span class="id" title="lemma">lookup_i_nth_error</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hp</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closed"><span class="id" title="abbreviation">closed</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">T</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟦</span></a> <span class="id" title="var">t</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟧</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_closed"><span class="id" title="lemma">lift_closed</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHty2</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#commut_lift_subst_rec"><span class="id" title="lemma">commut_lift_subst_rec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_to_term_subst" class="idref" href="#type_to_term_subst"><span class="id" title="lemma">type_to_term_subst</span></a> <a id="388873efb4be7b6002f3f68ecd6fa136" class="idref" href="#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="binder">Σ</span></a> <a id="ty:118" class="idref" href="#ty:118"><span class="id" title="binder">ty</span></a> <a id="k:119" class="idref" href="#k:119"><span class="id" title="binder">k</span></a> <a id="e:120" class="idref" href="#e:120"><span class="id" title="binder">e</span></a> (<a id="nm:121" class="idref" href="#nm:121"><span class="id" title="binder">nm</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_env_ok"><span class="id" title="definition">ty_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:119"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:121"><span class="id" title="variable">nm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:120"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:118"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:120"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:119"><span class="id" title="variable">k</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:118"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:118"><span class="id" title="variable">ty</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:119"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:120"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="variable">Σ</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:119"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:121"><span class="id" title="variable">nm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:120"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:118"><span class="id" title="variable">ty</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_to_term_subst_par_rec"><span class="id" title="lemma">type_to_term_subst_par_rec</span></a> <span class="id" title="keyword">with</span> (ρ := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="keyword">with</span> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_to_term_eval" class="idref" href="#type_to_term_eval"><span class="id" title="lemma">type_to_term_eval</span></a> <a id="89c991e573d576d4ce9b4ce8f6af8d89" class="idref" href="#89c991e573d576d4ce9b4ce8f6af8d89"><span class="id" title="binder">Σ</span></a> <a id="ty:123" class="idref" href="#ty:123"><span class="id" title="binder">ty</span></a> <a id="k:124" class="idref" href="#k:124"><span class="id" title="binder">k</span></a> <a id="e:125" class="idref" href="#e:125"><span class="id" title="binder">e</span></a> (<a id="nm:126" class="idref" href="#nm:126"><span class="id" title="binder">nm</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) <a id="v:127" class="idref" href="#v:127"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:124"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:123"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:124"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:126"><span class="id" title="variable">nm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:125"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:123"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:127"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:123"><span class="id" title="variable">ty</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:124"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:125"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#89c991e573d576d4ce9b4ce8f6af8d89"><span class="id" title="variable">Σ</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:127"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e0</span> <span class="id" title="var">v</span> <span class="id" title="var">Hc</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <span class="id" title="var">t0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hde</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>. <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hkn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hnk</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#commut_lift_subst"><span class="id" title="lemma">commut_lift_subst</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> -&gt; <span class="id" title="var">length_zero_iff_nil</span> : <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> &lt;- <span class="id" title="var">length_zero_iff_nil</span> : <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">type_to_term_subst</span> : <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">type_to_term_closed</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="inc_subst" class="idref" href="#inc_subst"><span class="id" title="definition">inc_subst</span></a> (<a id="ts:128" class="idref" href="#ts:128"><span class="id" title="binder">ts</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)) <a id="n:129" class="idref" href="#n:129"><span class="id" title="binder">n</span></a> (<a id="u:130" class="idref" href="#u:130"><span class="id" title="binder">u</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:128"><span class="id" title="variable">ts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ts0</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t0</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:129"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u:130"><span class="id" title="variable">u</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#inc_subst:131"><span class="id" title="definition">inc_subst</span></a> <span class="id" title="var">ts0</span> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:129"><span class="id" title="variable">n</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u:130"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="nsubst" class="idref" href="#nsubst"><span class="id" title="definition">nsubst</span></a> (<a id="ts:133" class="idref" href="#ts:133"><span class="id" title="binder">ts</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="n:134" class="idref" href="#n:134"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="t:135" class="idref" href="#t:135"><span class="id" title="binder">t</span></a> :<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:133"><span class="id" title="variable">ts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:135"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">t0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ts0</span> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nsubst:136"><span class="id" title="definition">nsubst</span></a> <span class="id" title="var">ts0</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:134"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1) (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:134"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:135"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nsubst_lam" class="idref" href="#nsubst_lam"><span class="id" title="lemma">nsubst_lam</span></a> <a id="xs:138" class="idref" href="#xs:138"><span class="id" title="binder">xs</span></a> <a id="b:139" class="idref" href="#b:139"><span class="id" title="binder">b</span></a> <a id="nm:140" class="idref" href="#nm:140"><span class="id" title="binder">nm</span></a> <a id="ty:141" class="idref" href="#ty:141"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:141"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nsubst"><span class="id" title="definition">nsubst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:138"><span class="id" title="variable">xs</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:138"><span class="id" title="variable">xs</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:140"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:141"><span class="id" title="variable">ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b:139"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:140"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:141"><span class="id" title="variable">ty</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nsubst"><span class="id" title="definition">nsubst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:138"><span class="id" title="variable">xs</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:138"><span class="id" title="variable">xs</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b:139"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">b</span> <span class="id" title="var">nm</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">xs</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="var">ty</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#closed_upwards"><span class="id" title="lemma">closed_upwards</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">xs</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">with</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">xs</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICClosed.html#subst_closedn"><span class="id" title="lemma">subst_closedn</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_lift0" class="idref" href="#map_lift0"><span class="id" title="lemma">map_lift0</span></a> <a id="xs:142" class="idref" href="#xs:142"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> 0) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:142"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:142"><span class="id" title="variable">xs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="simpl_lift_map" class="idref" href="#simpl_lift_map"><span class="id" title="lemma">simpl_lift_map</span></a> <a id="xs:143" class="idref" href="#xs:143"><span class="id" title="binder">xs</span></a> <a id="n:144" class="idref" href="#n:144"><span class="id" title="binder">n</span></a> <a id="m:145" class="idref" href="#m:145"><span class="id" title="binder">m</span></a> <a id="p:146" class="idref" href="#p:146"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">(</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:144"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:146"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">(</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#m:145"><span class="id" title="variable">m</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:146"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">)</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:143"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:144"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#m:145"><span class="id" title="variable">m</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:146"><span class="id" title="variable">p</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:143"><span class="id" title="variable">xs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#simpl_lift"><span class="id" title="lemma">simpl_lift</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;:&nbsp;use&nbsp;this&nbsp;lemma&nbsp;in&nbsp;all&nbsp;places&nbsp;where&nbsp;this&nbsp;inversion&nbsp;is&nbsp;needed&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_lam_inv" class="idref" href="#eval_lam_inv"><span class="id" title="lemma">eval_lam_inv</span></a> <a id="b5068c6cd8c41337afac36deb35caa4d" class="idref" href="#b5068c6cd8c41337afac36deb35caa4d"><span class="id" title="binder">Σ</span></a> <a id="nm1:148" class="idref" href="#nm1:148"><span class="id" title="binder">nm1</span></a> <a id="nm2:149" class="idref" href="#nm2:149"><span class="id" title="binder">nm2</span></a> <a id="ty1:150" class="idref" href="#ty1:150"><span class="id" title="binder">ty1</span></a> <a id="ty2:151" class="idref" href="#ty2:151"><span class="id" title="binder">ty2</span></a> <a id="b1:152" class="idref" href="#b1:152"><span class="id" title="binder">b1</span></a> <a id="b2:153" class="idref" href="#b2:153"><span class="id" title="binder">b2</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b5068c6cd8c41337afac36deb35caa4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#59bcf74878850eb3a01d5a33d6f06a5e"><span class="id" title="notation">|-</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm1:148"><span class="id" title="variable">nm1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty1:150"><span class="id" title="variable">ty1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b1:152"><span class="id" title="variable">b1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#59bcf74878850eb3a01d5a33d6f06a5e"><span class="id" title="notation">⇓</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm2:149"><span class="id" title="variable">nm2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty2:151"><span class="id" title="variable">ty2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b2:153"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm1:148"><span class="id" title="variable">nm1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm2:149"><span class="id" title="variable">nm2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty1:150"><span class="id" title="variable">ty1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty2:151"><span class="id" title="variable">ty2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b1:152"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b2:153"><span class="id" title="variable">b2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="nsubst_alt" class="idref" href="#nsubst_alt"><span class="id" title="definition">nsubst_alt</span></a> (<a id="ts:154" class="idref" href="#ts:154"><span class="id" title="binder">ts</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="t:155" class="idref" href="#t:155"><span class="id" title="binder">t</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">ts</span>} : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:154"><span class="id" title="variable">ts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:155"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">t0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ts0</span> =&gt; (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nsubst_alt:156"><span class="id" title="definition">nsubst_alt</span></a> <span class="id" title="var">ts0</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:155"><span class="id" title="variable">t</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a>0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">t0</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_upwards0" class="idref" href="#closed_upwards0"><span class="id" title="lemma">closed_upwards0</span></a> <a id="n:158" class="idref" href="#n:158"><span class="id" title="binder">n</span></a> <a id="t:159" class="idref" href="#t:159"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closed"><span class="id" title="abbreviation">closed</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:159"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:158"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:159"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#closed_upwards"><span class="id" title="lemma">closed_upwards</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">closed_upwards0</span> <span class="id" title="var">subst_closedn</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nsubst_app" class="idref" href="#nsubst_app"><span class="id" title="lemma">nsubst_app</span></a> <a id="ts:160" class="idref" href="#ts:160"><span class="id" title="binder">ts</span></a> <a id="t0:161" class="idref" href="#t0:161"><span class="id" title="binder">t0</span></a> <a id="t1:162" class="idref" href="#t1:162"><span class="id" title="binder">t1</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closed"><span class="id" title="abbreviation">closed</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t0:161"><span class="id" title="variable">t0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nsubst"><span class="id" title="definition">nsubst</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:160"><span class="id" title="variable">ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t0:161"><span class="id" title="variable">t0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:160"><span class="id" title="variable">ts</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:162"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nsubst"><span class="id" title="definition">nsubst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:160"><span class="id" title="variable">ts</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:160"><span class="id" title="variable">ts</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:162"><span class="id" title="variable">t1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a>0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t0:161"><span class="id" title="variable">t0</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t0</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ts</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ts</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">with</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ts</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHts</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#distr_subst"><span class="id" title="lemma">distr_subst</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> (<span class="id" title="var">t0</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ts</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">t0</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_closed_map" class="idref" href="#subst_closed_map"><span class="id" title="lemma">subst_closed_map</span></a> <a id="ts1:163" class="idref" href="#ts1:163"><span class="id" title="binder">ts1</span></a> <a id="ts2:164" class="idref" href="#ts2:164"><span class="id" title="binder">ts2</span></a> <a id="k:165" class="idref" href="#k:165"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:165"><span class="id" title="variable">k</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts2:164"><span class="id" title="variable">ts2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts1:163"><span class="id" title="variable">ts1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:165"><span class="id" title="variable">k</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts2:164"><span class="id" title="variable">ts2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts2:164"><span class="id" title="variable">ts2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">k</span>. <span class="id" title="var">revert</span> <span class="id" title="var">ts1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ts2</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destr_args</span> <span class="id" title="var">args</span> := <span class="id" title="keyword">let</span> <span class="id" title="var">args0</span> := <span class="id" title="tactic">fresh</span> "args0" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> <span class="id" title="keyword">as</span> [ | ? <span class="id" title="var">args0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">args0</span>; <span class="id" title="var">tryfalse</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id=":::x_'&lt;--&gt;'_x" class="idref" href="#:::x_'&lt;--&gt;'_x"><span class="id" title="notation">&quot;</span></a>P &lt;--&gt; Q" := (<span class="id" title="definition">Logic.BiImpl</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_mkApps" class="idref" href="#closed_mkApps"><span class="id" title="lemma">closed_mkApps</span></a> <a id="n:166" class="idref" href="#n:166"><span class="id" title="binder">n</span></a> <a id="t1:167" class="idref" href="#t1:167"><span class="id" title="binder">t1</span></a> <a id="t2:168" class="idref" href="#t2:168"><span class="id" title="binder">t2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:166"><span class="id" title="variable">n</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:167"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:168"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:166"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:167"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:166"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:168"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">t2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">Bool.andb_true_r</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">Bool.andb_true_r</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> &lt;- <span class="id" title="var">closed_mkApps</span> : <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> -&gt; <span class="id" title="var">closed_mkApps</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="genv_ok_constrs_ok" class="idref" href="#genv_ok_constrs_ok"><span class="id" title="lemma">genv_ok_constrs_ok</span></a> <a id="177e061b1c03e61b795cc8d27a9c6ff0" class="idref" href="#177e061b1c03e61b795cc8d27a9c6ff0"><span class="id" title="binder">Σ</span></a> <a id="ind:170" class="idref" href="#ind:170"><span class="id" title="binder">ind</span></a> <a id="cs:171" class="idref" href="#cs:171"><span class="id" title="binder">cs</span></a> <a id="nparam:172" class="idref" href="#nparam:172"><span class="id" title="binder">nparam</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#genv_ok"><span class="id" title="definition">genv_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#177e061b1c03e61b795cc8d27a9c6ff0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#resolve_inductive"><span class="id" title="definition">resolve_inductive</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#177e061b1c03e61b795cc8d27a9c6ff0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:170"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nparam:172"><span class="id" title="variable">nparam</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cs:171"><span class="id" title="variable">cs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Wf.html#constr_ok"><span class="id" title="definition">constr_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nparam:172"><span class="id" title="variable">nparam</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cs:171"><span class="id" title="variable">cs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hgeok</span> <span class="id" title="var">Hr</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.Ast.html#resolve_inductive"><span class="id" title="definition">resolve_inductive</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#lookup_global"><span class="id" title="definition">lookup_global</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ind</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlg</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">cs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">e0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <span class="id" title="var">ind</span>)%<span class="id" title="var">string</span>; <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="constrs_ok_in" class="idref" href="#constrs_ok_in"><span class="id" title="lemma">constrs_ok_in</span></a> <a id="s:173" class="idref" href="#s:173"><span class="id" title="binder">s</span></a> <a id="c:174" class="idref" href="#c:174"><span class="id" title="binder">c</span></a> (<a id="cs:175" class="idref" href="#cs:175"><span class="id" title="binder">cs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#constr"><span class="id" title="definition">constr</span></a>) <a id="nparam:176" class="idref" href="#nparam:176"><span class="id" title="binder">nparam</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#s:173"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c:174"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cs:175"><span class="id" title="variable">cs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Wf.html#constr_ok"><span class="id" title="definition">constr_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nparam:176"><span class="id" title="variable">nparam</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cs:175"><span class="id" title="variable">cs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nparam:176"><span class="id" title="variable">nparam</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c:174"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hfa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Wf.html#constr_ok"><span class="id" title="definition">constr_ok</span></a> <span class="id" title="var">nparam</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#forallb_In"><span class="id" title="lemma">forallb_In</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_type_to_term_closed" class="idref" href="#forallb_type_to_term_closed"><span class="id" title="lemma">forallb_type_to_term_closed</span></a> <a id="ts:177" class="idref" href="#ts:177"><span class="id" title="binder">ts</span></a> <a id="n:178" class="idref" href="#n:178"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:178"><span class="id" title="variable">n</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:177"><span class="id" title="variable">ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:178"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:177"><span class="id" title="variable">ts</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ts</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">forallb_type_to_term_closed</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedn_ctx_branches" class="idref" href="#closedn_ctx_branches"><span class="id" title="lemma">closedn_ctx_branches</span></a> <a id="n:179" class="idref" href="#n:179"><span class="id" title="binder">n</span></a> <a id="tys:180" class="idref" href="#tys:180"><span class="id" title="binder">tys</span></a> <a id="vs:181" class="idref" href="#vs:181"><span class="id" title="binder">vs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#vs:181"><span class="id" title="variable">vs</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#tys:180"><span class="id" title="variable">tys</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:179"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#tys:180"><span class="id" title="variable">tys</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:179"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:185" class="idref" href="#pat:185"><span class="id" title="binder">(</span></a><a id="pat:185" class="idref" href="#pat:185"><span class="id" title="binder">nm0</span></a><a id="pat:185" class="idref" href="#pat:185"><span class="id" title="binder">,</span></a> <a id="pat:185" class="idref" href="#pat:185"><span class="id" title="binder">ty</span></a><a id="pat:185" class="idref" href="#pat:185"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#aRelevant"><span class="id" title="definition">aRelevant</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#nNamed"><span class="id" title="constructor">nNamed</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#of_string"><span class="id" title="definition">TCString.of_string</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm0:184"><span class="id" title="variable">nm0</span></a>))) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:183"><span class="id" title="variable">ty</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#vs:181"><span class="id" title="variable">vs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:182" class="idref" href="#x:182"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">T</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:182"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟧</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#tys:180"><span class="id" title="variable">tys</span></a>))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Htys</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htys</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#Forall_map_inv"><span class="id" title="lemma">Forall_map_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htys</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">vs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tys</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">vs</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">vs</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlen0</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">Htys</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHtys</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine_length"><span class="id" title="lemma">combine_length</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlen0</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#min"><span class="id" title="definition">Init.Nat.min</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Htys</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Htys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="var">a</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_m_n"><span class="id" title="lemma">iclosed_ty_m_n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_closed_term_closed" class="idref" href="#expr_closed_term_closed"><span class="id" title="lemma">expr_closed_term_closed</span></a> <a id="e:186" class="idref" href="#e:186"><span class="id" title="binder">e</span></a> <a id="n:187" class="idref" href="#n:187"><span class="id" title="binder">n</span></a> <a id="714880f5627db3426d84fcf8ef7a9648" class="idref" href="#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="binder">Σ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#genv_ok"><span class="id" title="definition">genv_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:187"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:186"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:187"><span class="id" title="variable">n</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:186"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="ConCert.Embedding.Ast.html#expr_ind_case"><span class="id" title="definition">expr_ind_case</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n1</span> <span class="id" title="var">Hgeok</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eLambda*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eTyLam&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eLetIn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [[? ?] ?]. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eApp&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">mkApps</span>]. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#closed_mkApps"><span class="id" title="lemma">closed_mkApps</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eConstr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eCase&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [[[? ?] ?] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_inductive"><span class="id" title="definition">resolve_inductive</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hres</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hnparams</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#test_predicate_k"><span class="id" title="definition">test_predicate_k</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">propify</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#forallb_type_to_term_closed"><span class="id" title="lemma">forallb_type_to_term_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <span class="id" title="var">l0</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:190" class="idref" href="#x:190"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> =&gt; <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#aRelevant"><span class="id" title="definition">aRelevant</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#nAnon"><span class="id" title="constructor">nAnon</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">T</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:189"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟧</span></a>) <span class="id" title="var">l0</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_to_extended_list"><span class="id" title="lemma">closedn_to_extended_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">np</span> <span class="id" title="var">cs</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">nm</span> <span class="id" title="var">tys</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.Misc.html#fun_prod"><span class="id" title="definition">fun_prod</span></a>,<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#test_branch_k"><span class="id" title="definition">test_branch_k</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#etrans_branch"><span class="id" title="definition">etrans_branch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">tb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#etrans_branch"><span class="id" title="definition">etrans_branch</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqtb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="x:192" class="idref" href="#x:192"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="var">_</span>)) <span class="id" title="keyword">as</span> [ <span class="id" title="var">p0</span> | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hnm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pt</span> <span class="id" title="var">e1</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">pt</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)%<span class="id" title="var">nat</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlen</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#find_some"><span class="id" title="lemma">find_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnm</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin'</span> <span class="id" title="var">Heqs</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Htmp</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pt1</span> <span class="id" title="var">e2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htmp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He1</span> <span class="id" title="var">Hin''</span>]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He1</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">pt1</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcs</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Wf.html#constr_ok"><span class="id" title="definition">constr_ok</span></a> <span class="id" title="var">np</span>) <span class="id" title="var">cs</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#genv_ok_constrs_ok"><span class="id" title="lemma">genv_ok_constrs_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htys</span> :<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <span class="id" title="var">np</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">tys</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#constrs_ok_in"><span class="id" title="lemma">constrs_ok_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.Ast.html#resolve_inductive"><span class="id" title="definition">resolve_inductive</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#lookup_global"><span class="id" title="definition">lookup_global</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hres</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">np</span> <span class="id" title="var">cs</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hres</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#closedn_ctx_branches"><span class="id" title="lemma">closedn_ctx_branches</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>,<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine_length"><span class="id" title="lemma">combine_length</span></a>. <span class="id" title="var">rewrite_all</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#min"><span class="id" title="abbreviation">min</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">tys</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#Forall_In"><span class="id" title="lemma">Forall_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#Forall_In"><span class="id" title="lemma">Forall_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_to_term_closed"><span class="id" title="lemma">type_to_term_closed</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_exprs_len_iff" class="idref" href="#closed_exprs_len_iff"><span class="id" title="lemma">closed_exprs_len_iff</span></a> <a id="e:193" class="idref" href="#e:193"><span class="id" title="binder">e</span></a> <a id="n:194" class="idref" href="#n:194"><span class="id" title="binder">n</span></a> (<a id="bf00e4e9497a3d716ee98716920daccc" class="idref" href="#bf00e4e9497a3d716ee98716920daccc"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:194"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#bf00e4e9497a3d716ee98716920daccc"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:193"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:194"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#bf00e4e9497a3d716ee98716920daccc"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:193"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PeanoNat.Nat.compare_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Compare_dec.nat_compare_Lt_lt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Compare_dec.nat_compare_Gt_gt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Compare_dec.leb_correct_conv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PeanoNat.Nat.leb_refl</span> : <span class="id" title="var">facts</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">PeanoNat.Nat.ltb_lt</span> : <span class="id" title="var">facts</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">PeanoNat.Nat.leb_le</span> : <span class="id" title="var">facts</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#Forall"><span class="id" title="inductive">Forall</span></a> : <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> : <span class="id" title="var">hints</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_env_iclosed_n_inv</span> <span class="id" title="var">subst_env_iclosed_0_inv</span>: <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_env_iclosed_n</span> <span class="id" title="var">subst_env_iclosed_0</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="option_to_res_ok" class="idref" href="#option_to_res_ok"><span class="id" title="lemma">option_to_res_ok</span></a> {<a id="A:196" class="idref" href="#A:196"><span class="id" title="binder">A</span></a>} (<a id="o:197" class="idref" href="#o:197"><span class="id" title="binder">o</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:196"><span class="id" title="variable">A</span></a>) <a id="s:198" class="idref" href="#s:198"><span class="id" title="binder">s</span></a> <a id="v:199" class="idref" href="#v:199"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#o:197"><span class="id" title="variable">o</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#s:198"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:199"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#o:197"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:199"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">tryfalse</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forall_map_spec'" class="idref" href="#forall_map_spec'"><span class="id" title="lemma">forall_map_spec'</span></a> :<br/>
<span class="id" title="keyword">forall</span> (<a id="A:200" class="idref" href="#A:200"><span class="id" title="binder">A</span></a> <a id="B:201" class="idref" href="#B:201"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="P:202" class="idref" href="#P:202"><span class="id" title="binder">P</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:200"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="l:203" class="idref" href="#l:203"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:200"><span class="id" title="variable">A</span></a>) (<a id="f:204" class="idref" href="#f:204"><span class="id" title="binder">f</span></a> <a id="g:205" class="idref" href="#g:205"><span class="id" title="binder">g</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:200"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:201"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#P:202"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:203"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="x:206" class="idref" href="#x:206"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:200"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:206"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:203"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#P:202"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:206"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:204"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:206"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#g:205"><span class="id" title="variable">g</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:206"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:204"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:203"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#g:205"><span class="id" title="variable">g</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:203"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfa</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfa</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hfa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_In_snd" class="idref" href="#forallb_In_snd"><span class="id" title="lemma">forallb_In_snd</span></a> {<a id="A:207" class="idref" href="#A:207"><span class="id" title="binder">A</span></a> <a id="B:208" class="idref" href="#B:208"><span class="id" title="binder">B</span></a>} (<a id="l:209" class="idref" href="#l:209"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:207"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:208"><span class="id" title="variable">B</span></a>)) (<a id="p:210" class="idref" href="#p:210"><span class="id" title="binder">p</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:208"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="a:211" class="idref" href="#a:211"><span class="id" title="binder">a</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:207"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:208"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:212" class="idref" href="#x:212"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:210"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:212"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:209"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a:211"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:209"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:210"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a:211"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">propify</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_snd" class="idref" href="#forallb_snd"><span class="id" title="lemma">forallb_snd</span></a> {<a id="A:213" class="idref" href="#A:213"><span class="id" title="binder">A</span></a> <a id="B:214" class="idref" href="#B:214"><span class="id" title="binder">B</span></a>} (<a id="p:215" class="idref" href="#p:215"><span class="id" title="binder">p</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:214"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="l1:216" class="idref" href="#l1:216"><span class="id" title="binder">l1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:213"><span class="id" title="variable">A</span></a>) (<a id="l2:217" class="idref" href="#l2:217"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:214"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:215"><span class="id" title="variable">p</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:217"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:218" class="idref" href="#x:218"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:215"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:218"><span class="id" title="variable">x</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:216"><span class="id" title="variable">l1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:217"><span class="id" title="variable">l2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>. <span class="id" title="var">now</span> <span class="id" title="var">destruct_and_split</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inc_subst_closed" class="idref" href="#inc_subst_closed"><span class="id" title="lemma">inc_subst_closed</span></a> <a id="ts:219" class="idref" href="#ts:219"><span class="id" title="binder">ts</span></a> <a id="t:220" class="idref" href="#t:220"><span class="id" title="binder">t</span></a> <a id="n:221" class="idref" href="#n:221"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:221"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:219"><span class="id" title="variable">ts</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#inc_subst"><span class="id" title="definition">inc_subst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:219"><span class="id" title="variable">ts</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:221"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:220"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:219"><span class="id" title="variable">ts</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ts</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHts</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#closed_upwards"><span class="id" title="lemma">closed_upwards</span></a> (<span class="id" title="var">k</span> := <span class="id" title="var">n</span>)); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_to_term_map_par_rec" class="idref" href="#type_to_term_map_par_rec"><span class="id" title="lemma">type_to_term_map_par_rec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="60f1945b938352d0f4163094881466ec" class="idref" href="#60f1945b938352d0f4163094881466ec"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<a id="040392d02029c4b11f0a5052d1a2cc1b" class="idref" href="#040392d02029c4b11f0a5052d1a2cc1b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) (<a id="n:224" class="idref" href="#n:224"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="args:225" class="idref" href="#args:225"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Wf.html#ty_env_ok"><span class="id" title="definition">ty_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:224"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#60f1945b938352d0f4163094881466ec"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:225"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:226" class="idref" href="#x:226"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:226"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#60f1945b938352d0f4163094881466ec"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:224"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#60f1945b938352d0f4163094881466ec"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:225"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:227" class="idref" href="#x:227"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> =&gt; <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#expr_to_term"><span class="id" title="definition">expr_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#040392d02029c4b11f0a5052d1a2cc1b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#60f1945b938352d0f4163094881466ec"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:224"><span class="id" title="variable">n</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:227"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:225"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:228" class="idref" href="#x:228"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:224"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#60f1945b938352d0f4163094881466ec"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:228"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:225"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e0</span> <span class="id" title="var">Σ</span> <span class="id" title="var">n1</span> <span class="id" title="var">args</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hca</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_to_term_subst_par_rec"><span class="id" title="lemma">type_to_term_subst_par_rec</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_to_term_map" class="idref" href="#type_to_term_map"><span class="id" title="lemma">type_to_term_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="e0:229" class="idref" href="#e0:229"><span class="id" title="binder">e0</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<a id="93db78aaebd8fd38e5903ba9b7df17c8" class="idref" href="#93db78aaebd8fd38e5903ba9b7df17c8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) (<a id="n:231" class="idref" href="#n:231"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="nm:232" class="idref" href="#nm:232"><span class="id" title="binder">nm</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="args:233" class="idref" href="#args:233"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e0:229"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:231"><span class="id" title="variable">n</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:233"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Wf.html#ty_env_ok"><span class="id" title="definition">ty_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:231"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:232"><span class="id" title="variable">nm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e0:229"><span class="id" title="variable">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:233"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:234" class="idref" href="#x:234"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:234"><span class="id" title="variable">x</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:231"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e0:229"><span class="id" title="variable">e0</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#93db78aaebd8fd38e5903ba9b7df17c8"><span class="id" title="variable">Σ</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:233"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:235" class="idref" href="#x:235"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:231"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:232"><span class="id" title="variable">nm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e0:229"><span class="id" title="variable">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:235"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:233"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e0</span> <span class="id" title="var">Σ</span> <span class="id" title="var">n1</span> <span class="id" title="var">nm</span> <span class="id" title="var">args</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hca</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_to_term_map_par_rec"><span class="id" title="lemma">type_to_term_map_par_rec</span></a> <span class="id" title="keyword">with</span> (ρ := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="var">cbn</span>; <span class="id" title="var">propify</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_term_subst_env_rec" class="idref" href="#subst_term_subst_env_rec"><span class="id" title="lemma">subst_term_subst_env_rec</span></a> <a id="e:236" class="idref" href="#e:236"><span class="id" title="binder">e</span></a> <a id="e0:237" class="idref" href="#e0:237"><span class="id" title="binder">e0</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a6de768261409196abdb09e5e2787adb" class="idref" href="#a6de768261409196abdb09e5e2787adb"><span class="id" title="binder">Σ</span></a> <a id="n:239" class="idref" href="#n:239"><span class="id" title="binder">n</span></a> <a id="nm:240" class="idref" href="#nm:240"><span class="id" title="binder">nm</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#genv_ok"><span class="id" title="definition">genv_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a6de768261409196abdb09e5e2787adb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:240"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e0:237"><span class="id" title="variable">e0</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:239"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:236"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:239"><span class="id" title="variable">n</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:236"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e0:237"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:236"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a6de768261409196abdb09e5e2787adb"><span class="id" title="variable">Σ</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:239"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e0:237"><span class="id" title="variable">e0</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a6de768261409196abdb09e5e2787adb"><span class="id" title="variable">Σ</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:236"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:240"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e0:237"><span class="id" title="variable">e0</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:239"><span class="id" title="variable">n</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a6de768261409196abdb09e5e2787adb"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="ConCert.Embedding.Ast.html#expr_ind_case"><span class="id" title="definition">expr_ind_case</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">n1</span> <span class="id" title="var">nm</span> <span class="id" title="var">Hgeok</span> <span class="id" title="var">Hok</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hce0</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eRel&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.compare"><span class="id" title="definition">Nat.compare</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">facts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hn0</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">facts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn0</span>. <span class="id" title="tactic">replace</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closed"><span class="id" title="abbreviation">closed</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <span class="id" title="var">e0</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#expr_closed_term_closed"><span class="id" title="lemma">expr_closed_term_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_closed"><span class="id" title="lemma">lift_closed</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">facts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">facts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">facts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">facts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hleb</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">facts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hleb</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eVar&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eLambda&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_to_term_subst"><span class="id" title="lemma">type_to_term_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">nm</span> := <span class="id" title="var">nm</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eTyLam&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eLetIn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_to_term_subst"><span class="id" title="lemma">type_to_term_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">nm</span> := <span class="id" title="var">nm</span>); <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eApp&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> ((<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span>)) <span class="id" title="keyword">with</span> ((<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><span class="id" title="var">e1</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><span class="id" title="var">Σ</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><span class="id" title="var">e2</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">mkApps</span>] <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hce1</span> <span class="id" title="var">Hce2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_mkApps"><span class="id" title="lemma">subst_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><span class="id" title="var">e1</span><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a> <span class="id" title="var">n1</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><span class="id" title="var">Σ</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><span class="id" title="var">e2</span><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a> <span class="id" title="var">n1</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><span class="id" title="var">e1</span><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a> <span class="id" title="var">n1</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><span class="id" title="var">Σ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><span class="id" title="var">e2</span><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a> <span class="id" title="var">n1</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe1</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe2</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eConstr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eConst&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eCase&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ind</span> <span class="id" title="var">tys</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hce1</span> <span class="id" title="var">Hce2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_inductive"><span class="id" title="definition">resolve_inductive</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ind</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hres</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">nat</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hnparams</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">map_predicate_k</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_all</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_to_term_map"><span class="id" title="lemma">type_to_term_map</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <a id="x:243" class="idref" href="#x:243"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">T</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:241"><span class="id" title="variable">x</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟧</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#type_to_term_map"><span class="id" title="lemma">type_to_term_map</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">do</span> 3 (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f_equal2"><span class="id" title="lemma">f_equal2</span></a>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a>, <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hreln</span> : <span class="id" title="keyword">forall</span> <a id="ys1:248" class="idref" href="#ys1:248"><span class="id" title="binder">ys1</span></a> <a id="ys2:249" class="idref" href="#ys2:249"><span class="id" title="binder">ys2</span></a> <a id="xs:250" class="idref" href="#xs:250"><span class="id" title="binder">xs</span></a> <a id="n:251" class="idref" href="#n:251"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ys1:244"><span class="id" title="variable">ys1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ys2:245"><span class="id" title="variable">ys2</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.reln"><span class="id" title="definition">reln</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:246"><span class="id" title="variable">xs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:247"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#aRelevant"><span class="id" title="definition">aRelevant</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#nAnon"><span class="id" title="constructor">nAnon</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ys1:244"><span class="id" title="variable">ys1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.reln"><span class="id" title="definition">reln</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:246"><span class="id" title="variable">xs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:247"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#aRelevant"><span class="id" title="definition">aRelevant</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#nAnon"><span class="id" title="constructor">nAnon</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ys2:245"><span class="id" title="variable">ys2</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">induction</span> <span class="id" title="var">ys1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ys2</span> <span class="id" title="var">xs</span> <span class="id" title="var">n</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">ys2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <a id="x:254" class="idref" href="#x:254"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">T</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:252"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#6579449ee258cf23f3e9f8dea671302d"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a><span class="id" title="var">n1</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <span class="id" title="var">e0</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hreln</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#commut_lift_subst"><span class="id" title="lemma">commut_lift_subst</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">rewrite_all</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">cs</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ctor</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ctor</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">l0</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hconsr</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a>,<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#etrans_branch"><span class="id" title="definition">etrans_branch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.Misc.html#fun_prod"><span class="id" title="definition">fun_prod</span></a>,<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfnd</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#find_map"><span class="id" title="lemma">find_map</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p2</span> := (<span class="id" title="keyword">fun</span> <a id="x:257" class="idref" href="#x:257"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#pName"><span class="id" title="projection">pName</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:255"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <span class="id" title="var">s</span>)%<span class="id" title="var">string</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <a id="x:258" class="idref" href="#x:258"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:256"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:256"><span class="id" title="variable">x</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">){</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:256"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">n1</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <span class="id" title="var">e0</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfnd</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfnd</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfnd</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.Misc.html#fun_prod"><span class="id" title="definition">fun_prod</span></a>,<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">Hmap</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:261" class="idref" href="#x:261"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:259"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:259"><span class="id" title="variable">x</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:259"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">n1</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><span class="id" title="var">e0</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:262" class="idref" href="#x:262"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:260"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:260"><span class="id" title="variable">x</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">](</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:260"><span class="id" title="variable">x</span></a>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#forall_map_spec'"><span class="id" title="lemma">forall_map_spec'</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Hin'</span> <span class="id" title="var">Ha</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hok</span> <span class="id" title="keyword">as</span> [[[? ?] ?] <span class="id" title="var">Hty_ok</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a</span>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hce2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">a</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>) <span class="id" title="var">a</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hty_ok</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a</span>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a</span>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hmap</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfnd</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">p0</span>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l0</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlen</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#map_branch_k"><span class="id" title="definition">map_branch_k</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">rewrite_all</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine_length"><span class="id" title="lemma">combine_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_all</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">PeanoNat.Nat.eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#min"><span class="id" title="abbreviation">min</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l0</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <a id="x:265" class="idref" href="#x:265"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#pat"><span class="id" title="record">pat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#pName"><span class="id" title="projection">pName</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:263"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <span class="id" title="var">s</span>)%<span class="id" title="var">string</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="x:267" class="idref" href="#x:267"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#pat"><span class="id" title="record">pat</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#pName"><span class="id" title="projection">pName</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:264"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>))%<span class="id" title="var">string</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#find_none_fst"><span class="id" title="lemma">find_none_fst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l1</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:272" class="idref" href="#x:272"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#pat"><span class="id" title="record">pat</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:268"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:268"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">l</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eFix&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#commut_lift_subst"><span class="id" title="lemma">commut_lift_subst</span></a>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#commut_lift_subst"><span class="id" title="lemma">commut_lift_subst</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;eTy&nbsp;*)</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_term_subst_env" class="idref" href="#subst_term_subst_env"><span class="id" title="lemma">subst_term_subst_env</span></a> <a id="e:273" class="idref" href="#e:273"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:274" class="idref" href="#v:274"><span class="id" title="binder">v</span></a> <a id="a30eea3a9237187b162f4293473b8a7d" class="idref" href="#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="binder">Σ</span></a> <a id="nm:276" class="idref" href="#nm:276"><span class="id" title="binder">nm</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="e6fc75d3a64eb3ad5926b91bf0450148" class="idref" href="#e6fc75d3a64eb3ad5926b91bf0450148"><span class="id" title="binder">ρ</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:276"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:274"><span class="id" title="variable">v</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#genv_ok"><span class="id" title="definition">genv_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e6fc75d3a64eb3ad5926b91bf0450148"><span class="id" title="variable">ρ</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:273"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:274"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 1 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:273"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:273"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="variable">Σ</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a>0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:274"><span class="id" title="variable">v</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="variable">Σ</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:273"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e6fc75d3a64eb3ad5926b91bf0450148"><span class="id" title="variable">ρ</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a30eea3a9237187b162f4293473b8a7d"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#of_value_closed"><span class="id" title="lemma">of_value_closed</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_term_subst_env_rec"><span class="id" title="lemma">subst_term_subst_env_rec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_env_ty_closed_n_eq" class="idref" href="#subst_env_ty_closed_n_eq"><span class="id" title="lemma">subst_env_ty_closed_n_eq</span></a> <a id="n:278" class="idref" href="#n:278"><span class="id" title="binder">n</span></a> <a id="m:279" class="idref" href="#m:279"><span class="id" title="binder">m</span></a> <a id="ty:280" class="idref" href="#ty:280"><span class="id" title="binder">ty</span></a> <a id="e1422b2604eac24feeba1ff9bab88a12" class="idref" href="#e1422b2604eac24feeba1ff9bab88a12"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:278"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:280"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#m:279"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:278"><span class="id" title="variable">n</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1422b2604eac24feeba1ff9bab88a12"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:280"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:280"><span class="id" title="variable">ty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> ρ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n0</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmn1</span>; <span class="id" title="var">propify</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_env_ty_closed_n_eq</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_subst_env_ty_closed" class="idref" href="#map_subst_env_ty_closed"><span class="id" title="lemma">map_subst_env_ty_closed</span></a> <a id="n:282" class="idref" href="#n:282"><span class="id" title="binder">n</span></a> <a id="m:283" class="idref" href="#m:283"><span class="id" title="binder">m</span></a> <a id="daadfbea8e99bbdac05572d9b28d1012" class="idref" href="#daadfbea8e99bbdac05572d9b28d1012"><span class="id" title="binder">ρ</span></a> <a id="l0:285" class="idref" href="#l0:285"><span class="id" title="binder">l0</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:282"><span class="id" title="variable">n</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l0:285"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#m:283"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:282"><span class="id" title="variable">n</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#daadfbea8e99bbdac05572d9b28d1012"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l0:285"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l0:285"><span class="id" title="variable">l0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">n</span>. <span class="id" title="var">revert</span> <span class="id" title="var">m</span> ρ. <span class="id" title="tactic">induction</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> ρ <span class="id" title="var">n</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_env_i_closed_n_eq" class="idref" href="#subst_env_i_closed_n_eq"><span class="id" title="lemma">subst_env_i_closed_n_eq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="e:286" class="idref" href="#e:286"><span class="id" title="binder">e</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<a id="n:287" class="idref" href="#n:287"><span class="id" title="binder">n</span></a> <a id="m:288" class="idref" href="#m:288"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="fbfa65fdcee1478113ea3bb89b963279" class="idref" href="#fbfa65fdcee1478113ea3bb89b963279"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:287"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:286"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:286"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#fbfa65fdcee1478113ea3bb89b963279"><span class="id" title="variable">ρ</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">](</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#m:288"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:287"><span class="id" title="variable">n</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:286"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="ConCert.Embedding.Ast.html#expr_ind_case"><span class="id" title="definition">expr_ind_case</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n1</span> <span class="id" title="var">m1</span> ρ <span class="id" title="var">Hc</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmn1</span>; <span class="id" title="var">propify</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_ty_closed_n_eq"><span class="id" title="lemma">subst_env_ty_closed_n_eq</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:291" class="idref" href="#x:291"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#pat"><span class="id" title="record">pat</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:290"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:290"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a> ρ<a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">(</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:290"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#forall_map_spec'"><span class="id" title="lemma">forall_map_spec'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">p</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">p</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">e0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>). <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">map_id</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>) ρ) <span class="id" title="var">l0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l0</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#map_subst_env_ty_closed"><span class="id" title="lemma">map_subst_env_ty_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">intuition</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>))) <span class="id" title="keyword">with</span> (<span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_env_i_closed_eq" class="idref" href="#subst_env_i_closed_eq"><span class="id" title="lemma">subst_env_i_closed_eq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="e:292" class="idref" href="#e:292"><span class="id" title="binder">e</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<a id="n:293" class="idref" href="#n:293"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f76cff6ffcd012f9ef4265b6ff90a371" class="idref" href="#f76cff6ffcd012f9ef4265b6ff90a371"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:292"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:292"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f76cff6ffcd012f9ef4265b6ff90a371"><span class="id" title="variable">ρ</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:293"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:292"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_i_closed_n_eq"><span class="id" title="lemma">subst_env_i_closed_n_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := 0); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_n_0"><span class="id" title="lemma">iclosed_n_0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_env_ty_compose_1" class="idref" href="#subst_env_ty_compose_1"><span class="id" title="lemma">subst_env_ty_compose_1</span></a> <a id="k:295" class="idref" href="#k:295"><span class="id" title="binder">k</span></a> <a id="53da211d55872bcd923009353dfc4a35" class="idref" href="#53da211d55872bcd923009353dfc4a35"><span class="id" title="binder">ρ</span></a> <a id="nm:297" class="idref" href="#nm:297"><span class="id" title="binder">nm</span></a> <a id="e':298" class="idref" href="#e':298"><span class="id" title="binder">e'</span></a> <a id="ty:299" class="idref" href="#ty:299"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:300" class="idref" href="#x:300"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:300"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#53da211d55872bcd923009353dfc4a35"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e':298"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:295"><span class="id" title="variable">k</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#53da211d55872bcd923009353dfc4a35"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:297"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e':298"><span class="id" title="variable">e'</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:299"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:295"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:297"><span class="id" title="variable">nm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e':298"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:295"><span class="id" title="variable">k</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#53da211d55872bcd923009353dfc4a35"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:299"><span class="id" title="variable">ty</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span> ρ <span class="id" title="var">nm</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span> ? ? ? ? <span class="id" title="var">Hfa</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hkn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.lookup_ty"><span class="id" title="definition">lookup_ty</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">propify</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_match</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hneq</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_neq"><span class="id" title="lemma">PeanoNat.Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> ρ (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">k</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#All_lookup_i"><span class="id" title="lemma">All_lookup_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="x:302" class="idref" href="#x:302"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:301"><span class="id" title="variable">x</span></a>) <span class="id" title="var">Hfa</span> <span class="id" title="var">Hl</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.expr_to_ty"><span class="id" title="definition">expr_to_ty</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t0</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> 0 <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_ty_closed_n_eq"><span class="id" title="lemma">subst_env_ty_closed_n_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := 0). <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_0"><span class="id" title="lemma">iclosed_ty_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**** <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.lookup_ty"><span class="id" title="definition">lookup_ty</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_neq"><span class="id" title="lemma">Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">Nat.eqb_eq</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.lookup_ty"><span class="id" title="definition">lookup_ty</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HkSn</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HkSn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_refl"><span class="id" title="lemma">PeanoNat.Nat.leb_refl</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_refl"><span class="id" title="lemma">PeanoNat.Nat.leb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_gt"><span class="id" title="lemma">PeanoNat.Nat.leb_gt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">n'</span>. <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">m'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_env_ty_compose_1</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_env_compose_1" class="idref" href="#subst_env_compose_1"><span class="id" title="lemma">subst_env_compose_1</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="nm:303" class="idref" href="#nm:303"><span class="id" title="binder">nm</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">Ast.ename</span></a>) (<a id="e:304" class="idref" href="#e:304"><span class="id" title="binder">e</span></a> <a id="e1:305" class="idref" href="#e1:305"><span class="id" title="binder">e1</span></a>: <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) <a id="k:306" class="idref" href="#k:306"><span class="id" title="binder">k</span></a> (<a id="18bab34e2a836fbfaa5f523ec15e1fe9" class="idref" href="#18bab34e2a836fbfaa5f523ec15e1fe9"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:308" class="idref" href="#x:308"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:308"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#18bab34e2a836fbfaa5f523ec15e1fe9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:305"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:304"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#18bab34e2a836fbfaa5f523ec15e1fe9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:303"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:305"><span class="id" title="variable">e1</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:306"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:304"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#18bab34e2a836fbfaa5f523ec15e1fe9"><span class="id" title="variable">ρ</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">](</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:306"><span class="id" title="variable">k</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">)).[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:303"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:305"><span class="id" title="variable">e1</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:306"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">nm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.inst_env_i"><span class="id" title="definition">inst_env_i</span></a>,<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i"><span class="id" title="definition">subst_env_i</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="ConCert.Embedding.Ast.html#expr_ind_case"><span class="id" title="definition">expr_ind_case</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">e'</span> <span class="id" title="var">k</span> ρ <span class="id" title="var">Hfc</span> <span class="id" title="var">Hc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hkn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_match</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hneq</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_neq"><span class="id" title="lemma">PeanoNat.Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> ρ (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">k</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_i_closed_eq"><span class="id" title="lemma">subst_env_i_closed_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#All_lookup_i"><span class="id" title="lemma">All_lookup_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="x:310" class="idref" href="#x:310"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:309"><span class="id" title="variable">x</span></a>) <span class="id" title="var">Hfc</span> <span class="id" title="var">Hl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HkSn</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">HkSn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_refl"><span class="id" title="lemma">PeanoNat.Nat.leb_refl</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_refl"><span class="id" title="lemma">PeanoNat.Nat.leb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_gt"><span class="id" title="lemma">PeanoNat.Nat.leb_gt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">n'</span>. <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">m'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_ty_compose_1"><span class="id" title="lemma">subst_env_ty_compose_1</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forall_map_spec"><span class="id" title="lemma">forall_map_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall_impl"><span class="id" title="lemma">Forall_impl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a</span>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a</span>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Ha</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_env_swap_app" class="idref" href="#subst_env_swap_app"><span class="id" title="lemma">subst_env_swap_app</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="e:311" class="idref" href="#e:311"><span class="id" title="binder">e</span></a>: <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<a id="cf98ba87466bb0d8bf04e631841668bc" class="idref" href="#cf98ba87466bb0d8bf04e631841668bc"><span class="id" title="binder">ρ1</span></a> <a id="4428dcf3336b954d4179049334eb6a61" class="idref" href="#4428dcf3336b954d4179049334eb6a61"><span class="id" title="binder">ρ2</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) <a id="n:314" class="idref" href="#n:314"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:315" class="idref" href="#x:315"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:315"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cf98ba87466bb0d8bf04e631841668bc"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:316" class="idref" href="#x:316"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:316"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#4428dcf3336b954d4179049334eb6a61"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:311"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cf98ba87466bb0d8bf04e631841668bc"><span class="id" title="variable">ρ1</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">](</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:314"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#4428dcf3336b954d4179049334eb6a61"><span class="id" title="variable">ρ2</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">)).[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#4428dcf3336b954d4179049334eb6a61"><span class="id" title="variable">ρ2</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:314"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:311"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#4428dcf3336b954d4179049334eb6a61"><span class="id" title="variable">ρ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cf98ba87466bb0d8bf04e631841668bc"><span class="id" title="variable">ρ1</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:314"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> ρ2.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#subst_env_i_empty"><span class="id" title="lemma">subst_env_i_empty</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> := <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:318" class="idref" href="#x:318"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:317"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (ρ2<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a>ρ1))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_compose_1"><span class="id" title="lemma">subst_env_compose_1</span></a> <span class="id" title="keyword">with</span> (ρ := ρ2 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> ρ1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_compose_1"><span class="id" title="lemma">subst_env_compose_1</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> := <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">IH</span>ρ2; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ2<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ2<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;this&nbsp;should&nbsp;be&nbsp;an&nbsp;instance&nbsp;of&nbsp;a&nbsp;more&nbsp;general&nbsp;lemma,&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;we&nbsp;will&nbsp;restate&nbsp;this&nbsp;in&nbsp;terms&nbsp;of&nbsp;parallel&nbsp;substitutions&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_env_compose_2" class="idref" href="#subst_env_compose_2"><span class="id" title="lemma">subst_env_compose_2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="nm1:319" class="idref" href="#nm1:319"><span class="id" title="binder">nm1</span></a> <a id="nm2:320" class="idref" href="#nm2:320"><span class="id" title="binder">nm2</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="e:321" class="idref" href="#e:321"><span class="id" title="binder">e</span></a> <a id="e1:322" class="idref" href="#e1:322"><span class="id" title="binder">e1</span></a> <a id="e2:323" class="idref" href="#e2:323"><span class="id" title="binder">e2</span></a>: <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<a id="e8d78145eb159439d1057c02b48a8e74" class="idref" href="#e8d78145eb159439d1057c02b48a8e74"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:325" class="idref" href="#x:325"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:325"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e8d78145eb159439d1057c02b48a8e74"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:322"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e2:323"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:321"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e8d78145eb159439d1057c02b48a8e74"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm1:319"><span class="id" title="variable">nm1</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:322"><span class="id" title="variable">e1</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm2:320"><span class="id" title="variable">nm2</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e2:323"><span class="id" title="variable">e2</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:321"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e8d78145eb159439d1057c02b48a8e74"><span class="id" title="variable">ρ</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a>2<a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">).[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm1:319"><span class="id" title="variable">nm1</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:322"><span class="id" title="variable">e1</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm2:320"><span class="id" title="variable">nm2</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e2:323"><span class="id" title="variable">e2</span></a><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ρ) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> ρ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_swap_app"><span class="id" title="lemma">subst_env_swap_app</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Remove</span> <span class="id" title="var">Hints</span> <span class="id" title="var">iclosed_n_geq</span>: <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Remove</span> <span class="id" title="var">Hints</span> <span class="id" title="var">Bool.absurd_eq_true</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_i_app" class="idref" href="#lookup_i_app"><span class="id" title="lemma">lookup_i_app</span></a> {<a id="A:326" class="idref" href="#A:326"><span class="id" title="binder">A</span></a>} (<a id="l1:327" class="idref" href="#l1:327"><span class="id" title="binder">l1</span></a> <a id="l2:328" class="idref" href="#l2:328"><span class="id" title="binder">l2</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:326"><span class="id" title="variable">A</span></a>) <a id="i:329" class="idref" href="#i:329"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:327"><span class="id" title="variable">l1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:329"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:327"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:328"><span class="id" title="variable">l2</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:329"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:328"><span class="id" title="variable">l2</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:329"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:327"><span class="id" title="variable">l1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l2</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a>0) <span class="id" title="keyword">with</span> <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">exfalso</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1) <span class="id" title="keyword">with</span> <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ty_env_ok_app_rec" class="idref" href="#ty_env_ok_app_rec"><span class="id" title="lemma">ty_env_ok_app_rec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="ty:330" class="idref" href="#ty:330"><span class="id" title="binder">ty</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) <a id="n:331" class="idref" href="#n:331"><span class="id" title="binder">n</span></a> (<a id="824c2bd1e93aa1c43a9d7f3013dd5fbe" class="idref" href="#824c2bd1e93aa1c43a9d7f3013dd5fbe"><span class="id" title="binder">ρ1</span></a> <a id="708f4ec345d2fe30b9f3f88a45184425" class="idref" href="#708f4ec345d2fe30b9f3f88a45184425"><span class="id" title="binder">ρ2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_env_ok"><span class="id" title="definition">ty_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:331"><span class="id" title="variable">n</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#824c2bd1e93aa1c43a9d7f3013dd5fbe"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#708f4ec345d2fe30b9f3f88a45184425"><span class="id" title="variable">ρ2</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:330"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_env_ok"><span class="id" title="definition">ty_env_ok</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:331"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#824c2bd1e93aa1c43a9d7f3013dd5fbe"><span class="id" title="variable">ρ1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#708f4ec345d2fe30b9f3f88a45184425"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:330"><span class="id" title="variable">ty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> -[<span class="id" title="var">lookup_i</span>] <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hleb</span> : <span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="var">propify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hleb</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">replace</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#lookup_i_app"><span class="id" title="lemma">lookup_i_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">propify</span>; <span class="id" title="var">lia</span>). <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">ty_env_ok_app_rec</span> : <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_env_compose_1</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 2 (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">_</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">simpl</span> : <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">.[</span></a><span class="id" title="var">_</span><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>)=&gt; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_compose_1"><span class="id" title="lemma">subst_env_compose_1</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> := 0) : <span class="id" title="var">hints</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 2 (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> ?<span class="id" title="var">n</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>)=&gt; (<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <span class="id" title="tactic">fail</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_n_0"><span class="id" title="lemma">iclosed_n_0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ty_expr_env_ok_app_rec" class="idref" href="#ty_expr_env_ok_app_rec"><span class="id" title="lemma">ty_expr_env_ok_app_rec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="e:334" class="idref" href="#e:334"><span class="id" title="binder">e</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) <a id="n:335" class="idref" href="#n:335"><span class="id" title="binder">n</span></a> (<a id="f12f1391570b79a0969627a866dd840e" class="idref" href="#f12f1391570b79a0969627a866dd840e"><span class="id" title="binder">ρ1</span></a> <a id="c0e5579e17c325a73b34a02f648f0d20" class="idref" href="#c0e5579e17c325a73b34a02f648f0d20"><span class="id" title="binder">ρ2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f12f1391570b79a0969627a866dd840e"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c0e5579e17c325a73b34a02f648f0d20"><span class="id" title="variable">ρ2</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:335"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:334"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c0e5579e17c325a73b34a02f648f0d20"><span class="id" title="variable">ρ2</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:335"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f12f1391570b79a0969627a866dd840e"><span class="id" title="variable">ρ1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:334"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="ConCert.Embedding.Ast.html#expr_ind_case"><span class="id" title="definition">expr_ind_case</span></a>; <span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">Hok</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_app_rec"><span class="id" title="lemma">ty_env_ok_app_rec</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_app_rec"><span class="id" title="lemma">ty_env_ok_app_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#forallb_impl_inner"><span class="id" title="lemma">forallb_impl_inner</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_app_rec"><span class="id" title="lemma">ty_env_ok_app_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_app_rec"><span class="id" title="lemma">ty_env_ok_app_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#Forall_impl_inner"><span class="id" title="lemma">Forall_impl_inner</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall_impl"><span class="id" title="lemma">Forall_impl</span></a>. 2 : { <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. } <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">a</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">a</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_app_rec"><span class="id" title="lemma">ty_env_ok_app_rec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_app_rec"><span class="id" title="lemma">ty_env_ok_app_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>))) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_app_rec"><span class="id" title="lemma">ty_env_ok_app_rec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="iclosed_ty_expr_env_ok" class="idref" href="#iclosed_ty_expr_env_ok"><span class="id" title="lemma">iclosed_ty_expr_env_ok</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="n:338" class="idref" href="#n:338"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="b973edd73807d62dcccc6737d3bd067a" class="idref" href="#b973edd73807d62dcccc6737d3bd067a"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) <a id="e:340" class="idref" href="#e:340"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:338"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:340"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b973edd73807d62dcccc6737d3bd067a"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:338"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:340"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">n</span>. <span class="id" title="var">revert</span> ρ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#expr_elim_case"><span class="id" title="definition">expr_elim_case</span></a>; <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_env_ok"><span class="id" title="lemma">iclosed_ty_env_ok</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_env_ok"><span class="id" title="lemma">iclosed_ty_env_ok</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#forallb_impl_inner"><span class="id" title="lemma">forallb_impl_inner</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_env_ok"><span class="id" title="lemma">iclosed_ty_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_env_ok"><span class="id" title="lemma">iclosed_ty_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#All_impl_inner"><span class="id" title="lemma">All_impl_inner</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_env_ok"><span class="id" title="lemma">iclosed_ty_env_ok</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_env_ok"><span class="id" title="lemma">iclosed_ty_env_ok</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ty_env_ok_subst_env" class="idref" href="#ty_env_ok_subst_env"><span class="id" title="lemma">ty_env_ok_subst_env</span></a> <a id="k:341" class="idref" href="#k:341"><span class="id" title="binder">k</span></a> <a id="cbf30b433bb21010f894dad303847deb" class="idref" href="#cbf30b433bb21010f894dad303847deb"><span class="id" title="binder">ρ1</span></a> <a id="0eb24f4621d2946466c3d4049f84c78e" class="idref" href="#0eb24f4621d2946466c3d4049f84c78e"><span class="id" title="binder">ρ2</span></a> (<a id="ty:344" class="idref" href="#ty:344"><span class="id" title="binder">ty</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_env_ok"><span class="id" title="definition">ty_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:341"><span class="id" title="variable">k</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cbf30b433bb21010f894dad303847deb"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#0eb24f4621d2946466c3d4049f84c78e"><span class="id" title="variable">ρ2</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:344"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#0eb24f4621d2946466c3d4049f84c78e"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_env_ok"><span class="id" title="definition">ty_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:341"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cbf30b433bb21010f894dad303847deb"><span class="id" title="variable">ρ1</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:341"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cbf30b433bb21010f894dad303847deb"><span class="id" title="variable">ρ1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#0eb24f4621d2946466c3d4049f84c78e"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:344"><span class="id" title="variable">ty</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span> ρ1 ρ2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> ρ1 ρ2 <span class="id" title="var">Hok</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHty</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> -[<span class="id" title="var">lookup_i</span>] <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hleb</span> : <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="var">propify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hleb</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">replace</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">propify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#lookup_i_app"><span class="id" title="lemma">lookup_i_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.lookup_ty"><span class="id" title="definition">lookup_ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> ρ2 (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlook</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#All_lookup_i"><span class="id" title="lemma">All_lookup_i</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_env_ok"><span class="id" title="lemma">iclosed_ty_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_0"><span class="id" title="lemma">iclosed_ty_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Utils.Env.html#lookup_i_length_false"><span class="id" title="lemma">lookup_i_length_false</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#lookup_i_nth_error"><span class="id" title="lemma">lookup_i_nth_error</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error_app1"><span class="id" title="lemma">nth_error_app1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">propify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ρ1 (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hnth</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ty_expr_env_ok_subst_env" class="idref" href="#ty_expr_env_ok_subst_env"><span class="id" title="lemma">ty_expr_env_ok_subst_env</span></a> <a id="k:345" class="idref" href="#k:345"><span class="id" title="binder">k</span></a> <a id="953df0cf81454b847e973e4bfe760f3a" class="idref" href="#953df0cf81454b847e973e4bfe760f3a"><span class="id" title="binder">ρ1</span></a> <a id="a4e4e045dcfe24bdb861eedbf54febad" class="idref" href="#a4e4e045dcfe24bdb861eedbf54febad"><span class="id" title="binder">ρ2</span></a> <a id="e:348" class="idref" href="#e:348"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#953df0cf81454b847e973e4bfe760f3a"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a4e4e045dcfe24bdb861eedbf54febad"><span class="id" title="variable">ρ2</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:345"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:348"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a4e4e045dcfe24bdb861eedbf54febad"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#953df0cf81454b847e973e4bfe760f3a"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:345"><span class="id" title="variable">k</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:348"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a4e4e045dcfe24bdb861eedbf54febad"><span class="id" title="variable">ρ2</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">](</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:345"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#953df0cf81454b847e973e4bfe760f3a"><span class="id" title="variable">ρ1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span> ρ1 ρ2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#expr_elim_case"><span class="id" title="definition">expr_elim_case</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hkn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> ρ2 (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#All_lookup_i"><span class="id" title="lemma">All_lookup_i</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#iclosed_ty_expr_env_ok"><span class="id" title="lemma">iclosed_ty_expr_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_n_0"><span class="id" title="lemma">iclosed_n_0</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_subst_env"><span class="id" title="lemma">ty_env_ok_subst_env</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_subst_env"><span class="id" title="lemma">ty_env_ok_subst_env</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#forallb_impl_inner"><span class="id" title="lemma">forallb_impl_inner</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_subst_env"><span class="id" title="lemma">ty_env_ok_subst_env</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_subst_env"><span class="id" title="lemma">ty_env_ok_subst_env</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="ConCert.Embedding.Misc.html#All_impl_inner"><span class="id" title="lemma">All_impl_inner</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">x</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">x</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ1<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_subst_env"><span class="id" title="lemma">ty_env_ok_subst_env</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_env_ok_subst_env"><span class="id" title="lemma">ty_env_ok_subst_env</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">ty_expr_env_ok_app_rec</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab331"></a><h2 class="section">Environment substitution commutes with PCUIC substitution (In the paper: Lemma 1.)</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="subst_term_subst_env_par_rec" class="idref" href="#subst_term_subst_env_par_rec"><span class="id" title="lemma">subst_term_subst_env_par_rec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="2ccc1d43512355426ebb24cd95a86fb5" class="idref" href="#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="binder">Σ</span></a> (<a id="l:350" class="idref" href="#l:350"><span class="id" title="binder">l</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) <a id="e:351" class="idref" href="#e:351"><span class="id" title="binder">e</span></a> <a id="k:352" class="idref" href="#k:352"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#genv_ok"><span class="id" title="definition">genv_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:350"><span class="id" title="variable">l</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:352"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:351"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:352"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:350"><span class="id" title="variable">l</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:351"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:353" class="idref" href="#x:353"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:353"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:350"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:354" class="idref" href="#x:354"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#expr_to_term"><span class="id" title="definition">expr_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:354"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:350"><span class="id" title="variable">l</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:352"><span class="id" title="variable">k</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:351"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:351"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:350"><span class="id" title="variable">l</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#54540d0b20e5346597cc6b136aeb56c5"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#k:352"><span class="id" title="variable">k</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#rev_ind"><span class="id" title="lemma">MCList.rev_ind</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">k</span> <span class="id" title="var">Hgeok</span> <span class="id" title="var">Hok</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i"><span class="id" title="definition">subst_env_i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#subst_env_i_empty"><span class="id" title="lemma">subst_env_i_empty</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_empty"><span class="id" title="lemma">subst_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i"><span class="id" title="definition">subst_env_i</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">nm</span> <span class="id" title="var">e0</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_app"><span class="id" title="lemma">All_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hl</span> <span class="id" title="var">He0</span>]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">He0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i"><span class="id" title="definition">subst_env_i</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_app_simpl"><span class="id" title="lemma">subst_app_simpl</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a>1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_term_subst_env_rec"><span class="id" title="lemma">subst_term_subst_env_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">e</span>)(<span class="id" title="var">nm</span> := <span class="id" title="var">nm</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_swap_app"><span class="id" title="lemma">subst_env_swap_app</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_expr_env_ok_subst_env"><span class="id" title="lemma">ty_expr_env_ok_subst_env</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_term_subst_env_par" class="idref" href="#subst_term_subst_env_par"><span class="id" title="lemma">subst_term_subst_env_par</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="08f84ee8c824a939a63bef56fb20bdd1" class="idref" href="#08f84ee8c824a939a63bef56fb20bdd1"><span class="id" title="binder">Σ</span></a> (<a id="l:356" class="idref" href="#l:356"><span class="id" title="binder">l</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) <a id="e:357" class="idref" href="#e:357"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#genv_ok"><span class="id" title="definition">genv_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#08f84ee8c824a939a63bef56fb20bdd1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:356"><span class="id" title="variable">l</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:357"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:356"><span class="id" title="variable">l</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:357"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:358" class="idref" href="#x:358"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:358"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:356"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:359" class="idref" href="#x:359"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#expr_to_term"><span class="id" title="definition">expr_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#08f84ee8c824a939a63bef56fb20bdd1"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:359"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:356"><span class="id" title="variable">l</span></a>) 0 (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:357"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#08f84ee8c824a939a63bef56fb20bdd1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:357"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:356"><span class="id" title="variable">l</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#08f84ee8c824a939a63bef56fb20bdd1"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_term_subst_env_par_rec"><span class="id" title="lemma">subst_term_subst_env_par_rec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#"><span class="id" title="module">Basics</span></a>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">program_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pat_match_succeeds" class="idref" href="#pat_match_succeeds"><span class="id" title="lemma">pat_match_succeeds</span></a> {<a id="A:360" class="idref" href="#A:360"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span> } <a id="cn:361" class="idref" href="#cn:361"><span class="id" title="binder">cn</span></a> <a id="arity:362" class="idref" href="#arity:362"><span class="id" title="binder">arity</span></a> (<a id="vals:363" class="idref" href="#vals:363"><span class="id" title="binder">vals</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:360"><span class="id" title="variable">A</span></a>) <a id="brs:364" class="idref" href="#brs:364"><span class="id" title="binder">brs</span></a> <a id="e:365" class="idref" href="#e:365"><span class="id" title="binder">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="assig:366" class="idref" href="#assig:366"><span class="id" title="binder">assig</span></a> <a id="n:367" class="idref" href="#n:367"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#match_pat"><span class="id" title="definition">match_pat</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cn:361"><span class="id" title="variable">cn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:367"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#arity:362"><span class="id" title="variable">arity</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#vals:363"><span class="id" title="variable">vals</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#brs:364"><span class="id" title="variable">brs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#assig:366"><span class="id" title="variable">assig</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:365"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a> <a id="p:368" class="idref" href="#p:368"><span class="id" title="binder">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="x:369" class="idref" href="#x:369"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#pName"><span class="id" title="projection">pName</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:369"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cn:361"><span class="id" title="variable">cn</span></a>)%<span class="id" title="var">string</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#brs:364"><span class="id" title="variable">brs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:368"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:365"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:367"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#arity:362"><span class="id" title="variable">arity</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:367"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:368"><span class="id" title="variable">p</span></a>.(<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#vals:363"><span class="id" title="variable">vals</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:367"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:368"><span class="id" title="variable">p</span></a>.(<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>)<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#assig:366"><span class="id" title="variable">assig</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:368"><span class="id" title="variable">p</span></a>.(<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:367"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#vals:363"><span class="id" title="variable">vals</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#match_pat"><span class="id" title="definition">match_pat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpm</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="x:371" class="idref" href="#x:371"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#pName"><span class="id" title="projection">pName</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:370"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <span class="id" title="var">cn</span>)%<span class="id" title="var">string</span> <span class="id" title="var">brs</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfnd</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p'</span> <span class="id" title="var">e0</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">vals</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">p'</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlength</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">vals</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">arity</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlength'</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpm</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hpm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">PeanoNat.Nat.eqb_eq</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlength</span> <span class="id" title="tactic">in</span> *.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall_snd_combine" class="idref" href="#Forall_snd_combine"><span class="id" title="lemma">Forall_snd_combine</span></a> {<a id="A:372" class="idref" href="#A:372"><span class="id" title="binder">A</span></a> <a id="B:373" class="idref" href="#B:373"><span class="id" title="binder">B</span></a>} (<a id="l1:374" class="idref" href="#l1:374"><span class="id" title="binder">l1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:372"><span class="id" title="variable">A</span></a>) (<a id="l2:375" class="idref" href="#l2:375"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:373"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="p:376" class="idref" href="#p:376"><span class="id" title="binder">p</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:373"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:376"><span class="id" title="variable">p</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:375"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:376"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:374"><span class="id" title="variable">l1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:375"><span class="id" title="variable">l2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ns</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">ns</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ns</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_snd_combine" class="idref" href="#All_snd_combine"><span class="id" title="lemma">All_snd_combine</span></a> {<a id="A:377" class="idref" href="#A:377"><span class="id" title="binder">A</span></a> <a id="B:378" class="idref" href="#B:378"><span class="id" title="binder">B</span></a>} (<a id="l1:379" class="idref" href="#l1:379"><span class="id" title="binder">l1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:377"><span class="id" title="variable">A</span></a>) (<a id="l2:380" class="idref" href="#l2:380"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:378"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="p:381" class="idref" href="#p:381"><span class="id" title="binder">p</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:378"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:381"><span class="id" title="variable">p</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:380"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:381"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:379"><span class="id" title="variable">l1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:380"><span class="id" title="variable">l2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ns</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">ns</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ns</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_env_ok" class="idref" href="#All_env_ok"><span class="id" title="lemma">All_env_ok</span></a> (<a id="7156270f61f8549eb0d41fafe1f8cbc5" class="idref" href="#7156270f61f8549eb0d41fafe1f8cbc5"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="l:383" class="idref" href="#l:383"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="ns:384" class="idref" href="#ns:384"><span class="id" title="binder">ns</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) <a id="9bf150bc2304a6b87e5b9aeed2ddd501" class="idref" href="#9bf150bc2304a6b87e5b9aeed2ddd501"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9bf150bc2304a6b87e5b9aeed2ddd501"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:383"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9bf150bc2304a6b87e5b9aeed2ddd501"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ns:384"><span class="id" title="variable">ns</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:383"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#All_snd_combine"><span class="id" title="lemma">All_snd_combine</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#All"><span class="id" title="inductive">All</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_ge_val_ok" class="idref" href="#eval_ge_val_ok"><span class="id" title="lemma">eval_ge_val_ok</span></a> <a id="n:386" class="idref" href="#n:386"><span class="id" title="binder">n</span></a> <a id="d9b142656b1e52b75f0d129188596d0d" class="idref" href="#d9b142656b1e52b75f0d129188596d0d"><span class="id" title="binder">ρ</span></a> <a id="c65d78bae00072ed74610d6497926a5d" class="idref" href="#c65d78bae00072ed74610d6497926a5d"><span class="id" title="binder">Σ</span></a> <a id="e:389" class="idref" href="#e:389"><span class="id" title="binder">e</span></a> <a id="v:390" class="idref" href="#v:390"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c65d78bae00072ed74610d6497926a5d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#d9b142656b1e52b75f0d129188596d0d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c65d78bae00072ed74610d6497926a5d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:386"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#d9b142656b1e52b75f0d129188596d0d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:389"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:390"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c65d78bae00072ed74610d6497926a5d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:390"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> ρ. <span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">v</span>. <span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">v</span> ρ <span class="id" title="var">Hok</span> <span class="id" title="var">He</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> ρ <span class="id" title="var">n0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlook</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#All_lookup_i"><span class="id" title="lemma">All_lookup_i</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">v0</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">e3</span>) (ρ := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ρ); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="tactic">try</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He2</span>); <span class="id" title="var">tryfalse</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">e</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hc</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">v0</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hc</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">propify</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <a class="idref" href="ConCert.Embedding.EvalE.html#cmLam"><span class="id" title="constructor">cmLam</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">v0</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (ρ := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">e</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">v0</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">e</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">e4</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a> <span class="id" title="var">e0</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> ρ'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">e3</span>) (ρ := ρ'); <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">He0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_fix</span> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <span class="id" title="var">e</span> <span class="id" title="var">_</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok_fix</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok_fix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a>,<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vTyClos"><span class="id" title="constructor">vTyClos</span></a> <span class="id" title="var">e</span> <span class="id" title="var">e0</span> <span class="id" title="var">e3</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">v0</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (ρ := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">e</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">e</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hres</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ind</span> <span class="id" title="var">e1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#monad_map"><span class="id" title="definition">monad_utils.monad_map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmm</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He'</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v0</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">e0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hres</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n_i</span> <span class="id" title="var">tys</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">e1</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)%<span class="id" title="var">nat</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#match_pat"><span class="id" title="definition">match_pat</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">_</span> <span class="id" title="var">tys</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hpm</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">assign</span> <span class="id" title="var">e2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#pat_match_succeeds"><span class="id" title="lemma">pat_match_succeeds</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpm</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pt</span> <span class="id" title="var">Htmp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_hyps</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_constr</span> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">l1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok_constr</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">e0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hres'</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_l2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> (<span class="id" title="keyword">fun</span> <a id="x:392" class="idref" href="#x:392"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:391"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">pt</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">n0</span> <span class="id" title="var">l1</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok_constr</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok_constr</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#All_snd_combine"><span class="id" title="lemma">All_snd_combine</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#Forall_skipn"><span class="id" title="lemma">Forall_skipn</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (ρ := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">pt</span>) ((<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l1</span>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> ρ)%<span class="id" title="var">list</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_ok_concat" class="idref" href="#env_ok_concat"><span class="id" title="lemma">env_ok_concat</span></a> <a id="8e219060b53830f6dfc6422059fcb8fb" class="idref" href="#8e219060b53830f6dfc6422059fcb8fb"><span class="id" title="binder">Σ</span></a> <a id="72ace3d4576e6efc135cd547fdf2c318" class="idref" href="#72ace3d4576e6efc135cd547fdf2c318"><span class="id" title="binder">ρ1</span></a> <a id="5d0afd2f17ec69752d8d6a38f0341e4f" class="idref" href="#5d0afd2f17ec69752d8d6a38f0341e4f"><span class="id" title="binder">ρ2</span></a> : <a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#8e219060b53830f6dfc6422059fcb8fb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#72ace3d4576e6efc135cd547fdf2c318"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#8e219060b53830f6dfc6422059fcb8fb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5d0afd2f17ec69752d8d6a38f0341e4f"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#8e219060b53830f6dfc6422059fcb8fb"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#72ace3d4576e6efc135cd547fdf2c318"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5d0afd2f17ec69752d8d6a38f0341e4f"><span class="id" title="variable">ρ2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hok1</span> <span class="id" title="var">Hok2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_env_ok" class="idref" href="#rev_env_ok"><span class="id" title="lemma">rev_env_ok</span></a> <a id="001c647a20c6630ad3172d23629065ac" class="idref" href="#001c647a20c6630ad3172d23629065ac"><span class="id" title="binder">ρ</span></a> <a id="6de02ecf3215b85550cee7e17a3e9407" class="idref" href="#6de02ecf3215b85550cee7e17a3e9407"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#6de02ecf3215b85550cee7e17a3e9407"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#001c647a20c6630ad3172d23629065ac"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#6de02ecf3215b85550cee7e17a3e9407"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#001c647a20c6630ad3172d23629065ac"><span class="id" title="variable">ρ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hok</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="val_ok_ge_val_ok" class="idref" href="#val_ok_ge_val_ok"><span class="id" title="lemma">val_ok_ge_val_ok</span></a> <a id="bea479a28ecde8afeb6fbc98a7185f43" class="idref" href="#bea479a28ecde8afeb6fbc98a7185f43"><span class="id" title="binder">Σ</span></a> <a id="v:399" class="idref" href="#v:399"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#bea479a28ecde8afeb6fbc98a7185f43"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:399"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#bea479a28ecde8afeb6fbc98a7185f43"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:399"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">v</span> <span class="id" title="keyword">using</span> <a class="idref" href="ConCert.Embedding.EvalE.html#val_elim_full"><span class="id" title="definition">val_elim_full</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hres</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#All_impl_inner"><span class="id" title="lemma">All_impl_inner</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#All_impl_inner"><span class="id" title="lemma">All_impl_inner</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_forallb"><span class="id" title="lemma">All_forallb</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.Misc.html#All_impl_inner"><span class="id" title="lemma">All_impl_inner</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_ok_ForallEnv_ge_val_ok" class="idref" href="#env_ok_ForallEnv_ge_val_ok"><span class="id" title="lemma">env_ok_ForallEnv_ge_val_ok</span></a> <a id="a1ecf09ad1007ecdc8f92139391c40eb" class="idref" href="#a1ecf09ad1007ecdc8f92139391c40eb"><span class="id" title="binder">ρ</span></a> <a id="215d1e73fd1ce0c2945b141561f796f3" class="idref" href="#215d1e73fd1ce0c2945b141561f796f3"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#215d1e73fd1ce0c2945b141561f796f3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a1ecf09ad1007ecdc8f92139391c40eb"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#AllEnv"><span class="id" title="definition">AllEnv</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#215d1e73fd1ce0c2945b141561f796f3"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a1ecf09ad1007ecdc8f92139391c40eb"><span class="id" title="variable">ρ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> ρ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#val_ok_ge_val_ok"><span class="id" title="lemma">val_ok_ge_val_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>ρ.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">eval_ty_closed</span> <span class="id" title="var">type_eval_value</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall_monad_map_some" class="idref" href="#Forall_monad_map_some"><span class="id" title="lemma">Forall_monad_map_some</span></a> {<a id="A:402" class="idref" href="#A:402"><span class="id" title="binder">A</span></a> <a id="B:403" class="idref" href="#B:403"><span class="id" title="binder">B</span></a>} {<a id="f:404" class="idref" href="#f:404"><span class="id" title="binder">f</span></a>} {<a id="xs:405" class="idref" href="#xs:405"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:402"><span class="id" title="variable">A</span></a>} {<a id="ys:406" class="idref" href="#ys:406"><span class="id" title="binder">ys</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:403"><span class="id" title="variable">B</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#monad_map"><span class="id" title="definition">monad_utils.monad_map</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:404"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:405"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ys:406"><span class="id" title="variable">ys</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:407" class="idref" href="#x:407"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="v:408" class="idref" href="#v:408"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:404"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:407"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:408"><span class="id" title="variable">v</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:405"><span class="id" title="variable">xs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ys</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hf</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#monad_map"><span class="id" title="definition">monad_utils.monad_map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmm</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_ty_env_ok" class="idref" href="#eval_ty_env_ok"><span class="id" title="lemma">eval_ty_env_ok</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="ty:409" class="idref" href="#ty:409"><span class="id" title="binder">ty</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>) (<a id="8bbca88d270f2e87a5a16b6d55c78da3" class="idref" href="#8bbca88d270f2e87a5a16b6d55c78da3"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="n:411" class="idref" href="#n:411"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="ty_v:412" class="idref" href="#ty_v:412"><span class="id" title="binder">ty_v</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#type"><span class="id" title="inductive">type</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:411"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#8bbca88d270f2e87a5a16b6d55c78da3"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:409"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:412"><span class="id" title="variable">ty_v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Wf.html#ty_env_ok"><span class="id" title="definition">ty_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:411"><span class="id" title="variable">n</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#8bbca88d270f2e87a5a16b6d55c78da3"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:409"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) ρ <span class="id" title="var">ty</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">n</span> ρ <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">n</span> ρ <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#lookup_i_nth_error"><span class="id" title="lemma">lookup_i_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#lookup_i_nth_error"><span class="id" title="lemma">lookup_i_nth_error</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ρ (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n0</span>)); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">p</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">n</span> ρ <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">n</span> ρ <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">propify</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_ty_expr_env_ok" class="idref" href="#eval_ty_expr_env_ok"><span class="id" title="lemma">eval_ty_expr_env_ok</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="n:413" class="idref" href="#n:413"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="66bf8e2dd483c8e69a1c0b9ccf600753" class="idref" href="#66bf8e2dd483c8e69a1c0b9ccf600753"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) (<a id="e:415" class="idref" href="#e:415"><span class="id" title="binder">e</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<a id="e43939b65fc3b7f1bf7f21d30060de25" class="idref" href="#e43939b65fc3b7f1bf7f21d30060de25"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) (<a id="v0:417" class="idref" href="#v0:417"><span class="id" title="binder">v0</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e43939b65fc3b7f1bf7f21d30060de25"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:415"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">eval</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:413"><span class="id" title="variable">n</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#66bf8e2dd483c8e69a1c0b9ccf600753"><span class="id" title="variable">Σ</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e43939b65fc3b7f1bf7f21d30060de25"><span class="id" title="variable">ρ</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:415"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v0:417"><span class="id" title="variable">v0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e43939b65fc3b7f1bf7f21d30060de25"><span class="id" title="variable">ρ</span></a>) 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:415"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">e</span> ρ <span class="id" title="var">v0</span> <span class="id" title="var">Hc</span> <span class="id" title="var">He</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">He</span>. <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_and_split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_env_ok"><span class="id" title="lemma">eval_ty_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> ρ 1 <span class="id" title="var">e0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hve0</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#valid_env_ty_expr_env_ok"><span class="id" title="lemma">valid_env_ty_expr_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hve0</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#valid_env_ty_expr_env_ok"><span class="id" title="lemma">valid_env_ty_expr_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">eval</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> ρ<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <span class="id" title="var">e2</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> (ρ <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">e1</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v</span><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>)) 0 <span class="id" title="var">e3</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [[? ?] ?]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">eauto</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [[? ?] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_env_ok"><span class="id" title="lemma">eval_ty_env_ok</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_expr_env_ok_app_rec"><span class="id" title="lemma">ty_expr_env_ok_app_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := 0) (ρ1 := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">eval</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> ρ<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <span class="id" title="var">e2</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">eval</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> ρ<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <span class="id" title="var">e1</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="var">propify</span>; <span class="id" title="var">destruct_and_split</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:419" class="idref" href="#x:419"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#pat"><span class="id" title="record">pat</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> ρ <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:418"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:418"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <span class="id" title="var">l</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hl</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht0</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#monad_map"><span class="id" title="definition">monad_utils.monad_map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hind</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">eval</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> ρ<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5418a855f8f873e0675e49dd815ec2c1"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He'</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">nat</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#match_pat"><span class="id" title="definition">match_pat</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hp</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#Forall_forallb"><span class="id" title="lemma">Forall_forallb</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#Forall_monad_map_some"><span class="id" title="lemma">Forall_monad_map_some</span></a> <span class="id" title="var">Hind</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#option_to_res_ok"><span class="id" title="lemma">option_to_res_ok</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_env_ok"><span class="id" title="lemma">eval_ty_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_env_ok"><span class="id" title="lemma">eval_ty_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [[??]?]; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="ConCert.Embedding.Misc.html#forallb_impl_inner"><span class="id" title="lemma">forallb_impl_inner</span></a> <span class="id" title="var">Hl</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <span class="id" title="keyword">with</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">x</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#valid_env_ty_expr_env_ok"><span class="id" title="lemma">valid_env_ty_expr_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> ρ 2 <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hve1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">t0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht0</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_and_split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_env_ok"><span class="id" title="lemma">eval_ty_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_env_ok"><span class="id" title="lemma">eval_ty_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#valid_env_ty_expr_env_ok"><span class="id" title="lemma">valid_env_ty_expr_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht0</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_env_ok"><span class="id" title="lemma">eval_ty_env_ok</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">eval_ty_expr_env_ok</span> <span class="id" title="var">eval_ty_env_ok</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab332"></a><h2 class="section">Evaluation gives well-formed values (In the paper: Lemma 2)</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="eval_val_ok" class="idref" href="#eval_val_ok"><span class="id" title="lemma">eval_val_ok</span></a> <a id="n:420" class="idref" href="#n:420"><span class="id" title="binder">n</span></a> <a id="9f8371d357ee23b9cc6b472ceb4eb03f" class="idref" href="#9f8371d357ee23b9cc6b472ceb4eb03f"><span class="id" title="binder">ρ</span></a> <a id="74ab8167a0d7abc6ee9cb27c77b5befd" class="idref" href="#74ab8167a0d7abc6ee9cb27c77b5befd"><span class="id" title="binder">Σ</span></a> <a id="e:423" class="idref" href="#e:423"><span class="id" title="binder">e</span></a> <a id="v:424" class="idref" href="#v:424"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9f8371d357ee23b9cc6b472ceb4eb03f"><span class="id" title="variable">ρ</span></a>) 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:423"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#74ab8167a0d7abc6ee9cb27c77b5befd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9f8371d357ee23b9cc6b472ceb4eb03f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9f8371d357ee23b9cc6b472ceb4eb03f"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:423"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#74ab8167a0d7abc6ee9cb27c77b5befd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:420"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#9f8371d357ee23b9cc6b472ceb4eb03f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:423"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:424"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#74ab8167a0d7abc6ee9cb27c77b5befd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:424"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> ρ. <span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">v</span>. <span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">v</span> ρ <span class="id" title="var">Hty_ok</span> <span class="id" title="var">Hok</span> <span class="id" title="var">Hc</span> <span class="id" title="var">He</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Utils.Env.html#lookup_i_length"><span class="id" title="lemma">lookup_i_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hc</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hsome</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsome</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#All_lookup_i"><span class="id" title="lemma">All_lookup_i</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He_ty</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> ρ 1 <span class="id" title="var">e0</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>,<span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hve</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>,<span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 ρ <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He_ty</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hty_ok</span> <span class="id" title="keyword">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ρ)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eauto</span> 6 <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> (ρ <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">e1</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v0</span><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>)) 0 <span class="id" title="var">e3</span>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_expr_env_ok"><span class="id" title="lemma">eval_ty_expr_env_ok</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (ρ := ρ <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">e1</span> <a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v0</span><a class="idref" href="ConCert.Utils.Env.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hty_ok</span>. <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">autounfold</span> <span class="id" title="keyword">with</span> <span class="id" title="var">facts</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hres</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Har</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hge_ok</span> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ge_val_ok"><span class="id" title="definition">ge_val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">l</span>)) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ge_val_ok"><span class="id" title="lemma">eval_ge_val_ok</span></a>; [<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#env_ok_ForallEnv_ge_val_ok"><span class="id" title="lemma">env_ok_ForallEnv_ge_val_ok</span></a> | <span class="id" title="tactic">eauto</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_constr</span> : <a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">propify</span>. <span class="id" title="var">destruct_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hge_ok</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok_constr</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hok_constr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">propify</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">Bool.andb_true_iff</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_v0</span> : <a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">v0</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_lam</span> : <a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <a class="idref" href="ConCert.Embedding.EvalE.html#cmLam"><span class="id" title="constructor">cmLam</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok_lam</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hok_lam</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">e3</span>) (ρ := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">e</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_expr_env_ok"><span class="id" title="lemma">eval_ty_expr_env_ok</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">v0</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_fix</span> : <a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <span class="id" title="var">e</span> <span class="id" title="var">_</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (ρ := ρ) (<span class="id" title="var">e</span> := <span class="id" title="var">e1</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok_fix</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (ρ := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <span class="id" title="var">e</span> <span class="id" title="var">_</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">e</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> 8 <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_expr_env_ok"><span class="id" title="lemma">eval_ty_expr_env_ok</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_v0</span> : <a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">v0</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_lam</span> : <a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> ((<a class="idref" href="ConCert.Embedding.EvalE.html#vTyClos"><span class="id" title="constructor">vTyClos</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok_lam</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hok_lam</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">e3</span>) (ρ := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">e</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_expr_env_ok"><span class="id" title="lemma">eval_ty_expr_env_ok</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hres</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ind</span> <span class="id" title="var">e1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="x:426" class="idref" href="#x:426"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#pat"><span class="id" title="record">pat</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">l</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hl</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hety</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.monad_utils.html#monad_map"><span class="id" title="definition">monad_utils.monad_map</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmm</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">He'</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v0</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span>); <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hres</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">nn</span> <span class="id" title="var">tys</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">nn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n1</span> <span class="id" title="var">n2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">e1</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hnparams</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#match_pat"><span class="id" title="definition">match_pat</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hpm</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">assign</span> <span class="id" title="var">e2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#pat_match_succeeds"><span class="id" title="lemma">pat_match_succeeds</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpm</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pt</span> <span class="id" title="var">Htmp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_hyps</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> ρ) 0 <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_expr_env_ok"><span class="id" title="lemma">eval_ty_expr_env_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_constr</span> : <a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">e0</span> <span class="id" title="var">l1</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (ρ := ρ)(<span class="id" title="var">e</span> := <span class="id" title="var">e</span>); <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hok_constr</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hok_constr</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok_l2</span> : <a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">pt</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">l1</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#rev_env_ok"><span class="id" title="lemma">rev_env_ok</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#All_env_ok"><span class="id" title="lemma">All_env_ok</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_skipn"><span class="id" title="lemma">All_skipn</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">pt</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">l1</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> ρ<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">e2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">rev_length</span></a>,<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine_length"><span class="id" title="lemma">combine_length</span></a>,<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn_length"><span class="id" title="lemma">skipn_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#min"><span class="id" title="abbreviation">min</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">pt</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l1</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n1</span>)) <span class="id" title="keyword">with</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">pt</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#find_forallb"><span class="id" title="lemma">find_forallb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H4</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hc</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (ρ := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">pt</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">l1</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> ρ)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#eval_ty_expr_env_ok"><span class="id" title="lemma">eval_ty_expr_env_ok</span></a> <span class="id" title="keyword">with</span> (ρ := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#pVars"><span class="id" title="projection">pVars</span></a> <span class="id" title="var">pt</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">l1</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> ρ)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#env_ok_concat"><span class="id" title="lemma">env_ok_concat</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">propify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#valid_env"><span class="id" title="definition">valid_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty0</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hty_ok</span> <span class="id" title="keyword">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">eauto</span> 6 <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty0</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="from_vConstr_not_lambda" class="idref" href="#from_vConstr_not_lambda"><span class="id" title="lemma">from_vConstr_not_lambda</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="19a65a4b052e281bb9ccc652f6bb4b31" class="idref" href="#19a65a4b052e281bb9ccc652f6bb4b31"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) (<a id="i:428" class="idref" href="#i:428"><span class="id" title="binder">i</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#inductive"><span class="id" title="definition">Ast.inductive</span></a>) (<a id="n0:429" class="idref" href="#n0:429"><span class="id" title="binder">n0</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="na:430" class="idref" href="#na:430"><span class="id" title="binder">na</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="t0:431" class="idref" href="#t0:431"><span class="id" title="binder">t0</span></a> <a id="b:432" class="idref" href="#b:432"><span class="id" title="binder">b</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="l:433" class="idref" href="#l:433"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#na:430"><span class="id" title="variable">na</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t0:431"><span class="id" title="variable">t0</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b:432"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:428"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n0:429"><span class="id" title="variable">n0</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:433"><span class="id" title="variable">l</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#19a65a4b052e281bb9ccc652f6bb4b31"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">n0</span> <span class="id" title="var">na</span> <span class="id" title="var">t0</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#rev_ind"><span class="id" title="lemma">MCList.rev_ind</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">n0</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">simpl_vars_to_apps</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#vars_to_apps"><span class="id" title="definition">vars_to_apps</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n0</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <span class="id" title="var">l</span>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <span class="id" title="var">Σ</span>); <span class="id" title="var">tryfalse</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tFix_eq_inv" class="idref" href="#tFix_eq_inv"><span class="id" title="lemma">tFix_eq_inv</span></a> <a id="f:434" class="idref" href="#f:434"><span class="id" title="binder">f</span></a> <a id="l:435" class="idref" href="#l:435"><span class="id" title="binder">l</span></a> <a id="e024755d3ac9c32112cec7bbc241e22f" class="idref" href="#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="binder">Σ</span></a> <a id="e:437" class="idref" href="#e:437"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:437"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e024755d3ac9c32112cec7bbc241e22f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:434"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:435"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="fixname:438" class="idref" href="#fixname:438"><span class="id" title="binder">fixname</span></a> <a id="var:439" class="idref" href="#var:439"><span class="id" title="binder">var</span></a> <a id="ty1:440" class="idref" href="#ty1:440"><span class="id" title="binder">ty1</span></a> <a id="ty2:441" class="idref" href="#ty2:441"><span class="id" title="binder">ty2</span></a> <a id="b:442" class="idref" href="#b:442"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:437"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#fixname:438"><span class="id" title="variable">fixname</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#var:439"><span class="id" title="variable">var</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty1:440"><span class="id" title="variable">ty1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty2:441"><span class="id" title="variable">ty2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b:442"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty1</span> <span class="id" title="var">i1</span>]; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_inductive"><span class="id" title="definition">resolve_inductive</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">nat</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">tryfalse</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fix_not_constr_of_val" class="idref" href="#fix_not_constr_of_val"><span class="id" title="lemma">fix_not_constr_of_val</span></a> {<a id="f8c71387e5e6967f482462e508595a26" class="idref" href="#f8c71387e5e6967f482462e508595a26"><span class="id" title="binder">Σ</span></a> <a id="mf:444" class="idref" href="#mf:444"><span class="id" title="binder">mf</span></a> <a id="m:445" class="idref" href="#m:445"><span class="id" title="binder">m</span></a> <a id="i:446" class="idref" href="#i:446"><span class="id" title="binder">i</span></a> <a id="nm:447" class="idref" href="#nm:447"><span class="id" title="binder">nm</span></a> <a id="vs:448" class="idref" href="#vs:448"><span class="id" title="binder">vs</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mf:444"><span class="id" title="variable">mf</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#m:445"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#i:446"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:447"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#vs:448"><span class="id" title="variable">vs</span></a>)<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f8c71387e5e6967f482462e508595a26"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#rev_ind"><span class="id" title="lemma">MCList.rev_ind</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> <span class="id" title="var">nm</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">simpl_vars_to_apps</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tryfalse</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fix_not_lambda_of_val" class="idref" href="#fix_not_lambda_of_val"><span class="id" title="lemma">fix_not_lambda_of_val</span></a> {<a id="e:449" class="idref" href="#e:449"><span class="id" title="binder">e</span></a> <a id="e1:450" class="idref" href="#e1:450"><span class="id" title="binder">e1</span></a> <a id="ty1:451" class="idref" href="#ty1:451"><span class="id" title="binder">ty1</span></a> <a id="ty2:452" class="idref" href="#ty2:452"><span class="id" title="binder">ty2</span></a> <a id="7fd345ba318f185ee4157d40b282a56b" class="idref" href="#7fd345ba318f185ee4157d40b282a56b"><span class="id" title="binder">Σ</span></a> <a id="mf:454" class="idref" href="#mf:454"><span class="id" title="binder">mf</span></a> <a id="n:455" class="idref" href="#n:455"><span class="id" title="binder">n</span></a> <a id="idx:456" class="idref" href="#idx:456"><span class="id" title="binder">idx</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mf:454"><span class="id" title="variable">mf</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#idx:456"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:449"><span class="id" title="variable">e</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:455"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#cmLam"><span class="id" title="constructor">cmLam</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty1:451"><span class="id" title="variable">ty1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty2:452"><span class="id" title="variable">ty2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:450"><span class="id" title="variable">e1</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#7fd345ba318f185ee4157d40b282a56b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lambda_not_fix_of_val" class="idref" href="#lambda_not_fix_of_val"><span class="id" title="lemma">lambda_not_fix_of_val</span></a> {<a id="e:457" class="idref" href="#e:457"><span class="id" title="binder">e</span></a> <a id="e1:458" class="idref" href="#e1:458"><span class="id" title="binder">e1</span></a> <a id="ty:459" class="idref" href="#ty:459"><span class="id" title="binder">ty</span></a> <a id="ty1:460" class="idref" href="#ty1:460"><span class="id" title="binder">ty1</span></a> <a id="ty2:461" class="idref" href="#ty2:461"><span class="id" title="binder">ty2</span></a> <a id="5b8db97ecd7d1f3a0ccfaee058fc6d87" class="idref" href="#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="binder">Σ</span></a> <a id="nm:463" class="idref" href="#nm:463"><span class="id" title="binder">nm</span></a> <a id="nm0:464" class="idref" href="#nm0:464"><span class="id" title="binder">nm0</span></a> <a id="nm1:465" class="idref" href="#nm1:465"><span class="id" title="binder">nm1</span></a> <a id="b:466" class="idref" href="#b:466"><span class="id" title="binder">b</span></a> } :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:463"><span class="id" title="variable">nm</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:459"><span class="id" title="variable">ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b:466"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:457"><span class="id" title="variable">e</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm0:464"><span class="id" title="variable">nm0</span></a> (<a class="idref" href="ConCert.Embedding.EvalE.html#cmFix"><span class="id" title="constructor">cmFix</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm1:465"><span class="id" title="variable">nm1</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty1:460"><span class="id" title="variable">ty1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty2:461"><span class="id" title="variable">ty2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:458"><span class="id" title="variable">e1</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forall_Forall" class="idref" href="#forall_Forall"><span class="id" title="lemma">forall_Forall</span></a> {<a id="A:467" class="idref" href="#A:467"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="P:468" class="idref" href="#P:468"><span class="id" title="binder">P</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:467"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="l:469" class="idref" href="#l:469"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:467"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:470" class="idref" href="#a:470"><span class="id" title="binder">a</span></a>, <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#P:468"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a:470"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#P:468"><span class="id" title="variable">P</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:469"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">eval_val_ok</span> <span class="id" title="var">of_value_closed</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_exprs" class="idref" href="#closed_exprs"><span class="id" title="lemma">closed_exprs</span></a> <a id="n:471" class="idref" href="#n:471"><span class="id" title="binder">n</span></a> (<a id="21d43b99afd003d63b8d0f7897e25f49" class="idref" href="#21d43b99afd003d63b8d0f7897e25f49"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>) <a id="efb7e2a6adafd1fcbb27f5e53705e602" class="idref" href="#efb7e2a6adafd1fcbb27f5e53705e602"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#env_ok"><span class="id" title="definition">env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#efb7e2a6adafd1fcbb27f5e53705e602"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#21d43b99afd003d63b8d0f7897e25f49"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:474" class="idref" href="#x:474"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:471"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:474"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#21d43b99afd003d63b8d0f7897e25f49"><span class="id" title="variable">ρ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> ρ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>ρ.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">closed_exprs</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="app_inv1" class="idref" href="#app_inv1"><span class="id" title="lemma">app_inv1</span></a> {<a id="A:475" class="idref" href="#A:475"><span class="id" title="binder">A</span></a>} (<a id="l:476" class="idref" href="#l:476"><span class="id" title="binder">l</span></a> <a id="l1:477" class="idref" href="#l1:477"><span class="id" title="binder">l1</span></a> <a id="l2:478" class="idref" href="#l2:478"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:475"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:476"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:477"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:476"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:478"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:477"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:478"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_inj" class="idref" href="#mkApps_inj"><span class="id" title="lemma">mkApps_inj</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="u:479" class="idref" href="#u:479"><span class="id" title="binder">u</span></a> <a id="v:480" class="idref" href="#v:480"><span class="id" title="binder">v</span></a> <a id="l:481" class="idref" href="#l:481"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u:479"><span class="id" title="variable">u</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:481"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:480"><span class="id" title="variable">v</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:481"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u:479"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:480"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">l</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_atom_inv" class="idref" href="#mkApps_atom_inv"><span class="id" title="lemma">mkApps_atom_inv</span></a> <a id="l1:482" class="idref" href="#l1:482"><span class="id" title="binder">l1</span></a> <a id="l2:483" class="idref" href="#l2:483"><span class="id" title="binder">l2</span></a> <a id="t1:484" class="idref" href="#t1:484"><span class="id" title="binder">t1</span></a> <a id="t2:485" class="idref" href="#t2:485"><span class="id" title="binder">t2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#atom"><span class="id" title="definition">PcbvCurr.atom</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:484"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#atom"><span class="id" title="definition">PcbvCurr.atom</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:485"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:484"><span class="id" title="variable">t1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:482"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:485"><span class="id" title="variable">t2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:483"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:482"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:483"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t1:484"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t2:485"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">Hmk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">l2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#rev_ind"><span class="id" title="lemma">MCList.rev_ind</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#rev_ind"><span class="id" title="lemma">MCList.rev_ind</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmk</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_unfold"><span class="id" title="lemma">mkApps_unfold</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_unfold"><span class="id" title="lemma">mkApps_unfold</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_unfold"><span class="id" title="lemma">mkApps_unfold</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmk</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_constr_inv" class="idref" href="#mkApps_constr_inv"><span class="id" title="lemma">mkApps_constr_inv</span></a> <a id="ind:486" class="idref" href="#ind:486"><span class="id" title="binder">ind</span></a> <a id="l1:487" class="idref" href="#l1:487"><span class="id" title="binder">l1</span></a> <a id="l2:488" class="idref" href="#l2:488"><span class="id" title="binder">l2</span></a> <a id="n1:489" class="idref" href="#n1:489"><span class="id" title="binder">n1</span></a> <a id="n2:490" class="idref" href="#n2:490"><span class="id" title="binder">n2</span></a> <a id="u1:491" class="idref" href="#u1:491"><span class="id" title="binder">u1</span></a> <a id="u2:492" class="idref" href="#u2:492"><span class="id" title="binder">u2</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:486"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n1:489"><span class="id" title="variable">n1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u1:491"><span class="id" title="variable">u1</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:487"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:486"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n2:490"><span class="id" title="variable">n2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u2:492"><span class="id" title="variable">u2</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:488"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l1:487"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l2:488"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n1:489"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n2:490"><span class="id" title="variable">n2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u1:491"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#u2:492"><span class="id" title="variable">u2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><span class="id" title="var">l2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n1</span> <span class="id" title="var">u1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n2</span> <span class="id" title="var">u2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_atom_inv"><span class="id" title="lemma">mkApps_atom_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_map_exists" class="idref" href="#nth_error_map_exists"><span class="id" title="lemma">nth_error_map_exists</span></a> {<a id="A:493" class="idref" href="#A:493"><span class="id" title="binder">A</span></a> <a id="B:494" class="idref" href="#B:494"><span class="id" title="binder">B</span></a>} (<a id="f:495" class="idref" href="#f:495"><span class="id" title="binder">f</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:493"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#B:494"><span class="id" title="variable">B</span></a>) (<a id="l:496" class="idref" href="#l:496"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:493"><span class="id" title="variable">A</span></a>) <a id="n:497" class="idref" href="#n:497"><span class="id" title="binder">n</span></a> <a id="p:498" class="idref" href="#p:498"><span class="id" title="binder">p</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:495"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:496"><span class="id" title="variable">l</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:497"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:498"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="p0:499" class="idref" href="#p0:499"><span class="id" title="binder">p0</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:493"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p:498"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:495"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#p0:499"><span class="id" title="variable">p0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">env_ok_concat</span> <span class="id" title="var">All_env_ok</span> <span class="id" title="var">rev_env_ok</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="of_val_closed_0" class="idref" href="#of_val_closed_0"><span class="id" title="lemma">of_val_closed_0</span></a> <a id="e:500" class="idref" href="#e:500"><span class="id" title="binder">e</span></a> <a id="a084164469a3f90022f727c620e8f167" class="idref" href="#a084164469a3f90022f727c620e8f167"><span class="id" title="binder">ρ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="e0:502" class="idref" href="#e0:502"><span class="id" title="binder">e0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e0:502"><span class="id" title="variable">e0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a084164469a3f90022f727c620e8f167"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:500"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a084164469a3f90022f727c620e8f167"><span class="id" title="variable">ρ</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a084164469a3f90022f727c620e8f167"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:500"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a>ρ<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> ρ<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">map_length</span> <span class="id" title="var">of_val_closed_0</span> <span class="id" title="var">val_ok_ge_val_ok</span> <span class="id" title="var">rev_length</span><br/>
&nbsp;&nbsp;<span class="id" title="var">subst_env_compose_1</span> <span class="id" title="var">subst_env_compose_2</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#PcbvCurr.value"><span class="id" title="inductive">PcbvCurr.value</span></a> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_nonempty_neq" class="idref" href="#mkApps_nonempty_neq"><span class="id" title="lemma">mkApps_nonempty_neq</span></a> <a id="args:503" class="idref" href="#args:503"><span class="id" title="binder">args</span></a> <a id="t:504" class="idref" href="#t:504"><span class="id" title="binder">t</span></a> <a id="f:505" class="idref" href="#f:505"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:503"><span class="id" title="variable">args</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#atom"><span class="id" title="definition">PcbvCurr.atom</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:504"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:505"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:503"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:504"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hargs</span> <span class="id" title="var">Hatom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#rev_ind"><span class="id" title="lemma">MCList.rev_ind</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_unfold"><span class="id" title="lemma">mkApps_unfold</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_exprs_len_r2l" class="idref" href="#closed_exprs_len_r2l"><span class="id" title="lemma">closed_exprs_len_r2l</span></a> : <span class="id" title="keyword">forall</span> (<a id="e:506" class="idref" href="#e:506"><span class="id" title="binder">e</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<a id="n:507" class="idref" href="#n:507"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="d8a5add311bc0f84a56da5dcb9d03461" class="idref" href="#d8a5add311bc0f84a56da5dcb9d03461"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="ConCert.Utils.Env.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:507"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#d8a5add311bc0f84a56da5dcb9d03461"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:506"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:507"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#d8a5add311bc0f84a56da5dcb9d03461"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:506"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#closed_exprs_len_iff"><span class="id" title="lemma">closed_exprs_len_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">closed_exprs_len_r2l</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 1 (<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">_</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#closed_exprs_len_iff"><span class="id" title="lemma">closed_exprs_len_iff</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := 0) : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="not_stuck" class="idref" href="#not_stuck"><span class="id" title="definition">not_stuck</span></a> : <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="t:509" class="idref" href="#t:509"><span class="id" title="binder">t</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="f:510" class="idref" href="#f:510"><span class="id" title="binder">f</span></a>, <a id="args:511" class="idref" href="#args:511"><span class="id" title="binder">args</span></a>) := <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:509"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#isStuckFix"><span class="id" title="definition">PcbvCurr.isStuckFix</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:510"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#args:511"><span class="id" title="variable">args</span></a>).<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#PcbvCurr.eval"><span class="id" title="inductive">PcbvCurr.eval</span></a> : <span class="id" title="var">hints</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">PcbvCurr.value_final</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vars_to_apps_constr_not_lambda" class="idref" href="#vars_to_apps_constr_not_lambda"><span class="id" title="lemma">vars_to_apps_constr_not_lambda</span></a> <a id="ind:512" class="idref" href="#ind:512"><span class="id" title="binder">ind</span></a> <a id="cn:513" class="idref" href="#cn:513"><span class="id" title="binder">cn</span></a> <a id="l:514" class="idref" href="#l:514"><span class="id" title="binder">l</span></a> <a id="c591a96d44d6308d87b19ba7246a8e34" class="idref" href="#c591a96d44d6308d87b19ba7246a8e34"><span class="id" title="binder">Σ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.Ast.html#vars_to_apps"><span class="id" title="definition">vars_to_apps</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:512"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cn:513"><span class="id" title="variable">cn</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:514"><span class="id" title="variable">l</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#c591a96d44d6308d87b19ba7246a8e34"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#rev_ind"><span class="id" title="lemma">MCList.rev_ind</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ind</span> <span class="id" title="var">cn</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="var">simpl_vars_to_apps</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vars_to_apps_constr_not_fix_app" class="idref" href="#vars_to_apps_constr_not_fix_app"><span class="id" title="lemma">vars_to_apps_constr_not_fix_app</span></a> <a id="ind:516" class="idref" href="#ind:516"><span class="id" title="binder">ind</span></a> <a id="cn:517" class="idref" href="#cn:517"><span class="id" title="binder">cn</span></a> <a id="l:518" class="idref" href="#l:518"><span class="id" title="binder">l</span></a> <a id="78d10b6143844469d434438ffd5af5aa" class="idref" href="#78d10b6143844469d434438ffd5af5aa"><span class="id" title="binder">Σ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#isFixApp"><span class="id" title="definition">PcbvCurr.isFixApp</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.Ast.html#vars_to_apps"><span class="id" title="definition">vars_to_apps</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:516"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cn:517"><span class="id" title="variable">cn</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:518"><span class="id" title="variable">l</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#78d10b6143844469d434438ffd5af5aa"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#rev_ind"><span class="id" title="lemma">MCList.rev_ind</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ind</span> <span class="id" title="var">cn</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#mkApps_vars_to_apps"><span class="id" title="lemma">mkApps_vars_to_apps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#isFixApp"><span class="id" title="definition">PcbvCurr.isFixApp</span></a>,<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICWcbvEval.html#isFix"><span class="id" title="definition">isFix</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#head_mkApps"><span class="id" title="lemma">PcbvCurr.head_mkApps</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ind</span> <span class="id" title="var">cn</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vars_to_apps_constr_not_arity" class="idref" href="#vars_to_apps_constr_not_arity"><span class="id" title="lemma">vars_to_apps_constr_not_arity</span></a> <a id="ind:520" class="idref" href="#ind:520"><span class="id" title="binder">ind</span></a> <a id="cn:521" class="idref" href="#cn:521"><span class="id" title="binder">cn</span></a> <a id="l:522" class="idref" href="#l:522"><span class="id" title="binder">l</span></a> <a id="4fc98306f9bcfdf5c588de7f850980db" class="idref" href="#4fc98306f9bcfdf5c588de7f850980db"><span class="id" title="binder">Σ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#isArityHead"><span class="id" title="definition">PcbvCurr.isArityHead</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.Ast.html#vars_to_apps"><span class="id" title="definition">vars_to_apps</span></a> (<a class="idref" href="ConCert.Embedding.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ind:520"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#cn:521"><span class="id" title="variable">cn</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:522"><span class="id" title="variable">l</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#4fc98306f9bcfdf5c588de7f850980db"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#rev_ind"><span class="id" title="lemma">MCList.rev_ind</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ind</span> <span class="id" title="var">cn</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="var">simpl_vars_to_apps</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">vars_to_apps_iclosed_n</span> <span class="id" title="var">vars_to_apps_constr_not_lambda</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">vars_to_apps_constr_not_fix_app</span> <span class="id" title="var">vars_to_apps_constr_not_arity</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="negb_and_to_orb" class="idref" href="#negb_and_to_orb"><span class="id" title="lemma">negb_and_to_orb</span></a> <a id="a:524" class="idref" href="#a:524"><span class="id" title="binder">a</span></a> <a id="b:525" class="idref" href="#b:525"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a:524"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b:525"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#a:524"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b:525"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>,<span class="id" title="var">b</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">negb_and_to_orb</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#All2"><span class="id" title="inductive">All2</span></a> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_value_of_val" class="idref" href="#All_value_of_val"><span class="id" title="lemma">All_value_of_val</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="30af5f0c25eceef01ff3a4cdc4438d1f" class="idref" href="#30af5f0c25eceef01ff3a4cdc4438d1f"><span class="id" title="binder">Σ1</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) <a id="56825f035aa68d7ce8b70cba65efc999" class="idref" href="#56825f035aa68d7ce8b70cba65efc999"><span class="id" title="binder">Σ2</span></a> (<a id="Hsync:528" class="idref" href="#Hsync:528"><span class="id" title="binder">Hsync</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#30af5f0c25eceef01ff3a4cdc4438d1f"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ef9d256079c0792b68e6d5b9b0edd2f4"><span class="id" title="notation">⋈</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#56825f035aa68d7ce8b70cba65efc999"><span class="id" title="variable">Σ2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:529" class="idref" href="#l:529"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#30af5f0c25eceef01ff3a4cdc4438d1f"><span class="id" title="variable">Σ1</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:529"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="v:530" class="idref" href="#v:530"><span class="id" title="binder">v</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#value"><span class="id" title="inductive">PcbvCurr.value</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#56825f035aa68d7ce8b70cba65efc999"><span class="id" title="variable">Σ2</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#v:530"><span class="id" title="variable">v</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#30af5f0c25eceef01ff3a4cdc4438d1f"><span class="id" title="variable">Σ1</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:529"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ1</span> <span class="id" title="var">Σ2</span> <span class="id" title="var">Hsync</span> <span class="id" title="var">l</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#Wcbv_of_value_value"><span class="id" title="lemma">Wcbv_of_value_value</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_expr_iclosed_of_val" class="idref" href="#All_expr_iclosed_of_val"><span class="id" title="lemma">All_expr_iclosed_of_val</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="75a853351f84b48393e8193c45169aae" class="idref" href="#75a853351f84b48393e8193c45169aae"><span class="id" title="binder">Σ1</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) (<a id="l0:532" class="idref" href="#l0:532"><span class="id" title="binder">l0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#75a853351f84b48393e8193c45169aae"><span class="id" title="variable">Σ1</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l0:532"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:533" class="idref" href="#x:533"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:533"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l0:532"><span class="id" title="variable">l0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ1</span> <span class="id" title="var">l0</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_term_closed_of_val" class="idref" href="#All_term_closed_of_val"><span class="id" title="lemma">All_term_closed_of_val</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="940e54835258838b6850126dce0fa7f3" class="idref" href="#940e54835258838b6850126dce0fa7f3"><span class="id" title="binder">Σ1</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) (<a id="l0:535" class="idref" href="#l0:535"><span class="id" title="binder">l0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#genv_ok"><span class="id" title="definition">genv_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#940e54835258838b6850126dce0fa7f3"><span class="id" title="variable">Σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="ConCert.Embedding.Wf.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#940e54835258838b6850126dce0fa7f3"><span class="id" title="variable">Σ1</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l0:535"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:536" class="idref" href="#x:536"><span class="id" title="binder">x</span></a> : <a class="idref" href="ConCert.Embedding.EvalE.html#val"><span class="id" title="inductive">val</span></a> =&gt; <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#closed"><span class="id" title="abbreviation">closed</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.of_val_i"><span class="id" title="definition">of_val_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:536"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#940e54835258838b6850126dce0fa7f3"><span class="id" title="variable">Σ1</span></a>)) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l0:535"><span class="id" title="variable">l0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ1</span> <span class="id" title="var">l0</span> <span class="id" title="var">Hgeok</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#expr_closed_term_closed"><span class="id" title="lemma">expr_closed_term_closed</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_type_i_subst_env" class="idref" href="#eval_type_i_subst_env"><span class="id" title="lemma">eval_type_i_subst_env</span></a> <a id="ty:537" class="idref" href="#ty:537"><span class="id" title="binder">ty</span></a> : <span class="id" title="keyword">forall</span> <a id="n:538" class="idref" href="#n:538"><span class="id" title="binder">n</span></a> <a id="642c5d6c698511ae620f8fa26c08dc05" class="idref" href="#642c5d6c698511ae620f8fa26c08dc05"><span class="id" title="binder">ρ</span></a> <a id="ty_v:540" class="idref" href="#ty_v:540"><span class="id" title="binder">ty_v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:538"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#642c5d6c698511ae620f8fa26c08dc05"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:537"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:540"><span class="id" title="variable">ty_v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:538"><span class="id" title="variable">n</span></a> (<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.exprs"><span class="id" title="abbreviation">exprs</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#642c5d6c698511ae620f8fa26c08dc05"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:537"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty_v:540"><span class="id" title="variable">ty_v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span> ??? <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">n</span> ρ <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">n</span> ρ <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.Ast.html#decompose_inductive"><span class="id" title="definition">decompose_inductive</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">tryfalse</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#lookup_i_nth_error"><span class="id" title="lemma">lookup_i_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.lookup_ty"><span class="id" title="definition">lookup_ty</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#lookup_i_nth_error"><span class="id" title="lemma">lookup_i_nth_error</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ρ (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n0</span>)); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">p</span><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">tryfalse</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">n</span> ρ <span class="id" title="var">ty2</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Embedding.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <span class="id" title="var">n</span> ρ <span class="id" title="var">ty1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hty1</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_env_i_ty_closed_eq" class="idref" href="#subst_env_i_ty_closed_eq"><span class="id" title="lemma">subst_env_i_ty_closed_eq</span></a> <a id="n:541" class="idref" href="#n:541"><span class="id" title="binder">n</span></a> <a id="1a9745ff1999937dde21add4856e4dcd" class="idref" href="#1a9745ff1999937dde21add4856e4dcd"><span class="id" title="binder">ρ</span></a> <a id="ty:543" class="idref" href="#ty:543"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:541"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:543"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:541"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#1a9745ff1999937dde21add4856e4dcd"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:543"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:543"><span class="id" title="variable">ty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> ρ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">propify</span>; <span class="id" title="tactic">intuition</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hn0</span> : <span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="var">propify</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_env_i_ty_closed_0_eq" class="idref" href="#subst_env_i_ty_closed_0_eq"><span class="id" title="lemma">subst_env_i_ty_closed_0_eq</span></a> <a id="n:544" class="idref" href="#n:544"><span class="id" title="binder">n</span></a> <a id="b19555c54c195102cf82dc159a3d280f" class="idref" href="#b19555c54c195102cf82dc159a3d280f"><span class="id" title="binder">ρ</span></a> <a id="ty:546" class="idref" href="#ty:546"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_ty"><span class="id" title="definition">iclosed_ty</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:546"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.EnvSubst.html#NamelessSubst.subst_env_i_ty"><span class="id" title="definition">subst_env_i_ty</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:544"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#b19555c54c195102cf82dc159a3d280f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:546"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:546"><span class="id" title="variable">ty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_env_i_ty_closed_eq"><span class="id" title="lemma">subst_env_i_ty_closed_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICFacts.html#iclosed_ty_0"><span class="id" title="lemma">iclosed_ty_0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">eval_ty_expr_env_ok</span> <span class="id" title="var">subst_env_i_ty_closed_0_eq</span> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_term_subst_env_2" class="idref" href="#subst_term_subst_env_2"><span class="id" title="lemma">subst_term_subst_env_2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="262385f9d624cb5d3f32c92c9acffe2c" class="idref" href="#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>) (<a id="e:548" class="idref" href="#e:548"><span class="id" title="binder">e</span></a> <a id="e1:549" class="idref" href="#e1:549"><span class="id" title="binder">e1</span></a> <a id="e2:550" class="idref" href="#e2:550"><span class="id" title="binder">e2</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<a id="nm1:551" class="idref" href="#nm1:551"><span class="id" title="binder">nm1</span></a> <a id="nm2:552" class="idref" href="#nm2:552"><span class="id" title="binder">nm2</span></a> : <a class="idref" href="ConCert.Embedding.Ast.html#ename"><span class="id" title="definition">ename</span></a>) (<a id="k:553" class="idref" href="#k:553"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="l:554" class="idref" href="#l:554"><span class="id" title="binder">l</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm1:551"><span class="id" title="variable">nm1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:549"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm2:552"><span class="id" title="variable">nm2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e2:550"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#genv_ok"><span class="id" title="definition">genv_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Wf.html#ty_expr_env_ok"><span class="id" title="definition">ty_expr_env_ok</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:554"><span class="id" title="variable">l</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:548"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:554"><span class="id" title="variable">l</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:548"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:555" class="idref" href="#x:555"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#expr"><span class="id" title="inductive">expr</span></a> =&gt; <a class="idref" href="ConCert.Embedding.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> 0 <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:555"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:554"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e1:549"><span class="id" title="variable">e1</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e2:550"><span class="id" title="variable">e2</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:548"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#e:548"><span class="id" title="variable">e</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">.[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#l:554"><span class="id" title="variable">l</span></a><a class="idref" href="ConCert.Embedding.EnvSubst.html#430fd7fffa1d3d539a8d4368d4fd5b83"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <span class="id" title="var">e1</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <span class="id" title="var">e2</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:557" class="idref" href="#x:557"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">t</span></a><a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:556"><span class="id" title="variable">x</span></a><a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#d850bf896b61926d9cd9e2df17f33b3e"><span class="id" title="notation">⟧</span></a><span class="id" title="var">Σ</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">nm2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_term_subst_env_par"><span class="id" title="lemma">subst_term_subst_env_par</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> : <span class="id" title="var">hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="assumption_context_subst" class="idref" href="#assumption_context_subst"><span class="id" title="lemma">assumption_context_subst</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="ctx:558" class="idref" href="#ctx:558"><span class="id" title="binder">ctx</span></a> <a id="ts:559" class="idref" href="#ts:559"><span class="id" title="binder">ts</span></a> <a id="n:560" class="idref" href="#n:560"><span class="id" title="binder">n</span></a>, <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ctx:558"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ts:559"><span class="id" title="variable">ts</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#n:560"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ctx:558"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ctx</span> <span class="id" title="var">ts</span> <span class="id" title="var">n0</span> <span class="id" title="var">Hctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hctx</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.MCList.html#mapi_rec_app"><span class="id" title="lemma">mapi_rec_app</span></a>,<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev_app_distr"><span class="id" title="lemma">rev_app_distr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICClosed.html#assumption_context_app_inv"><span class="id" title="lemma">PCUICClosed.assumption_context_app_inv</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="assumption_context_map_vass" class="idref" href="#assumption_context_map_vass"><span class="id" title="lemma">assumption_context_map_vass</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A:561" class="idref" href="#A:561"><span class="id" title="binder">A</span></a>} <a id="xs:562" class="idref" href="#xs:562"><span class="id" title="binder">xs</span></a> (<a id="f:563" class="idref" href="#f:563"><span class="id" title="binder">f</span></a> : <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#A:561"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:566" class="idref" href="#pat:566"><span class="id" title="binder">(</span></a><a id="pat:566" class="idref" href="#pat:566"><span class="id" title="binder">nm</span></a><a id="pat:566" class="idref" href="#pat:566"><span class="id" title="binder">,</span></a> <a id="pat:566" class="idref" href="#pat:566"><span class="id" title="binder">t</span></a><a id="pat:566" class="idref" href="#pat:566"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#f:563"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#nm:565"><span class="id" title="variable">nm</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:564"><span class="id" title="variable">t</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#xs:562"><span class="id" title="variable">xs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">xs0</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_type_to_term" class="idref" href="#subst_instance_type_to_term"><span class="id" title="lemma">subst_instance_type_to_term</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="ty:567" class="idref" href="#ty:567"><span class="id" title="binder">ty</span></a>, <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:567"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:567"><span class="id" title="variable">ty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHty</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHty1</span>,<span class="id" title="var">IHty2</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">PCUICUnivSubst.subst_instance_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHty1</span>,<span class="id" title="var">IHty2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_subst_instance_type_to_term" class="idref" href="#All_subst_instance_type_to_term"><span class="id" title="lemma">All_subst_instance_type_to_term</span></a> <a id="ctx:568" class="idref" href="#ctx:568"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ctx:568"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="t:569" class="idref" href="#t:569"><span class="id" title="binder">t</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="ty:570" class="idref" href="#ty:570"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Embedding.Ast.html#BasicTC.decl_type"><span class="id" title="projection">BasicTC.decl_type</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#t:569"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ty:570"><span class="id" title="variable">ty</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ctx:568"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:571" class="idref" href="#x:571"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:571"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#x:571"><span class="id" title="variable">x</span></a>) <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#ctx:568"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hassump</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hints</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://metacoq.github.io/html/MetaCoq.Template.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hassump</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">Hty</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Embedding.pcuic.PCUICCorrectnessAux.html#subst_instance_type_to_term"><span class="id" title="lemma">subst_instance_type_to_term</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHall</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hassump</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="https://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
      const mainDiv = document.getElementById("main");
      mainDiv.classList.add("jstoc-hidden-main");
      const toggleDiv = document.getElementById("toggle-toc");
      toggleDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
