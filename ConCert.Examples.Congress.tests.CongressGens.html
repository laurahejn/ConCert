<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
      <span id="toggle-toc">Contents</span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
      <a href="index.html">Index</a>
      <a href="toc.html">Table of contents</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc" data-toc-offset="-40">
      <div id="js-toc-header" class="toc-header">Contents:</div>
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Examples.Congress.tests.CongressGens</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Blockchain.html#"><span class="id" title="library">Blockchain</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.BoundedN.html#"><span class="id" title="library">BoundedN</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Containers.html#"><span class="id" title="library">Containers</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Serializable.html#"><span class="id" title="library">Serializable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution.Test</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Test.QCTest.html#"><span class="id" title="library">QCTest</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Examples.Congress</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Examples.Congress.Congress.html#"><span class="id" title="library">Congress</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>. <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#MonadNotation"><span class="id" title="module">MonadNotation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="serializeMsg" class="idref" href="#serializeMsg"><span class="id" title="definition">serializeMsg</span></a> := <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#Msg"><span class="id" title="inductive">Msg</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="comment">(*&nbsp;ChainGens&nbsp;for&nbsp;the&nbsp;types&nbsp;defined&nbsp;in&nbsp;the&nbsp;Congress&nbsp;contract&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;Helper&nbsp;function&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="genToOpt" class="idref" href="#genToOpt"><span class="id" title="definition">genToOpt</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="g:2" class="idref" href="#g:2"><span class="id" title="binder">g</span></a> : <span class="id" title="axiom">G</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#A:1"><span class="id" title="variable">A</span></a>) : <span class="id" title="definition">GOpt</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#A:1"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a id="a:3" class="idref" href="#a:3"><span class="id" title="binder">a</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#g:2"><span class="id" title="variable">g</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#a:3"><span class="id" title="variable">a</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="gRulesSized" class="idref" href="#gRulesSized"><span class="id" title="definition">gRulesSized</span></a> (<a id="n:4" class="idref" href="#n:4"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="axiom">G</span> <a class="idref" href="ConCert.Examples.Congress.Congress.html#Rules"><span class="id" title="record">Rules</span></a> :=<br/>
&nbsp;&nbsp;<a id="vote_count:5" class="idref" href="#vote_count:5"><span class="id" title="binder">vote_count</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="axiom">choose</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 1000%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a id="margin:6" class="idref" href="#margin:6"><span class="id" title="binder">margin</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="axiom">choose</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 1000%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#liftM"><span class="id" title="definition">liftM</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#build_rules"><span class="id" title="constructor">build_rules</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#vote_count:5"><span class="id" title="variable">vote_count</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#margin:6"><span class="id" title="variable">margin</span></a>) <span class="id" title="method">arbitrary</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="genRulesSized" class="idref" href="#genRulesSized"><span class="id" title="instance">genRulesSized</span></a> : <span class="id" title="class">GenSized</span> <a class="idref" href="ConCert.Examples.Congress.Congress.html#Rules"><span class="id" title="record">Rules</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="method">arbitrarySized</span> := <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#gRulesSized"><span class="id" title="definition">gRulesSized</span></a><br/>
|}.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="genSetupSized" class="idref" href="#genSetupSized"><span class="id" title="instance">genSetupSized</span></a> : <span class="id" title="class">GenSized</span> <a class="idref" href="ConCert.Examples.Congress.Congress.html#Setup"><span class="id" title="record">Setup</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="method">arbitrarySized</span> <a id="n:7" class="idref" href="#n:7"><span class="id" title="binder">n</span></a> := <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#liftM"><span class="id" title="definition">liftM</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#build_setup"><span class="id" title="constructor">build_setup</span></a> (<span class="id" title="method">arbitrarySized</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#n:7"><span class="id" title="variable">n</span></a>)<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lc_contract_members_and_proposals_new_voters" class="idref" href="#lc_contract_members_and_proposals_new_voters"><span class="id" title="definition">lc_contract_members_and_proposals_new_voters</span></a> (<a id="state:8" class="idref" href="#state:8"><span class="id" title="binder">state</span></a> : <a class="idref" href="ConCert.Examples.Congress.Congress.html#State"><span class="id" title="record">Congress.State</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: (<a class="idref" href="ConCert.Execution.Containers.html#FMap"><span class="id" title="abbreviation">FMap</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#ProposalId"><span class="id" title="definition">ProposalId</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="candidate_members:9" class="idref" href="#candidate_members:9"><span class="id" title="binder">candidate_members</span></a> := <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">members</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">state</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="proposals_pairs:10" class="idref" href="#proposals_pairs:10"><span class="id" title="binder">proposals_pairs</span></a> := <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#proposals"><span class="id" title="projection">proposals</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#state:8"><span class="id" title="variable">state</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#candidate_members:9"><span class="id" title="variable">candidate_members</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#proposals_pairs:10"><span class="id" title="variable">proposals_pairs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="voters_to_proposals:15" class="idref" href="#voters_to_proposals:15"><span class="id" title="binder">voters_to_proposals</span></a> : <a class="idref" href="ConCert.Execution.Containers.html#FMap"><span class="id" title="abbreviation">FMap</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#ProposalId"><span class="id" title="definition">ProposalId</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:11" class="idref" href="#acc:11"><span class="id" title="binder">acc</span></a> <a id="m:12" class="idref" href="#m:12"><span class="id" title="binder">m</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="unvoted_proposals:14" class="idref" href="#unvoted_proposals:14"><span class="id" title="binder">unvoted_proposals</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#ProposalId"><span class="id" title="definition">ProposalId</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#Proposal"><span class="id" title="record">Proposal</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="p:13" class="idref" href="#p:13"><span class="id" title="binder">p</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.find"><span class="id" title="abbreviation">FMap.find</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#m:12"><span class="id" title="variable">m</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#votes"><span class="id" title="projection">votes</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#p:13"><span class="id" title="variable">p</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#proposals_pairs:10"><span class="id" title="variable">proposals_pairs</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#unvoted_proposals:14"><span class="id" title="variable">unvoted_proposals</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#acc:11"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ps</span> =&gt; <a class="idref" href="ConCert.Execution.Containers.html#FMap.add"><span class="id" title="abbreviation">FMap.add</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#m:12"><span class="id" title="variable">m</span></a> <span class="id" title="var">ps</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#acc:11"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#candidate_members:9"><span class="id" title="variable">candidate_members</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.empty"><span class="id" title="abbreviation">FMap.empty</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#voters_to_proposals:15"><span class="id" title="variable">voters_to_proposals</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.empty"><span class="id" title="abbreviation">FMap.empty</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lc_contract_members_and_proposals_with_votes" class="idref" href="#lc_contract_members_and_proposals_with_votes"><span class="id" title="definition">lc_contract_members_and_proposals_with_votes</span></a> (<a id="state:16" class="idref" href="#state:16"><span class="id" title="binder">state</span></a> : <a class="idref" href="ConCert.Examples.Congress.Congress.html#State"><span class="id" title="record">Congress.State</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ConCert.Execution.Containers.html#FMap"><span class="id" title="abbreviation">FMap</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#ProposalId"><span class="id" title="definition">ProposalId</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="members:17" class="idref" href="#members:17"><span class="id" title="binder">members</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> := <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">members</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">state</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="proposals_map:19" class="idref" href="#proposals_map:19"><span class="id" title="binder">proposals_map</span></a> : <a class="idref" href="ConCert.Execution.Containers.html#FMap"><span class="id" title="abbreviation">FMap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#Proposal"><span class="id" title="record">Proposal</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Test.TestUtils.html#filter_FMap"><span class="id" title="definition">filter_FMap</span></a> (<span class="id" title="keyword">fun</span> <a id="p:18" class="idref" href="#p:18"><span class="id" title="binder">p</span></a> =&gt; 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Containers.html#FMap.size"><span class="id" title="abbreviation">FMap.size</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#votes"><span class="id" title="projection">votes</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#p:18"><span class="id" title="variable">p</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">)</span></a>) (<a class="idref" href="ConCert.Examples.Congress.Congress.html#proposals"><span class="id" title="projection">proposals</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#state:16"><span class="id" title="variable">state</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members:17"><span class="id" title="variable">members</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Containers.html#FMap.size"><span class="id" title="abbreviation">FMap.size</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#proposals_map:19"><span class="id" title="variable">proposals_map</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="propIds:20" class="idref" href="#propIds:20"><span class="id" title="binder">propIds</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#ProposalId"><span class="id" title="definition">ProposalId</span></a> := <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">proposals_map</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:21" class="idref" href="#acc:21"><span class="id" title="binder">acc</span></a> <a id="m:22" class="idref" href="#m:22"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="ConCert.Execution.Containers.html#FMap.add"><span class="id" title="abbreviation">FMap.add</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#m:22"><span class="id" title="variable">m</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#propIds:20"><span class="id" title="variable">propIds</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#acc:21"><span class="id" title="variable">acc</span></a>) <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members:17"><span class="id" title="variable">members</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.empty"><span class="id" title="abbreviation">FMap.empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.empty"><span class="id" title="abbreviation">FMap.empty</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="congressContractsMembers_nonowners" class="idref" href="#congressContractsMembers_nonowners"><span class="id" title="definition">congressContractsMembers_nonowners</span></a> <a id="state:23" class="idref" href="#state:23"><span class="id" title="binder">state</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="members:24" class="idref" href="#members:24"><span class="id" title="binder">members</span></a> := <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">members</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">state</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="non_owner_members:26" class="idref" href="#non_owner_members:26"><span class="id" title="binder">non_owner_members</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="member:25" class="idref" href="#member:25"><span class="id" title="binder">member</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#address_eqb"><span class="id" title="method">address_eqb</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#member:25"><span class="id" title="variable">member</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#owner"><span class="id" title="projection">owner</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#state:23"><span class="id" title="variable">state</span></a>))) <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members:24"><span class="id" title="variable">members</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#non_owner_members:26"><span class="id" title="variable">non_owner_members</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="gCongressMember_without_caller" class="idref" href="#gCongressMember_without_caller"><span class="id" title="definition">gCongressMember_without_caller</span></a> (<a id="state:27" class="idref" href="#state:27"><span class="id" title="binder">state</span></a> : <a class="idref" href="ConCert.Examples.Congress.Congress.html#State"><span class="id" title="record">Congress.State</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="calling_addr:28" class="idref" href="#calling_addr:28"><span class="id" title="binder">calling_addr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="contract_addr:29" class="idref" href="#contract_addr:29"><span class="id" title="binder">contract_addr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="definition">GOpt</span> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="members:30" class="idref" href="#members:30"><span class="id" title="binder">members</span></a> := <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">members</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">state</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="members_without_caller:31" class="idref" href="#members_without_caller:31"><span class="id" title="binder">members_without_caller</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#remove"><span class="id" title="definition">List.remove</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#address_eqdec"><span class="id" title="method">address_eqdec</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#calling_addr:28"><span class="id" title="variable">calling_addr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members:30"><span class="id" title="variable">members</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members_without_caller:31"><span class="id" title="variable">members_without_caller</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <span class="id" title="axiom">returnGen</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">ms</span> =&gt; <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#liftM"><span class="id" title="definition">liftM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="axiom">elems_</span> <span class="id" title="var">m</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members_without_caller:31"><span class="id" title="variable">members_without_caller</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="try_newCongressMember_fix" class="idref" href="#try_newCongressMember_fix"><span class="id" title="definition">try_newCongressMember_fix</span></a> (<a id="members:33" class="idref" href="#members:33"><span class="id" title="binder">members</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="nr_attempts:34" class="idref" href="#nr_attempts:34"><span class="id" title="binder">nr_attempts</span></a> <a id="curr_nr:35" class="idref" href="#curr_nr:35"><span class="id" title="binder">curr_nr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">fix</span> <a id="aux:40" class="idref" href="#aux:40"><span class="id" title="binder">aux</span></a> <a id="nr_attempts:36" class="idref" href="#nr_attempts:36"><span class="id" title="binder">nr_attempts</span></a> <a id="curr_nr:37" class="idref" href="#curr_nr:37"><span class="id" title="binder">curr_nr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#nr_attempts:36"><span class="id" title="variable">nr_attempts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> =&gt; <span class="id" title="keyword">match</span> @<a class="idref" href="ConCert.Execution.BoundedN.html#BoundedN.of_nat"><span class="id" title="definition">BoundedN.of_nat</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#AddrSize"><span class="id" title="definition">AddrSize</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#curr_nr:37"><span class="id" title="variable">curr_nr</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">addr_attempt</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">List.existsb</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#address_eqb"><span class="id" title="method">address_eqb</span></a> <span class="id" title="var">addr_attempt</span>) <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members:33"><span class="id" title="variable">members</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#aux:38"><span class="id" title="variable">aux</span></a> <span class="id" title="var">n'</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#curr_nr:37"><span class="id" title="variable">curr_nr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">addr_attempt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#aux:40"><span class="id" title="variable">aux</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#nr_attempts:34"><span class="id" title="variable">nr_attempts</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#curr_nr:35"><span class="id" title="variable">curr_nr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="try_newCongressMember" class="idref" href="#try_newCongressMember"><span class="id" title="definition">try_newCongressMember</span></a> (<a id="state:41" class="idref" href="#state:41"><span class="id" title="binder">state</span></a> : <a class="idref" href="ConCert.Examples.Congress.Congress.html#State"><span class="id" title="record">Congress.State</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="congress_addr:42" class="idref" href="#congress_addr:42"><span class="id" title="binder">congress_addr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="nr_attempts:43" class="idref" href="#nr_attempts:43"><span class="id" title="binder">nr_attempts</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="members:44" class="idref" href="#members:44"><span class="id" title="binder">members</span></a> := <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">members</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">state</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#try_newCongressMember_fix"><span class="id" title="definition">try_newCongressMember_fix</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members:44"><span class="id" title="variable">members</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#nr_attempts:43"><span class="id" title="variable">nr_attempts</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bindCallerIsOwnerOpt" class="idref" href="#bindCallerIsOwnerOpt"><span class="id" title="definition">bindCallerIsOwnerOpt</span></a> {<a id="A:45" class="idref" href="#A:45"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="state:46" class="idref" href="#state:46"><span class="id" title="binder">state</span></a> : <a class="idref" href="ConCert.Examples.Congress.Congress.html#State"><span class="id" title="record">Congress.State</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="calling_addr:47" class="idref" href="#calling_addr:47"><span class="id" title="binder">calling_addr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="contract_addr:48" class="idref" href="#contract_addr:48"><span class="id" title="binder">contract_addr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g:49" class="idref" href="#g:49"><span class="id" title="binder">g</span></a> : <span class="id" title="definition">GOpt</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#A:45"><span class="id" title="variable">A</span></a>) : <span class="id" title="definition">GOpt</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#A:45"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Blockchain.html#address_eqb"><span class="id" title="method">address_eqb</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#calling_addr:47"><span class="id" title="variable">calling_addr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#contract_addr:48"><span class="id" title="variable">contract_addr</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#g:49"><span class="id" title="variable">g</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Blockchain.html#address_eqb"><span class="id" title="method">address_eqb</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#state:46"><span class="id" title="variable">state</span></a>.(<a class="idref" href="ConCert.Examples.Congress.Congress.html#owner"><span class="id" title="projection">owner</span></a>) <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#calling_addr:47"><span class="id" title="variable">calling_addr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#g:49"><span class="id" title="variable">g</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="axiom">returnGen</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="try_gNewOwner" class="idref" href="#try_gNewOwner"><span class="id" title="definition">try_gNewOwner</span></a> <a id="state:50" class="idref" href="#state:50"><span class="id" title="binder">state</span></a> <a id="calling_addr:51" class="idref" href="#calling_addr:51"><span class="id" title="binder">calling_addr</span></a> <a id="contract_addr:52" class="idref" href="#contract_addr:52"><span class="id" title="binder">contract_addr</span></a> : <span class="id" title="definition">GOpt</span> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#bindCallerIsOwnerOpt"><span class="id" title="definition">bindCallerIsOwnerOpt</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#state:50"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#calling_addr:51"><span class="id" title="variable">calling_addr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#contract_addr:52"><span class="id" title="variable">contract_addr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#gCongressMember_without_caller"><span class="id" title="definition">gCongressMember_without_caller</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#state:50"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#calling_addr:51"><span class="id" title="variable">calling_addr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#contract_addr:52"><span class="id" title="variable">contract_addr</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="vote_proposal" class="idref" href="#vote_proposal"><span class="id" title="definition">vote_proposal</span></a> (<a id="caddr:53" class="idref" href="#caddr:53"><span class="id" title="binder">caddr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="members_and_proposals:54" class="idref" href="#members_and_proposals:54"><span class="id" title="binder">members_and_proposals</span></a> : <a class="idref" href="ConCert.Execution.Containers.html#FMap"><span class="id" title="abbreviation">FMap</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#ProposalId"><span class="id" title="definition">ProposalId</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="call:55" class="idref" href="#call:55"><span class="id" title="binder">call</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">GOpt</span> <a class="idref" href="ConCert.Execution.Blockchain.html#Action"><span class="id" title="record">Action</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vote:56" class="idref" href="#vote:56"><span class="id" title="binder">vote</span></a> : <a class="idref" href="ConCert.Examples.Congress.Congress.html#ProposalId"><span class="id" title="definition">ProposalId</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#Msg"><span class="id" title="inductive">Msg</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#9d6c3e66ed5a7d11a2cd0c5e68ec6163"><span class="id" title="notation">'</span></a><a id="pat:59" class="idref" href="#pat:59"><span class="id" title="binder">(</span></a><a id="pat:59" class="idref" href="#pat:59"><span class="id" title="binder">member</span></a><a id="pat:59" class="idref" href="#pat:59"><span class="id" title="binder">,</span></a> <a id="pat:59" class="idref" href="#pat:59"><span class="id" title="binder">pids</span></a><a id="pat:59" class="idref" href="#pat:59"><span class="id" title="binder">)</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#9d6c3e66ed5a7d11a2cd0c5e68ec6163"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#sampleFMapOpt"><span class="id" title="definition">sampleFMapOpt</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members_and_proposals:54"><span class="id" title="variable">members_and_proposals</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#9d6c3e66ed5a7d11a2cd0c5e68ec6163"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a id="pid:60" class="idref" href="#pid:60"><span class="id" title="binder">pid</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#elems_opt"><span class="id" title="definition">elems_opt</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#pids:57"><span class="id" title="variable">pids</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:55"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:53"><span class="id" title="variable">caddr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#member:58"><span class="id" title="variable">member</span></a> (<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#vote:56"><span class="id" title="variable">vote</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#pid:60"><span class="id" title="variable">pid</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Returns&nbsp;a&nbsp;mapping&nbsp;to&nbsp;proposals&nbsp;which&nbsp;have&nbsp;been&nbsp;discussed&nbsp;long&nbsp;enough,&nbsp;according&nbsp;to&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;current&nbsp;rules&nbsp;in&nbsp;the&nbsp;given&nbsp;congress'&nbsp;state&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="finishable_proposals" class="idref" href="#finishable_proposals"><span class="id" title="definition">finishable_proposals</span></a> (<a id="state:61" class="idref" href="#state:61"><span class="id" title="binder">state</span></a> : <a class="idref" href="ConCert.Examples.Congress.Congress.html#State"><span class="id" title="record">Congress.State</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="current_slot:62" class="idref" href="#current_slot:62"><span class="id" title="binder">current_slot</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ConCert.Execution.Containers.html#FMap"><span class="id" title="abbreviation">FMap</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#ProposalId"><span class="id" title="definition">ProposalId</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#Proposal"><span class="id" title="record">Proposal</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pids_map_filtered:65" class="idref" href="#pids_map_filtered:65"><span class="id" title="binder">pids_map_filtered</span></a> := <a class="idref" href="ConCert.Execution.Test.TestUtils.html#filter_FMap"><span class="id" title="definition">filter_FMap</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder">(</span></a><a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder">_</span></a><a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder">,</span></a> <a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder">proposal</span></a><a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#proposal:63"><span class="id" title="variable">proposal</span></a>.(<a class="idref" href="ConCert.Examples.Congress.Congress.html#proposed_in"><span class="id" title="projection">proposed_in</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#state:61"><span class="id" title="variable">state</span></a>.(<a class="idref" href="ConCert.Examples.Congress.Congress.html#state_rules"><span class="id" title="projection">state_rules</span></a>).(<a class="idref" href="ConCert.Examples.Congress.Congress.html#debating_period_in_blocks"><span class="id" title="projection">debating_period_in_blocks</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#current_slot:62"><span class="id" title="variable">current_slot</span></a><br/>
&nbsp;&nbsp;) <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#state:61"><span class="id" title="variable">state</span></a>.(<a class="idref" href="ConCert.Examples.Congress.Congress.html#proposals"><span class="id" title="projection">proposals</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.size"><span class="id" title="abbreviation">FMap.size</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#pids_map_filtered:65"><span class="id" title="variable">pids_map_filtered</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#pids_map_filtered:65"><span class="id" title="variable">pids_map_filtered</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.empty"><span class="id" title="abbreviation">FMap.empty</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;NOTE:&nbsp;all&nbsp;call&nbsp;considered&nbsp;top-level&nbsp;calls&nbsp;(from&nbsp;users)&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a id="GCongressAction" class="idref" href="#GCongressAction"><span class="id" title="definition">GCongressAction</span></a> (<a id="env:66" class="idref" href="#env:66"><span class="id" title="binder">env</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Environment"><span class="id" title="record">Environment</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="fuel:67" class="idref" href="#fuel:67"><span class="id" title="binder">fuel</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="caddr:68" class="idref" href="#caddr:68"><span class="id" title="binder">caddr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="definition">GOpt</span> <a class="idref" href="ConCert.Execution.Blockchain.html#Action"><span class="id" title="record">Action</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="call:74" class="idref" href="#call:74"><span class="id" title="binder">call</span></a> <a id="contract_addr:70" class="idref" href="#contract_addr:70"><span class="id" title="binder">contract_addr</span></a> <a id="caller_addr:71" class="idref" href="#caller_addr:71"><span class="id" title="binder">caller_addr</span></a> <a id="msg:72" class="idref" href="#msg:72"><span class="id" title="binder">msg</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="amount:73" class="idref" href="#amount:73"><span class="id" title="binder">amount</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#env:66"><span class="id" title="variable">env</span></a>.(<a class="idref" href="ConCert.Execution.Blockchain.html#env_account_balances"><span class="id" title="projection">env_account_balances</span></a>) <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caller_addr:71"><span class="id" title="variable">caller_addr</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0%<span class="id" title="var">Z</span> =&gt; <a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> 0%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">caller_balance</span> =&gt; <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#genToOpt"><span class="id" title="definition">genToOpt</span></a> (<span class="id" title="axiom">choose</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>0%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">caller_balance</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">build_act</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caller_addr:71"><span class="id" title="variable">caller_addr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caller_addr:71"><span class="id" title="variable">caller_addr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Examples.Congress.Congress.html#congress_action_to_chain_action"><span class="id" title="definition">congress_action_to_chain_action</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#cact_call"><span class="id" title="constructor">cact_call</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#contract_addr:70"><span class="id" title="variable">contract_addr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#amount:73"><span class="id" title="variable">amount</span></a> (<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#serializeMsg"><span class="id" title="definition">serializeMsg</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#msg:72"><span class="id" title="variable">msg</span></a>)))) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a id="congress_state:75" class="idref" href="#congress_state:75"><span class="id" title="binder">congress_state</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="axiom">returnGen</span> (<a class="idref" href="ConCert.Execution.Test.TestUtils.html#get_contract_state"><span class="id" title="definition">get_contract_state</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#State"><span class="id" title="record">Congress.State</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#env:66"><span class="id" title="variable">env</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a>) <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="members:76" class="idref" href="#members:76"><span class="id" title="binder">members</span></a> := <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">congress_state</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">.(</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">members</span></a><a class="idref" href="ConCert.Execution.Test.TestUtils.html#:::x_'o'_x"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="owner:77" class="idref" href="#owner:77"><span class="id" title="binder">owner</span></a> := <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#congress_state:75"><span class="id" title="variable">congress_state</span></a>.(<a class="idref" href="ConCert.Examples.Congress.Congress.html#owner"><span class="id" title="projection">owner</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#fuel:67"><span class="id" title="variable">fuel</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="axiom">backtrack</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;transfer_ownership&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a id="members:79" class="idref" href="#members:79"><span class="id" title="binder">members</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#elems_opt"><span class="id" title="definition">elems_opt</span></a> (<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#congressContractsMembers_nonowners"><span class="id" title="definition">congressContractsMembers_nonowners</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#congress_state:75"><span class="id" title="variable">congress_state</span></a>) <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="new_owner:80" class="idref" href="#new_owner:80"><span class="id" title="binder">new_owner</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#try_gNewOwner"><span class="id" title="definition">try_gNewOwner</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#congress_state:75"><span class="id" title="variable">congress_state</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#owner:77"><span class="id" title="variable">owner</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a><a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">)</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:74"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#owner:77"><span class="id" title="variable">owner</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#transfer_ownership"><span class="id" title="constructor">transfer_ownership</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#new_owner:80"><span class="id" title="variable">new_owner</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;change_rules&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a id="rules:81" class="idref" href="#rules:81"><span class="id" title="binder">rules</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#genToOpt"><span class="id" title="definition">genToOpt</span></a> (<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#gRulesSized"><span class="id" title="definition">gRulesSized</span></a> 4) <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:74"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#owner:77"><span class="id" title="variable">owner</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#change_rules"><span class="id" title="constructor">change_rules</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#rules:81"><span class="id" title="variable">rules</span></a>)<a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;add_member&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a id="addr:82" class="idref" href="#addr:82"><span class="id" title="binder">addr</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="axiom">returnGen</span> (<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#try_newCongressMember"><span class="id" title="definition">try_newCongressMember</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#congress_state:75"><span class="id" title="variable">congress_state</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> 10) <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:74"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#owner:77"><span class="id" title="variable">owner</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#add_member"><span class="id" title="constructor">add_member</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#addr:82"><span class="id" title="variable">addr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;remove_member&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a id="member:83" class="idref" href="#member:83"><span class="id" title="binder">member</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#elems_opt"><span class="id" title="definition">elems_opt</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members:76"><span class="id" title="variable">members</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:74"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#owner:77"><span class="id" title="variable">owner</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#remove_member"><span class="id" title="constructor">remove_member</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#member:83"><span class="id" title="variable">member</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;vote_for_proposal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Requirements:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;contract&nbsp;with&nbsp;a&nbsp;proposal&nbsp;and&nbsp;members&nbsp;must&nbsp;exist<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;only&nbsp;members&nbsp;which&nbsp;have&nbsp;not&nbsp;already&nbsp;voted&nbsp;can&nbsp;vote&nbsp;again&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#vote_proposal"><span class="id" title="definition">vote_proposal</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> (<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#lc_contract_members_and_proposals_new_voters"><span class="id" title="definition">lc_contract_members_and_proposals_new_voters</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#congress_state:75"><span class="id" title="variable">congress_state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:74"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#vote_for_proposal"><span class="id" title="constructor">vote_for_proposal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;vote_against_proposal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#vote_proposal"><span class="id" title="definition">vote_proposal</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> (<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#lc_contract_members_and_proposals_new_voters"><span class="id" title="definition">lc_contract_members_and_proposals_new_voters</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#congress_state:75"><span class="id" title="variable">congress_state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:74"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#vote_against_proposal"><span class="id" title="constructor">vote_against_proposal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;retract_vote&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#vote_proposal"><span class="id" title="definition">vote_proposal</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> (<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#lc_contract_members_and_proposals_with_votes"><span class="id" title="definition">lc_contract_members_and_proposals_with_votes</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#congress_state:75"><span class="id" title="variable">congress_state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:74"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.Congress.html#retract_vote"><span class="id" title="constructor">retract_vote</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;finish_proposal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Requirements:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;only&nbsp;contract&nbsp;owner&nbsp;can&nbsp;finish&nbsp;proposals<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;the&nbsp;debating&nbsp;period&nbsp;must&nbsp;have&nbsp;passed&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#9d6c3e66ed5a7d11a2cd0c5e68ec6163"><span class="id" title="notation">'</span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder">(</span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder">pid</span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder">,</span></a> <a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder">_</span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder">)</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#9d6c3e66ed5a7d11a2cd0c5e68ec6163"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#sampleFMapOpt"><span class="id" title="definition">sampleFMapOpt</span></a> (<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#finishable_proposals"><span class="id" title="definition">finishable_proposals</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#congress_state:75"><span class="id" title="variable">congress_state</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#env:66"><span class="id" title="variable">env</span></a>.(<a class="idref" href="ConCert.Execution.Blockchain.html#current_slot"><span class="id" title="projection">current_slot</span></a>)) <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#9d6c3e66ed5a7d11a2cd0c5e68ec6163"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:74"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#owner:77"><span class="id" title="variable">owner</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#finish_proposal"><span class="id" title="constructor">finish_proposal</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#pid:84"><span class="id" title="variable">pid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">fuel'</span> =&gt; <span class="id" title="axiom">backtrack</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#GCongressAction:69"><span class="id" title="definition">GCongressAction</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#env:66"><span class="id" title="variable">env</span></a> <span class="id" title="var">fuel'</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;add_proposal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;recurse.&nbsp;Msg&nbsp;is&nbsp;converted&nbsp;to&nbsp;a&nbsp;SerializedType&nbsp;using&nbsp;'serialize'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;makes&nbsp;it&nbsp;possible&nbsp;to&nbsp;create&nbsp;proposals&nbsp;about&nbsp;proposals&nbsp;about&nbsp;proposals&nbsp;etc...&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Note:&nbsp;currently&nbsp;we&nbsp;don't&nbsp;support&nbsp;having&nbsp;multiple&nbsp;actions&nbsp;in&nbsp;a&nbsp;proposal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Note:&nbsp;the&nbsp;way&nbsp;we&nbsp;recurse&nbsp;may&nbsp;be&nbsp;too&nbsp;restrictive&nbsp;-&nbsp;we&nbsp;fix&nbsp;a&nbsp;caddr,&nbsp;which&nbsp;may&nbsp;cause&nbsp;gCongressMember<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;return&nbsp;None&nbsp;even&nbsp;though&nbsp;it&nbsp;could&nbsp;have&nbsp;succeeded&nbsp;for&nbsp;another&nbsp;caddr.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maybe&nbsp;this&nbsp;is&nbsp;not&nbsp;a&nbsp;big&nbsp;issue,&nbsp;though.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="act:86" class="idref" href="#act:86"><span class="id" title="binder">act</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#GCongressAction:69"><span class="id" title="definition">GCongressAction</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#env:66"><span class="id" title="variable">env</span></a> <span class="id" title="var">fuel'</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="caller_addr:87" class="idref" href="#caller_addr:87"><span class="id" title="binder">caller_addr</span></a> := <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#act:86"><span class="id" title="variable">act</span></a>.(<a class="idref" href="ConCert.Execution.Blockchain.html#act_from"><span class="id" title="projection">act_from</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#act:86"><span class="id" title="variable">act</span></a>.(<a class="idref" href="ConCert.Execution.Blockchain.html#act_body"><span class="id" title="projection">act_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Blockchain.html#act_call"><span class="id" title="constructor">act_call</span></a> <span class="id" title="var">caddr</span> <span class="id" title="var">amount</span> <span class="id" title="var">msg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="member:88" class="idref" href="#member:88"><span class="id" title="binder">member</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#elems_opt"><span class="id" title="definition">elems_opt</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#members:76"><span class="id" title="variable">members</span></a> <a class="idref" href="https://coq-community.org/coq-ext-lib/v0.11.7/ExtLib.Structures.Monad.html#b6e01f6dc1271ceaf89c61d9a4b57ac8"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ca:89" class="idref" href="#ca:89"><span class="id" title="binder">ca</span></a> := <a class="idref" href="ConCert.Examples.Congress.Congress.html#cact_call"><span class="id" title="constructor">cact_call</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> <span class="id" title="var">amount</span> <span class="id" title="var">msg</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#call:74"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#caddr:68"><span class="id" title="variable">caddr</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#member:88"><span class="id" title="variable">member</span></a> (<a class="idref" href="ConCert.Examples.Congress.Congress.html#create_proposal"><span class="id" title="constructor">create_proposal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#ca:89"><span class="id" title="variable">ca</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> <a class="idref" href="ConCert.Examples.Congress.tests.CongressGens.html#act:86"><span class="id" title="variable">act</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="https://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
      const mainDiv = document.getElementById("main");
      mainDiv.classList.add("jstoc-hidden-main");
      const toggleDiv = document.getElementById("toggle-toc");
      toggleDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
